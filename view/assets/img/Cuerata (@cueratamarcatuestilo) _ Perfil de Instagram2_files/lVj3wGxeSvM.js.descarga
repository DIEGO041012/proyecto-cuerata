;/*FB_PKG_DELIM*/

__d("PolarisAudioProgressBar.react",["cx","IGDSBox.react","PolarisIGCoreText","PolarisTimeConverter","react","usePolarisEventListener"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useCallback,l=b.useRef,m=b.useState;function a(a){var b=a.audio,e=a.isDisabled,f=a.onAudioEnded,g=l(null),h=l(!1),i=l(0);a=m("0:00");var n=a[0],o=a[1];a=m("0%");var p=a[0],q=a[1],r=function(a){if(a.type==="mousedown"||a.type==="mousemove"||a.type==="mouseup")return a.clientX;else if(a.type==="touchstart"||a.type==="touchmove")return a.touches[0].clientX;return 0},s=k(function(a){if(b==null)return;var c=d("PolarisTimeConverter").convertMillisecondsToMinutesAndSeconds(a*1e3);o(c);q((a/b.duration*100).toFixed(2)+"%")},[b]),t=function(a){if(b==null)return 0;var c=g.current;if(!c)return 0;c=c.getBoundingClientRect();var d=c.width;a=r(a)-c.left;a<0?a=0:a>d&&(a=d);return a/d*b.duration};a=function(a){if(b==null)return;a.stopPropagation();h.current=!0;var c=t(a);s(c);i.current=c;a.type==="mousedown"?(window.addEventListener("mousemove",u),window.addEventListener("mouseup",v)):a.type==="touchstart"&&(window.addEventListener("touchmove",u,{passive:!1}),window.addEventListener("touchend",v))};var u=function(a){if(b==null)return;a.cancelable&&a.preventDefault();a.stopPropagation();if(h.current===!0){a=t(a);s(a);i.current=a}},v=function a(c){if(b==null)return;h.current=!1;b.currentTime=i.current;c.type==="mouseup"?(window.removeEventListener("mousemove",u),window.removeEventListener("mouseup",a)):c.type==="touchend"&&(window.removeEventListener("touchmove",u),window.removeEventListener("touchend",a))},w=function(){b&&h.current===!1&&s(b.currentTime)},x=function(){b&&h.current===!1&&(f(),b.currentTime=0)};c("usePolarisEventListener")(b,"timeupdate",w);c("usePolarisEventListener")(b,"ended",x);return j.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",flex:"grow",position:"relative",children:[j.jsx(c("IGDSBox.react"),{flex:"grow",paddingX:5,position:"relative",children:j.jsxs("div",{className:"_aa9u"+(e?" _aa9v":""),dir:"ltr",onMouseDown:e?void 0:a,onTouchStart:e?void 0:a,ref:g,role:"progressbar",tabIndex:0,children:[j.jsx("div",{className:"_aa9w",style:{width:p}}),j.jsx("div",{className:"_aa9x"+(e?" _aa9y":""),style:{left:p}})]})}),j.jsx(c("IGDSBox.react"),{position:"relative",width:36,children:j.jsx(c("PolarisIGCoreText"),{color:e?"ig-secondary-text":"ig-primary-text",size:"footnote",textAlign:"left",children:n})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisAudioPlayer.react",["IGDSBox.react","IGDSIconButton.react","IGDSPlayPanoFilledIcon","IGDSWebPauseFilledIcon","PolarisAudioProgressBar.react","PolarisClipsActions","PolarisGenericStrings","PolarisReactRedux","polarisClipsSelectors","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useRef,l=b.useState;function a(a){var b=a.isDisabled;a=a.src;var e=k(null),f=l(!1);f[0];var g=f[1],h=d("PolarisReactRedux").useDispatch(),m=d("PolarisReactRedux").useSelector(function(a){return d("polarisClipsSelectors").getIsAudioPlayerPlaying(a)});j(function(){var a=e.current;a&&!a.paused&&m===!1&&a.pause()},[m]);f=b?"ig-secondary-text":"ig-primary-text";var n=function(a){a.stopPropagation();a=e.current;a&&(a.paused&&a.src?(a.play(),h(d("PolarisClipsActions").updateAudioPageAudioPlayerIsPlaying(!0))):a.paused||(a.pause(),h(d("PolarisClipsActions").updateAudioPageAudioPlayerIsPlaying(!1))))};j(function(){g(e.current!=null)},[e]);return i.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",flex:"grow",position:"relative",children:[i.jsx("audio",{autoPlay:!1,controls:!1,ref:e,src:a}),i.jsx(c("IGDSIconButton.react"),{isDisabled:b,onClick:b?function(){}:n,padding:0,children:m?i.jsx(c("IGDSWebPauseFilledIcon"),{alt:d("PolarisGenericStrings").ASSISTIVE_TEXT_PAUSE_BUTTON,color:f,size:12}):i.jsx(c("IGDSPlayPanoFilledIcon"),{alt:d("PolarisGenericStrings").ASSISTIVE_TEXT_PLAY_BUTTON,color:f,size:12})}),i.jsx(c("PolarisAudioProgressBar.react"),{audio:e.current,isDisabled:b,onAudioEnded:function(){h(d("PolarisClipsActions").updateAudioPageAudioPlayerIsPlaying(!1))}})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisUnknownTextString",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";a=h._("__JHASH__3rTvwnxBZEp__JHASH__");g.UNKNOWN_TEXT=a}),98);
__d("PolarisClipsPageInfoLayout.react",["IGDSBox.react","IGDSText.react","PolarisUnknownTextString","PolarisUserLink.react","react","usePolarisIsNarrowScreen"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.children,e=a.formattedMediaCount,f=a.itemArtistDisplayName,g=a.itemArtistUsername,h=a.itemImage,j=a.itemName,k=a.showItemArtistUsername;k=k===void 0?!0:k;a=a.thirdPartyAppProfile;a=a===void 0?null:a;var l=c("usePolarisIsNarrowScreen")(),m=a!=null;return i.jsxs(c("IGDSBox.react"),{direction:"column",marginBottom:l?0:8,padding:l?4:0,position:"relative",width:"100%",children:[i.jsxs(c("IGDSBox.react"),{direction:"row",position:"relative",children:[h,i.jsxs(c("IGDSBox.react"),{alignItems:"start",direction:"column",marginStart:l?4:9,marginTop:1,position:"relative",children:[i.jsx(c("IGDSBox.react"),{alignItems:"center",position:"relative",children:i.jsx(c("IGDSText.react"),{size:l?"label":"title",weight:l?"semibold":"normal",children:j})}),(h=k)!=null?h:i.jsx(c("IGDSBox.react"),{marginTop:l?4:6,position:"relative",children:i.jsx(c("IGDSText.react"),{size:l?"body":"label",weight:"semibold",children:g!=null?i.jsx(c("PolarisUserLink.react"),{color:"ig-primary-text",username:g}):(j=f)!=null?j:d("PolarisUnknownTextString").UNKNOWN_TEXT})}),m&&i.jsx(c("IGDSBox.react"),{marginTop:l?2:5,position:"relative",children:a}),i.jsx(c("IGDSBox.react"),{marginTop:l?2:5,position:"relative",children:i.jsx(c("IGDSText.react"),{size:l?"footnote":"label",weight:"light",children:e})}),!l&&i.jsx(c("IGDSBox.react"),{maxWidth:"100%",minWidth:"50%",position:"relative",width:360,children:b})]})]}),l&&i.jsx(c("IGDSBox.react"),{position:"relative",width:"100%",children:b})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisClipsPagePhoto.react",["fbt","PolarisPhoto.react","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react"),l={image:{alignItems:"x1qjc9v5",borderTopWidth:"x972fbf",borderEndWidth:"xcfux6l",borderBottomWidth:"x1qhh985",borderStartWidth:"xm0m39n",boxSizing:"x9f619",display:"x78zum5",flexDirection:"xdt5ytf",flexShrink:"x2lah0s",fontSize:"xk390pu",height:"x18dl8mb",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",overflowX:"x6ikm8r",overflowY:"x10wlt62",paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd",position:"x1n2onr6",verticalAlign:"x11njtxf",width:"xrostsh","@media (max-width: 735px)_height":"x1rrdvvk","@media (max-width: 735px)_width":"x1tgtcet",$$css:!0}};function a(a){var b=a.itemThumbnail;a=a.xstyle;return k.jsx("div",{className:(i||(i=c("stylex")))(l.image,a),children:k.jsx(c("PolarisPhoto.react"),{accessibilityCaption:h._("__JHASH__S-VZl7blJQQ__JHASH__"),setCrossOriginToUndefinedDONOTUSE:!0,src:b})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisClipsAudioPageInfo.react",["fbt","IGDSBox.react","IGDSButton.react","PolarisAudioPlayer.react","PolarisClipsPageInfoLayout.react","PolarisClipsPagePhoto.react","PolarisConfig","PolarisNavigationActions","PolarisReactRedux","PolarisUA","Run","browserHistory","polarisClipsSelectors","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useEffect,l=b.useState,m={audioImage:{borderTopStartRadius:"xyi19xy",borderTopEndRadius:"x1ccrb07",borderBottomEndRadius:"xtf3nb5",borderBottomStartRadius:"x1pc53ja",$$css:!0}};function a(a){var b,e=a.audioID,f=a.bookmarkAudio,g=a.formattedMediaCount,i=a.isBookmarked,n=a.metadata,o=a.unbookmarkAudio,p=(n==null?void 0:(a=n.music_info)==null?void 0:(a=a.music_asset_info)==null?void 0:a.cover_artwork_uri)||(n==null?void 0:(a=n.original_sound_info)==null?void 0:(a=a.ig_artist)==null?void 0:a.profile_pic_url);a=(a=n==null?void 0:(a=n.music_info)==null?void 0:(a=a.music_consumption_info)==null?void 0:(a=a.ig_artist)==null?void 0:a.username)!=null?a:n==null?void 0:(a=n.original_sound_info)==null?void 0:(a=a.ig_artist)==null?void 0:a.username;n=(b=(b=n==null?void 0:(b=n.music_info)==null?void 0:(b=b.music_asset_info)==null?void 0:b.web_30s_preview_download_url)!=null?b:n==null?void 0:(b=n.music_info)==null?void 0:(b=b.music_asset_info)==null?void 0:b.progressive_download_url)!=null?b:n==null?void 0:(b=n.original_sound_info)==null?void 0:b.progressive_download_url;b=l(i);i=b[0];var q=b[1];b=l(null);var r=b[0],s=b[1];b=l(null);var t=b[0],u=b[1];b=d("PolarisReactRedux").useSelector(d("polarisClipsSelectors").getSongName(e));var v=d("PolarisReactRedux").useSelector(d("polarisClipsSelectors").getSongArtistDisplayName(e)),w=d("PolarisReactRedux").useSelector(function(a){return d("polarisClipsSelectors").getBookmarkInfo(a,e)}),x=w.bookmarkError,y=w.isBookmarked,z=w.isUpdatingBookmark,A=d("PolarisReactRedux").useDispatch();k(function(){if(t!=null&&t!==r&&!z){var a=t==="bookmark"?f:o;a();s(t);u(null)}},[r,t,z,f,o]);k(function(){var a=d("Run").onBeforeUnload(function(){if(t!=null&&t!==r){var a=t==="bookmark"?f:o;a()}},!1);return function(){return a.remove()}},[t,r,f,o]);x&&y!==i&&q(y);if(p==null||b==null||a==null&&v==null)return null;w=j.jsx(c("PolarisAudioPlayer.react"),{isDisabled:n==null,src:n});x=i?j.jsx(c("IGDSButton.react"),{label:h._("__JHASH__KIBnuYB3pxh__JHASH__"),onClick:function(){u("unbookmark"),q(!1)},variant:"secondary"}):j.jsx(c("IGDSButton.react"),{label:h._("__JHASH__XdN9uzNGRyw__JHASH__"),onClick:function(){d("PolarisConfig").isLoggedIn()?(u("bookmark"),q(!0)):d("PolarisUA").isDesktop()?A(d("PolarisNavigationActions").openLoginModal("feature_wall",d("browserHistory").browserHistory.location.pathname,"clips_save_audio")):A(d("PolarisNavigationActions").openLoggedOutIntentDialog("clips_save_audio",null,p))},variant:"secondary"});y=j.jsx(c("PolarisClipsPagePhoto.react"),{itemThumbnail:p,xstyle:m.audioImage});n=j.jsxs(c("IGDSBox.react"),{position:"relative",children:[j.jsx(c("IGDSBox.react"),{marginTop:5,position:"relative",children:x}),j.jsx(c("IGDSBox.react"),{marginTop:8,position:"relative",children:w})]});return j.jsx(c("PolarisClipsPageInfoLayout.react"),{formattedMediaCount:g,itemArtistDisplayName:v,itemArtistUsername:a,itemImage:y,itemName:b,children:n})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisClipsPageBlockedMessage.react",["IGDSBox.react","IGDSText.react","PolarisExternalLink.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){a=a.clipsPageRestrictedContext;return i.jsxs(c("IGDSBox.react"),{alignItems:"center",height:"90%",justifyContent:"center",position:"relative",children:[(a==null?void 0:a.text)!=null&&i.jsx(c("IGDSText.react"),{textAlign:"center",children:a.text}),(a==null?void 0:a.link)!=null&&(a==null?void 0:a.link_text)!=null&&i.jsx(c("IGDSBox.react"),{marginTop:6,position:"relative",children:i.jsx(c("PolarisExternalLink.react"),{href:a.link,children:i.jsx(c("IGDSText.react"),{weight:"semibold",children:a.link_text})})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisClipsPageLayout.react",["cx","IGDSBox.react","IGDSText.react","PolarisUA","react","usePolarisIsNarrowScreen"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=a.children,e=a.isAppPage;e=e===void 0?!1:e;var f=a.metadata;a=a.pageTitle;var g=c("usePolarisIsNarrowScreen")();return j.jsx("div",{className:"_add1",children:j.jsxs(c("IGDSBox.react"),{direction:"column",height:"100%",position:"relative",width:"100%",children:[!d("PolarisUA").isMobile()&&(f!=null||e)&&j.jsx(c("IGDSBox.react"),{marginBottom:g?3:7,marginTop:g?4:0,paddingX:g?4:0,position:"relative",children:j.jsx(c("IGDSText.react").Headline2,{children:a})}),b]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("polarisGetTitleForAudio",["fbt","qex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=h._("__JHASH__Sb38qlYLMrz__JHASH__");function a(a){if(a==null)return i;var b=k(a);a=j(a);if(!b||!a)return i;var d=c("qex")._("837");if(d==="artist_and_song_title")return h._("__JHASH__CKE_lhAik8L__JHASH__",[h._param("artist_name",b),h._param("song_title",a)]);else return i}function j(a){var b;return(a=(b=a==null?void 0:(b=a.music_info)==null?void 0:(b=b.music_asset_info)==null?void 0:b.title)!=null?b:a==null?void 0:(b=a.original_sound_info)==null?void 0:b.original_audio_title)!=null?a:""}function k(a){var b;return(b=(b=a==null?void 0:(b=a.music_info)==null?void 0:(b=b.music_asset_info)==null?void 0:b.display_artist)!=null?b:a==null?void 0:(b=a.original_sound_info)==null?void 0:(a=b.ig_artist)==null?void 0:a.full_name)!=null?b:""}g["default"]=a}),98);
__d("PolarisClipsAudioPage.react",["IGDSDialogBackwardsCompatibilityWrapper.react","PolarisAsyncEntityQRModal","PolarisClipsActions","PolarisClipsAudioPageInfo.react","PolarisClipsGrid.react","PolarisClipsLogger","PolarisClipsPageBlockedMessage.react","PolarisClipsPageLayout.react","PolarisConfig","PolarisGenericMobileHeader.react","PolarisHttp404Page.react","PolarisPageMetadata.react","PolarisReactRedux","PolarisShell.react","polarisClipsSelectors","polarisGetTitleForAudio","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useState,k="ClipsAudioPage";function a(a){var b,e,f=a.audioID;a=a.showQRModal;var g=d("PolarisReactRedux").useDispatch();a=j(a);var h=a[0],l=a[1];a=d("PolarisReactRedux").useSelector(function(a){return d("polarisClipsSelectors").getClipsInfoFromAudioId(a,f)});var m=a.clips,n=a.formattedMediaCount,o=a.isBookmarked,p=a.isMusicPageRestricted,q=a.metadata,r=a.musicPageRestrictedContext,s=a.pagingInfo;a=a.shouldDisableFetching;var t=d("PolarisReactRedux").useSelector(function(a){return d("polarisClipsSelectors").getIsAudioPlayerPlaying(a)}),u=function(a){g(d("PolarisClipsActions").fetchClipsForAudioPage(f,s==null?void 0:s.cursor))},v=(q==null?void 0:q.music_info)!=null?"music":"original_sound",w=(b=q==null?void 0:(b=q.music_info)==null?void 0:(b=b.music_asset_info)==null?void 0:b.audio_asset_id)!=null?b:q==null?void 0:(b=q.original_sound_info)==null?void 0:b.audio_asset_id;b=function(){g(d("PolarisClipsActions").bookmarkAudio(f,w,v))};var x=function(){g(d("PolarisClipsActions").unbookmarkAudio(f,w,v))},y=function(a){t&&g(d("PolarisClipsActions").updateAudioPageAudioPlayerIsPlaying(!1)),d("PolarisClipsLogger").logClipsAudioPageMediaOpen({mediaID:a,pageID:f,userID:d("PolarisConfig").getViewerId()})},z=(s==null?void 0:s.isFetching)===!1&&(q==null?void 0:q.music_info)==null&&(q==null?void 0:q.original_sound_info)==null;e=(q==null?void 0:(e=q.music_info)==null?void 0:(e=e.music_consumption_info)==null?void 0:e.should_mute_audio)===!0||(q==null?void 0:(e=q.original_sound_info)==null?void 0:e.should_mute_audio)===!0;z=z||e;e=p===!0?i.jsx(c("PolarisClipsPageBlockedMessage.react"),{clipsPageRestrictedContext:r}):i.jsxs("div",{children:[n!=null&&q!=null&&o!=null&&i.jsx(c("PolarisClipsAudioPageInfo.react"),{audioID:f,bookmarkAudio:b,formattedMediaCount:n,isBookmarked:o,metadata:q,unbookmarkAudio:x}),i.jsx(c("PolarisClipsGrid.react"),{analyticsContext:k,clips:m,fetchClips:u,hasNextPage:s==null?void 0:s.moreAvailable,isFetching:s==null?void 0:s.isFetching,onModalOpen:y,shouldDisableFetching:a})]});if(z)return i.jsx(c("PolarisHttp404Page.react"),{});p=c("polarisGetTitleForAudio")(q);return i.jsxs(c("PolarisShell.react"),{mobileHeader:i.jsx(c("PolarisGenericMobileHeader.react"),{title:p}),pageIdentifier:k,children:[i.jsx(c("PolarisPageMetadata.react"),{id:k,title:p}),i.jsx(c("PolarisClipsPageLayout.react"),{children:e,metadata:q,pageTitle:p}),h&&i.jsx(c("IGDSDialogBackwardsCompatibilityWrapper.react"),{children:i.jsx(c("PolarisAsyncEntityQRModal"),{entityID:f,onClose:function(){return l(!1)},source:"DIRECT_NAVIGATION"})})]})}a.displayName=a.name+" [from "+f.id+"]";g.PAGE_ID=k;g.ClipsAudioPage=a}),98);
__d("PolarisClipsAudioRoot.react",["PolarisClipsAudioPage.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){a=a.props;var b=a.routeParams.audio_id;a=a.routeProps.show_qr_modal;return i.jsx(d("PolarisClipsAudioPage.react").ClipsAudioPage,{audioID:b,showQRModal:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);