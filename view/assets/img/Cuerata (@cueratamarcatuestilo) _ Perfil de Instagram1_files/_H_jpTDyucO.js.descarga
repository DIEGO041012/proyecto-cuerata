;/*FB_PKG_DELIM*/

__d("LSAddMessengerContact",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return d[0]=new c.Map(),d[0].set("contact_id",a[0]),d[1]=c.toJSON(d[0]),c.sp(b("LSIssueNewTask"),"add_messenger_contact",c.i64.cast([0,308]),d[1],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSAddMessengerContactStoredProcedure",["LSAddMessengerContact"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.contactId;return c("LSAddMessengerContact").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSForceImmediateSync",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return c[0]=b.i64.of_float(Date.now()),b.fe(b.db.table(1).fetch([[[a[0]]]]),function(a){var b=a.update;a.item;return b({minTimeToSyncTimestampMs:c[0]})})},function(a){return b.resolve(d)}])}b=a;f["default"]=b}),66);
__d("LSForceImmediateSyncStoredProcedure",["LSForceImmediateSync"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.dbType;return c("LSForceImmediateSync").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSCustomUpdateMuteManagement",["LSGetViewerFBID","LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(a){return c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[0]=a[0],a})},function(e){return d[1]=new c.Map(),d[1].set("game_id",a[1]),d[1].set("muted_user_id",a[0]),d[1].set("owner_id",d[0]),d[1].set("user_action_type",a[2]),d[2]=c.toJSON(d[1]),c.sp(b("LSIssueNewTask"),"instant_game_custom_update_mute_management",c.i64.cast([0,759]),d[2],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]),c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSCustomUpdateMuteManagementStoredProcedure",["LSCustomUpdateMuteManagement"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.mutedUserId;d[1]=b.gameId;d[2]=b.userActionType;return c("LSCustomUpdateMuteManagement").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSFetchMessageSeenCount",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return d[0]=new c.Map(),d[0].set("thread_id",a[0]),d[0].set("message_id",a[1]),d[1]=d[0].get("thread_id"),d[0],d[2]=c.toJSON(d[0]),c.sp(b("LSIssueNewTask"),["cm_message_seen_count",c.i64.to_string(d[1])].join(""),c.i64.cast([0,540]),d[2],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSFetchMessageSeenCountStoredProcedure",["LSFetchMessageSeenCount"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.threadKey;d[1]=b.messageId;return c("LSFetchMessageSeenCount").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSIssueCommunityAdminModerationActionsFetch",["LSIssueNewTaskAndGetTaskID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(e){return d[0]=new c.Map(),d[0].set("fb_group_id",a[0]),d[0].set("target_user_id",a[1]),d[0].set("source",a[2]),d[0].set("thread_id",a[3]),d[0].set("request_id",a[4]),c.i64.gt(c.i64.cast([0,0]),c.i64.cast([0,0]))?(d[5]=c.i64.of_float(Date.now()),d[1]=c.i64.add(d[5],c.i64.cast([0,0]))):d[1]=c.i64.cast([0,0]),d[2]=d[0].get("fb_group_id"),d[0],d[3]=c.toJSON(d[0]),c.sp(b("LSIssueNewTaskAndGetTaskID"),c.i64.to_string(d[2]),c.i64.cast([0,428]),d[3],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,d[1],c.i64.cast([0,0])).then(function(a){return a=a,d[4]=a[0],a})},function(a){return e[0]=d[4]}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSLocalApplyOptimisticMessageWithAttachments",["LSArrayGetObjectAt","LSLocalApplyOptimisticMessage","LSSetMessageDisplayedContentTypes"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(e){return c.sp(b("LSLocalApplyOptimisticMessage"),a[0],a[1],a[2],a[3],a[4],a[5],a[6],f,a[7],a[8],a[9],a[10],f,a[12],!0).then(function(a){return a=a,d[0]=a[0],d[1]=a[1],a})},function(e){return d[2]=c.i64.of_int32(a[11].length),c.i64.gt(d[2],c.i64.cast([0,0]))?c.loopAsync(d[2],function(e){return d[3]=e,c.seq([function(e){return c.ntop("Array",b("LSArrayGetObjectAt"),a[11],d[3]).then(function(a){return a=a,d[4]=a[0],d[5]=a[1],a})},function(b){return d[6]=d[4].get("attachment_fbid"),d[4],d[7]=d[4].get("offline_attachment_id"),d[4],d[8]=d[4].get("attachment_type"),d[4],d[9]=d[4].get("filename"),d[4],d[10]=d[4].get("filesize"),d[4],d[11]=d[4].get("attachment_index"),d[4],d[12]=d[4].get("has_media"),d[4],d[13]=d[4].get("has_xma"),d[4],d[14]=d[4].get("playable_url"),d[4],d[15]=d[4].get("playable_url_mime_type"),d[4],d[16]=d[4].get("playable_duration_ms"),d[4],d[17]=d[4].get("preview_url"),d[4],d[18]=d[4].get("preview_url_mime_type"),d[4],d[19]=d[4].get("mini_preview"),d[4],d[20]=d[4].get("preview_width"),d[4],d[21]=d[4].get("preview_height"),d[4],d[22]=d[4].get("xma_layout_type"),d[4],d[23]=d[4].get("xmas_template_type"),d[4],d[24]=d[4].get("cta1_title"),d[4],d[25]=d[4].get("cta2_title"),d[4],d[26]=d[4].get("cta3_title"),d[4],d[27]=d[4].get("image_url"),d[4],d[28]=d[4].get("action_url"),d[4],d[29]=d[4].get("title_text"),d[4],d[30]=d[4].get("subtitle_text"),d[4],d[31]=d[4].get("description_text"),d[4],d[32]=d[4].get("source_text"),d[4],d[33]=d[4].get("original_file_hash"),d[4],d[34]=d[4].get("sound_bite_client_sound_key"),d[4],d[35]=d[4].get("sound_bite_visual"),d[4],d[36]=d[4].get("ephemeral_media_state"),d[4],c.ftr(c.db.table(16).fetch([[[a[1],d[0],d[6]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&b.messageId===d[0]&&b.attachmentFbid===d[6]&&c.i64.gt(b.authorityLevel,c.i64.cast([0,20]))}).next().then(function(b){var e=b.done;b.value;return e?c.db.table(16).put({threadKey:a[1],messageId:d[0],attachmentFbid:d[6],timestampMs:d[1],offlineAttachmentId:d[7],attachmentType:d[8],filename:d[9],filesize:d[10],attachmentIndex:d[11],hasMedia:d[12],hasXma:d[13],isSharable:!1,playableUrl:d[14],playableUrlMimeType:d[15],playableDurationMs:d[16],previewUrl:d[17],previewUrlMimeType:d[18],miniPreview:d[19],previewWidth:d[20],previewHeight:d[21],xmaLayoutType:d[22],xmasTemplateType:d[23],cta1Title:d[24],cta2Title:d[25],cta3Title:d[26],imageUrl:d[27],actionUrl:d[28],titleText:d[29],subtitleText:d[30],descriptionText:d[31],sourceText:d[32],ephemeralMediaState:d[36],originalFileHash:d[33],authorityLevel:c.i64.cast([0,20])}):0})}])}):c.resolve()},function(e){return d[2]=c.i64.of_int32(a[11].length),c.i64.gt(d[2],c.i64.cast([0,0]))?c.sp(b("LSSetMessageDisplayedContentTypes"),a[1],d[0],d[1],a[3],!1,c.i64.neq(a[6],f)):c.resolve()},function(a){return a=[d[0],d[1]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSLocalApplyOptimisticMessageWithAttachmentsStoredProcedure",["LSLocalApplyOptimisticMessageWithAttachments"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.senderId;d[1]=b.threadKey;d[2]=b.threadType;d[3]=b.text;d[4]=b.snippet;d[5]=b.snippetHasEmoji;d[6]=b.stickerId;d[7]=b.replySourceId;d[8]=b.replySourceType;d[9]=b.replySourceTypeV2;d[10]=b.isForwarded;d[11]=b.attachments;d[12]=b.mentionData;return c("LSLocalApplyOptimisticMessageWithAttachments").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSMessagePointQuery",["LSIssueNewTask","LSVerifyThreadRowExists"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.ftr(c.db.table(12).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&b.messageId===a[1]}).next().then(function(e,g){var h=e.done;e=e.value;return h?c.seq([function(d){return c.sp(b("LSVerifyThreadRowExists"),a[0],a[2],c.i64.cast([0,1]))},function(b){return c.db.table(13).add({threadKey:a[0],minTimestampMs:c.i64.cast([0,0]),minMessageId:a[1],maxTimestampMs:c.i64.cast([0,0]),maxMessageId:a[1],isLoadingBefore:!0,isLoadingAfter:!1,hasMoreBefore:!1,hasMoreAfter:!1})},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(b,e){var a=b.done;b=b.value;return a?d[1]=c.i64.cast([0,1]):(e=b.item,d[7]=e.syncGroup,c.i64.neq(d[7],f)?d[6]=d[7]:d[6]=c.i64.cast([0,1]),d[1]=d[6])})},function(e){return d[3]=new c.Map(),d[3].set("thread_key",a[0]),d[3].set("message_id",a[1]),d[3].set("sync_group",d[1]),d[3].set("num_context_messages",a[3]),d[4]=d[3].get("thread_key"),d[3],d[5]=c.toJSON(d[3]),c.sp(b("LSIssueNewTask"),c.i64.to_string(d[4]),c.i64.cast([0,19]),d[5],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]),c.i64.cast([0,0]))}]):(g=e.item,d[1]=g.timestampMs,c.ftr(c.db.table(13).fetch([[[a[0],{lte:d[1]}]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.le(b.minTimestampMs,d[1])&&c.i64.ge(b.maxTimestampMs,d[1])}).next().then(function(g){var e=g.done;g.value;return e?c.seq([function(b){return c.db.table(13).add({threadKey:a[0],minTimestampMs:c.i64.cast([0,0]),minMessageId:a[1],maxTimestampMs:c.i64.cast([0,0]),maxMessageId:a[1],isLoadingBefore:!0,isLoadingAfter:!1,hasMoreBefore:!1,hasMoreAfter:!1})},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(b,e){var a=b.done;b=b.value;return a?d[2]=c.i64.cast([0,1]):(e=b.item,d[8]=e.syncGroup,c.i64.neq(d[8],f)?d[7]=d[8]:d[7]=c.i64.cast([0,1]),d[2]=d[7])})},function(e){return d[4]=new c.Map(),d[4].set("thread_key",a[0]),d[4].set("message_id",a[1]),d[4].set("sync_group",d[2]),d[4].set("num_context_messages",a[3]),d[5]=d[4].get("thread_key"),d[4],d[6]=c.toJSON(d[4]),c.sp(b("LSIssueNewTask"),c.i64.to_string(d[5]),c.i64.cast([0,19]),d[6],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]),c.i64.cast([0,0]))}]):0}))})},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSOptimisticEditMessage",["LSEditMessage","LSIssueNewTaskAndGetTaskID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.db.table(12).fetch([[[a[0]]],"messageId"]).next().then(function(e,g){var h=e.done;e=e.value;return h?0:(g=e.item,d[2]=g.editCount,d[1]=c.i64.of_float(Date.now()),c.i64.lt(d[2]==null?c.i64.cast([0,0]):d[2],c.i64.cast([0,5]))&&c.i64.le(d[1],c.i64.add(g.timestampMs,c.i64.cast([0,9e5])))?c.seq([function(e){return c.sp(b("LSEditMessage"),g.messageId,c.i64.cast([0,20]),a[1],c.i64.add(d[2]==null?c.i64.cast([0,0]):d[2],c.i64.cast([0,1])))},function(e){return d[3]=new c.Map(),d[3].set("message_id",a[0]),d[3].set("text",a[1]),c.i64.gt(c.i64.cast([0,0]),c.i64.cast([0,0]))?(d[7]=c.i64.of_float(Date.now()),d[4]=c.i64.add(d[7],c.i64.cast([0,0]))):d[4]=c.i64.cast([0,0]),d[5]=c.toJSON(d[3]),c.sp(b("LSIssueNewTaskAndGetTaskID"),"edit_message",c.i64.cast([0,742]),d[5],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,d[4],c.i64.cast([0,0])).then(function(a){return a=a,d[6]=a[0],a})},function(a){return f!==f?(d[7]=c.i64.of_float(Date.now()),c.fe(c.db.table(2).fetch([[[d[6]]]]),function(a){var b=a.update;a.item;return b({dataTraceId:f,initTraceTimestampMs:d[7]})})):c.resolve()}]):c.resolve(f!==f?0:0))})},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSOptimisticEditMessageStoredProcedure",["LSOptimisticEditMessage"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.messageId;d[1]=b.text;return c("LSOptimisticEditMessage").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSOptimisticMarkThreadReadV2StoredProcedure",["LSOptimisticMarkThreadReadV2"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.threadKey;d[1]=b.readWatermarkTimestampMs;return c("LSOptimisticMarkThreadReadV2").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSOptimisticSendMessage",["LSAppendDataTraceAddon.nop","LSInsertOptimisticAttachment","LSIssueNewTaskWithExtraOperationsAndGetTaskID","LSLocalApplyOptimisticMessage","LSLogEventAnnotate.nop","LSOptimisticMarkThreadReadV2","LSPredefineTraceForTask","LSUpdateOptimisticAttachmentPreview"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(e){return c.sp(b("LSLocalApplyOptimisticMessage"),a[0],a[1],a[2],a[4],a[5],a[6],a[7],a[8],a[14],a[15],a[16],a[17],a[18],a[19],a[21]).then(function(a){return a=a,d[0]=a[0],d[1]=a[1],a})},function(e){return d[12]=a[9]===""?f:a[9],d[12]!==f?c.seq([function(e){return c.sp(b("LSInsertOptimisticAttachment"),a[1],d[1],d[0],d[0],d[0],c.i64.cast([0,3]),d[12],a[10],!0,!1)},function(e){return a[22]?d[13]=!1:d[13]=!0,d[13]?c.resolve():(d[14]=a[22].get("playable_url"),a[22],d[15]=a[22].get("playable_url_fallback"),a[22],d[16]=a[22].get("playable_url_expiration_timestamp_ms"),a[22],d[17]=a[22].get("playable_url_mime_type"),a[22],d[18]=a[22].get("preview_url"),a[22],d[19]=a[22].get("preview_url_fallback"),a[22],d[20]=a[22].get("preview_url_expiration_timestamp_ms"),a[22],d[21]=a[22].get("preview_url_mime_type"),a[22],d[22]=a[22].get("preview_width"),a[22],d[23]=a[22].get("preview_height"),a[22],d[24]=a[22].get("image_url"),a[22],d[25]=a[22].get("image_url_fallback"),a[22],d[26]=a[22].get("image_url_expiration_timestamp_ms"),a[22],d[27]=a[22].get("image_url_mime_type"),a[22],c.sp(b("LSUpdateOptimisticAttachmentPreview"),a[1],d[0],d[0],d[14],d[15],d[16],d[17],d[18],d[19],d[20],d[21],d[22],d[23]))},function(a){return d[2]=c.i64.cast([0,7])}]):c.seq([function(e){return c.i64.neq(a[7],f)?c.seq([function(e){return c.i64.neq(a[7],c.i64.cast([53057,267535043]))&&c.i64.neq(a[7],c.i64.cast([85970,924785702]))&&c.i64.neq(a[7],c.i64.cast([85970,1004785694]))&&c.i64.neq(a[7],c.i64.cast([85970,1044785690]))?c.seq([function(e){return d[15]=c.i64.to_string(a[7]),c.sp(b("LSInsertOptimisticAttachment"),a[1],d[1],d[0],c.i64.to_string(a[7]),d[15],c.i64.cast([0,1]),f,f,!0,!1)},function(e){return a[22]?d[14]=!1:d[14]=!0,d[14]?c.resolve():(d[16]=a[22].get("playable_url"),a[22],d[17]=a[22].get("playable_url_fallback"),a[22],d[18]=a[22].get("playable_url_expiration_timestamp_ms"),a[22],d[19]=a[22].get("playable_url_mime_type"),a[22],d[20]=a[22].get("preview_url"),a[22],d[21]=a[22].get("preview_url_fallback"),a[22],d[22]=a[22].get("preview_url_expiration_timestamp_ms"),a[22],d[23]=a[22].get("preview_url_mime_type"),a[22],d[24]=a[22].get("preview_width"),a[22],d[25]=a[22].get("preview_height"),a[22],d[26]=a[22].get("image_url"),a[22],d[27]=a[22].get("image_url_fallback"),a[22],d[28]=a[22].get("image_url_expiration_timestamp_ms"),a[22],d[29]=a[22].get("image_url_mime_type"),a[22],c.sp(b("LSUpdateOptimisticAttachmentPreview"),a[1],d[0],d[15],d[16],d[17],d[18],d[19],d[20],d[21],d[22],d[23],d[24],d[25]))}]):c.resolve()},function(a){return d[13]=c.i64.cast([0,2])}]):c.resolve(d[13]=c.i64.cast([0,1]))},function(a){return d[2]=d[13]}])},function(b){return c.db.table(9).fetch([[[a[1]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[3]=c.i64.cast([0,1]):(b=a.item,d[14]=b.syncGroup,c.i64.neq(d[14],f)?d[13]=d[14]:d[13]=c.i64.cast([0,1]),d[3]=d[13])})},function(e){return c.sp(b("LSIssueNewTaskWithExtraOperationsAndGetTaskID"),c.i64.to_string(a[1]),c.i64.cast([0,46]),"",f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),d[3],f,c.i64.cast([0,0]),f,c.i64.cast([0,0])).then(function(a){return a=a,d[5]=a[0],a})},function(e){return a[26]!==f?c.seq([function(e){return c.sp(b("LSPredefineTraceForTask"),a[26],d[5],c.i64.to_string(c.i64.cast([0,46])),d[0])},function(d){return c.nop(b("LSAppendDataTraceAddon.nop"),a[26],c.i64.cast([0,20]),c.i64.cast([0,1]),f,f)}]):c.resolve()},function(b){return c.db.table(31).add({taskId:d[5],threadKey:a[1],offlineThreadingId:d[0],threadAttributionSource:a[11],externalAttachmentUrl:a[9],platformRef:a[12],platformToken:a[13],replySourceId:a[14],replySourceType:a[15],sendType:d[2],markThreadRead:a[20]==null?!1:a[20],initiatingSource:a[24],skipUrlPreviewGen:a[29],textHasLinks:a[31]})},function(e){return(a[20]==null?!1:a[20])?c.sp(b("LSOptimisticMarkThreadReadV2"),a[1],d[1]):c.resolve()},function(e){return d[6]=c.createArray(),d[7]=(d[6].push("optimisticSendMessage"),d[6]),d[8]=(d[6].push(a[1]),d[6]),d[9]=(d[6].push(d[0]),d[6]),d[10]=c.toJSON(d[6]),function(a){c.logger(a).info(a)}(d[10]),d[11]=new c.Map(),d[11].set("offline_threading_id",d[0]),d[11].set("task_id",d[5]),d[11].set("task_queue_name",c.i64.to_string(a[1])),d[11].set("task_label",c.i64.to_string(c.i64.cast([0,1]))),c.nop(b("LSLogEventAnnotate.nop"),c.i64.cast([0,16]),c.i64.cast([0,23]),c.i64.cast([0,0]),d[11])},function(a){return e[0]=d[0]}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSUpdateBotSubscription",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[0].set("user_action_type",a[1]),d[1]=c.toJSON(d[0]),c.sp(b("LSIssueNewTask"),"game_messenger_updates_management_xmat",c.i64.cast([0,755]),d[1],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSUpdateBotSubscriptionStoredProcedure",["LSUpdateBotSubscription"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.threadKey;d[1]=b.userActionType;return c("LSUpdateBotSubscription").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSInsertNewMediaSend",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(51).add({offlineAttachmentId:a[0],offlineThreadingId:a[1],inMessageIndex:a[2],attachmentType:a[3],shouldTranscode:a[4],useDoublePhase:a[5],sendByServer:a[6],isSecure:a[7],state:a[4]?b.i64.cast([0,1]):b.i64.cast([0,3])})},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("LSInsertNewMediaSendStoredProcedure",["LSInsertNewMediaSend"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.offlineAttachmentId;d[1]=b.offlineThreadingId;d[2]=b.inMessageIndex;d[3]=b.attachmentType;d[4]=b.shouldTranscode;d[5]=b.useDoublePhase;d[6]=b.sendByServer;d[7]=b.isSecure;return c("LSInsertNewMediaSend").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("MWV2MessageProfilePhotoMenuQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7655167711165292"}),null);
__d("MWV2MessageProfilePhotoMenuQuery$Parameters",["MWV2MessageProfilePhotoMenuQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWV2MessageProfilePhotoMenuQuery_facebookRelayOperation"),metadata:{},name:"MWV2MessageProfilePhotoMenuQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometDefaultKeyCommands",["fbt","CometKeys","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";a=Object.freeze(babelHelpers["extends"]({global:{label:h._("__JHASH__vTbx5ula3Ub__JHASH__"),shortcuts:{search:{command:{key:c("CometKeys").SLASH},description:h._("__JHASH__65GAtmpimeL__JHASH__"),singleCharDescription:h._("__JHASH__HqO0KsGMlbJ__JHASH__")},toggleDarkMode:{command:{alt:!0,key:c("CometKeys").M},description:h._("__JHASH__DFgslFbdJR5__JHASH__"),isHiddenCommand:c("gkx")("425")?void 0:!0},toggleNub:{command:{key:c("CometKeys").QUESTION,shift:!0},description:h._("__JHASH__w4u2XmGo_LN__JHASH__")},toggleNubFunctionKey:{command:{key:c("CometKeys").F1},description:h._("__JHASH__w4u2XmGo_LN__JHASH__")}}},groups:{label:h._("__JHASH__5ycXpLiowDK__JHASH__"),shortcuts:{groupSearch:{command:{command:!0,key:c("CometKeys").SLASH},description:h._("__JHASH__UwVHz4hi5qC__JHASH__"),order:6},newGroupEvent:{command:{key:c("CometKeys").E},description:h._("__JHASH__bXPAFcKoHVs__JHASH__"),order:1,singleCharDescription:h._("__JHASH__B9NoOgWqa7a__JHASH__")},viewNextPinnedGroup:{command:{alt:!0,key:c("CometKeys").DOWN},description:h._("__JHASH__ryvFG_XPxff__JHASH__"),order:5},viewNextVideo:{command:{alt:!0,key:c("CometKeys").RIGHT},description:h._("__JHASH__Co4R3_i3LJX__JHASH__"),order:3},viewPreviousPinnedGroup:{command:{alt:!0,key:c("CometKeys").UP},description:h._("__JHASH__ghiGJdiPxiO__JHASH__"),order:4},viewPreviousVideo:{command:{alt:!0,key:c("CometKeys").LEFT},description:h._("__JHASH___UWyiXo4b1A__JHASH__"),order:2}}},newsfeed:{label:h._("__JHASH__3bhd46OOtgQ__JHASH__"),shortcuts:{commentStory:{command:{key:c("CometKeys").C},description:h._("__JHASH__S60IOgnbCS6__JHASH__"),singleCharDescription:h._("__JHASH__8eG9xxpUBK___JHASH__")},likeStory:{command:{key:c("CometKeys").L},description:h._("__JHASH__DX2kjgJe1lw__JHASH__"),singleCharDescription:h._("__JHASH__qzjRCdVl8UB__JHASH__")},newPost:{command:{key:c("CometKeys").P},description:h._("__JHASH__gCb4Qn8jJYV__JHASH__"),singleCharDescription:h._("__JHASH__rWgYV326oik__JHASH__")},openAttachment:{command:{key:c("CometKeys").O},description:h._("__JHASH__PENXVObp6HH__JHASH__"),shouldStopPropagation:!1,singleCharDescription:h._("__JHASH__9ZqYYIUi2ux__JHASH__")},scrollNext:{command:{key:c("CometKeys").J},description:h._("__JHASH__WOloUQmdmos__JHASH__"),singleCharDescription:h._("__JHASH__pjB1urhcDtz__JHASH__")},scrollPrevious:{command:{key:c("CometKeys").K},description:h._("__JHASH__8Xw825Irnyt__JHASH__"),singleCharDescription:h._("__JHASH__X1clBpl2A59__JHASH__")},searchContacts:{command:{key:c("CometKeys").Q},description:h._("__JHASH__tNIUJ6lgcTQ__JHASH__"),singleCharDescription:h._("__JHASH__ZOEvffglsxE__JHASH__")},seeMore:{command:{key:c("CometKeys").ENTER},description:h._("__JHASH__xSvc24O-mfg__JHASH__"),singleCharDescription:h._("__JHASH__2JfkN_FFXsH__JHASH__")},shareStory:{command:{key:c("CometKeys").S},description:h._("__JHASH__B_iW89OoYd8__JHASH__"),singleCharDescription:h._("__JHASH__Z6OsPJdfk0___JHASH__")}}},photoViewer:{label:h._("__JHASH__BXWDUC-L-Ri__JHASH__"),shortcuts:{fullscreen:{command:{key:c("CometKeys").F},description:h._("__JHASH__B9xS9GGbzeo__JHASH__"),singleCharDescription:h._("__JHASH__3gvTTPZFuR6__JHASH__")},like:{command:{key:c("CometKeys").L},description:h._("__JHASH__fPWFoO_4sHL__JHASH__"),singleCharDescription:h._("__JHASH__6boa--Dsc86__JHASH__")},viewNext:{command:{key:c("CometKeys").K},description:h._("__JHASH__Cwg8ChuUCza__JHASH__"),singleCharDescription:h._("__JHASH__D5hbXD4Qvlf__JHASH__")},viewPrevious:{command:{key:c("CometKeys").J},description:h._("__JHASH__5PUjENdCJD1__JHASH__"),singleCharDescription:h._("__JHASH__ap7P4LUMQ-g__JHASH__")}}},search:{label:h._("__JHASH__E00LcbSnfXh__JHASH__"),shortcuts:{scrollNextResult:{command:{key:c("CometKeys").J},description:h._("__JHASH__bmPeLBy-eKQ__JHASH__"),singleCharDescription:h._("__JHASH___N3WTKcqt3k__JHASH__")},scrollPreviousResult:{command:{key:c("CometKeys").K},description:h._("__JHASH__66y7Uf7htWH__JHASH__"),singleCharDescription:h._("__JHASH__G1e3rdFAKxh__JHASH__")}}}},c("gkx")("3598")&&{chats:{label:h._("__JHASH__er63PmpxxU9__JHASH__"),shortcuts:{forwardMessage:{command:{key:c("CometKeys").F},description:h._("__JHASH__BoPi-Cj1ZgB__JHASH__"),order:3,singleCharDescription:h._("__JHASH__sAzlvATWOJK__JHASH__")},jumpToChatList:{command:{alt:!0,key:c("CometKeys").C},description:h._("__JHASH__yEELQaU6ZJv__JHASH__"),order:6,singleCharDescription:h._("__JHASH__ruOmPk73z78__JHASH__"),triggerFromInputs:!0},likeMessage:{command:{key:c("CometKeys").L},description:h._("__JHASH__92Cxpl6anqS__JHASH__"),order:1,singleCharDescription:h._("__JHASH__9GZYcHNSXWM__JHASH__")},removeMessage:{command:{key:c("CometKeys").X},description:h._("__JHASH__r-tRfkmegvn__JHASH__"),order:4,singleCharDescription:h._("__JHASH__rCo38Z3GsLf__JHASH__")},replyToMessage:{command:{key:c("CometKeys").R},description:h._("__JHASH__2livKuCsmS6__JHASH__"),order:2,singleCharDescription:h._("__JHASH__HlXWG9dX1DN__JHASH__")},writeMessageToCurrentChat:{command:{alt:!0,key:c("CometKeys").W},description:h._("__JHASH__260-EYyZSfn__JHASH__"),order:5,singleCharDescription:h._("__JHASH__98yCRWkkRKQ__JHASH__"),triggerFromInputs:!0}}}}));b=a;a;g["default"]=b}),98);
__d("cometGetKeyCommandConfig",["fbt","cr:2011405","cr:2011406","gkx","recoverableViolation"],(function(a,b,c,d,e,f,g,h){"use strict";var i={command:null,description:h._("__JHASH__b304p5m3LLr__JHASH__"),handler:function(){return void 0},isHiddenCommand:!0};function j(a,b,d,e,f){if(e==null){c("recoverableViolation")(f,"comet_ax");return i}if(!Object.prototype.hasOwnProperty.call(e,a)||!Object.prototype.hasOwnProperty.call(e[a].shortcuts,b)){c("recoverableViolation")("Missing default key command config for "+a+" and "+b,"comet_ax");return i}f=e[a].shortcuts[b];e=f.command;var g=f.description;return e!=null&&g!=null?{command:e,commandID:b,description:g,groupID:a,handler:d,isHiddenCommand:f.isHiddenCommand,singleCharDescription:f.singleCharDescription,triggerFromInputs:f.triggerFromInputs}:i}function a(a,c,d){return j(a,c,d,b("cr:2011405"),"getCometKeyCommandConfig should only be used in Comet")}function d(a,d,e){var f=c("gkx")("1224637")?b("cr:2011406"):b("cr:2011405");return j(a,d,e,f,"Reached unreachable code")}g.getKeyCommandConfig=j;g.getCometKeyCommandConfig=a;g.getCometAndGeminiKeyCommandConfig=d}),98);
__d("useLazyShouldShowMessagingEntrypointInCometRoot",["CometPassiveGetRouterStateContext","ShouldShowMessagingEntrypoint","react","useShouldRenderFullTopNav"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useContext;function a(a){var b=c("useShouldRenderFullTopNav")(),d=j(c("CometPassiveGetRouterStateContext"));return i(function(){var e=d==null?void 0:d(),f=e==null?void 0:e.main;e=e==null?void 0:e.pushViewStack;e=e&&e.length>0?e[e.length-1]:f;return c("ShouldShowMessagingEntrypoint")(e==null?void 0:e.route,a,b)},[a,d,b])}g["default"]=a}),98);
__d("BaseEntryPointPopoverTrigger.react",["BaseEntryPointPopoverContainer.react","BasePopoverTrigger.react","CometRelay","deepEquals","react","tracePolicyFromResource","useCometPopoverInteractionTracing","useCometRelayEntrypointContextualEnvironmentProvider"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useMemo,l=b.useRef;function a(a){var b=a.doNotCloseOnOutsideClick,e=a.entryPointParams,f=a.fallback,g=a.onVisibilityChange,h=a.otherProps,m=a.popoverEntryPoint,n=a.preloadTrigger,o=a.tracePolicy;a=babelHelpers.objectWithoutPropertiesLoose(a,["doNotCloseOnOutsideClick","entryPointParams","fallback","onVisibilityChange","otherProps","popoverEntryPoint","preloadTrigger","tracePolicy"]);o=c("useCometPopoverInteractionTracing")((o=o)!=null?o:c("tracePolicyFromResource")("comet.popover",m.root),"entrypoint",n);var p=c("useCometRelayEntrypointContextualEnvironmentProvider")();p=d("CometRelay").useEntryPointLoader(p,m);var q=p[0],r=p[1];p=p[2];var s=l(null),t=j(function(){if(e==null)return;if(q!==null&&c("deepEquals")(s.current,e))return;s.current=e;r(e)},[e,q,r]),u=k(function(){return{entryPointParams:e,entryPointReference:q,load:t,otherProps:h}},[e,q,t,h]),v=j(function(a){a&&t(),g&&g(a)},[t,g]);return i.jsx(c("BasePopoverTrigger.react"),babelHelpers["extends"]({doNotCloseOnOutsideClick:b,fallback:f,interactionTracker:o,onHighIntentPreload:t,onLayerDetached:p,onVisibilityChange:v,popover:c("BaseEntryPointPopoverContainer.react"),popoverPreloadResource:m.root,popoverProps:u,preloadTrigger:n},a))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometEntryPointPopoverTrigger.react",["BaseEntryPointPopoverTrigger.react","CometPopoverLoadingState.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.fallback;a=babelHelpers.objectWithoutPropertiesLoose(a,["fallback"]);return i.jsx(c("BaseEntryPointPopoverTrigger.react"),babelHelpers["extends"]({fallback:(b=b)!=null?b:i.jsx(c("CometPopoverLoadingState.react"),{withArrow:!0})},a))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometFileSelector.react",["react","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useEffect,l=b.useRef;function m(a){return a.map(function(a){if(a.indexOf("/")!==-1||a[0]===".")return a;c("recoverableViolation")('Accept parameter "'+a+'" for CometFileSelector is being interpreted as a file extension since it has no slash (/), but file extensions must start with a period (.)',"profile_comet");return"."+a}).join(",")}function a(a){var b=a.accept,c=a.children,d=a.multiple;d=d===void 0?!1:d;var e=a.onFilesSelected,f=l(null);k(function(){var a=f.current;if(a!=null){var b=function(a){a.stopPropagation()};a.addEventListener("click",b);return function(){a.removeEventListener("click",b)}}});a=j(function(){f.current!=null&&f.current.click()},[]);var g=j(function(a){e(a.currentTarget.files),a.currentTarget.value=""},[e]);b=i.jsxs(i.Fragment,{children:[i.jsx("input",{accept:b!=null?m(b):void 0,className:"x1s85apg",multiple:d,onChange:g,ref:f,type:"file"}),c(a)]});return b}g["default"]=a}),98);
__d("CometImageCover.react",["BaseImage_DEPRECATED.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;var j=e.useCallback,k=e.useRef,l=e.useState;d=function(){var a=document.documentElement;return a==null?!0:Boolean("objectFit"in a.style)}();function a(a){a.alt;var b=a.loading,d=a.onError,e=a.onLoad,f=a.src,g=a.style;a=babelHelpers.objectWithoutPropertiesLoose(a,["alt","loading","onError","onLoad","src","style"]);var h=l(null),m=h[0],n=h[1],o=k();h=j(function(){var a=o.current;if(a==null||!(a instanceof HTMLImageElement)||typeof a.src!=="string")return;n(a.src);e!=null&&e()},[e]);return m!=null?i.jsx("div",{className:"x1rg5ohu x5yr21d xl1xv1r xh8yej3",style:babelHelpers["extends"]({backgroundImage:"url("+m+")",backgroundPosition:"center center",backgroundSize:"cover"},g)}):i.jsx(c("BaseImage_DEPRECATED.react"),babelHelpers["extends"]({},a,{className:"xqtp20y xnalus7",loading:b||void 0,onError:d,onLoad:h,ref:o,src:f,style:g}))}a.displayName=a.name+" [from "+f.id+"]";function b(a){return i.jsx(c("BaseImage_DEPRECATED.react"),babelHelpers["extends"]({className:"x1rg5ohu x5yr21d xl1xv1r xh8yej3"},a))}b.displayName=b.name+" [from "+f.id+"]";e=d?b:a;g["default"]=e}),98);
__d("CometTimestamp.react",["fbt","formatDate","react","useServerTime"],(function(a,b,c,d,e,f,g,h){"use strict";var i;e=i||d("react");var j=1e3*60*60*24,k=j*30;function l(a,b){return a.getFullYear()===b.getFullYear()&&a.getMonth()===b.getMonth()&&a.getDate()===b.getDate()}function m(a,b){return h._("__JHASH__OsFN0XAyv2W__JHASH__",[h._param("date",a),h._param("time",b)])}function n(a,b){var d=c("formatDate")(b,"g:i A");if(l(b,a))return h._("__JHASH__I7gnNejSDJn__JHASH__",[h._param("time",d)]);var e=new Date(a.valueOf()-j);if(l(b,e))return h._("__JHASH__18g5xTeqQyg__JHASH__",[h._param("time",d)]);e=new Date(a.valueOf()+j);if(l(b,e))return h._("__JHASH__6hOHFFmfNGd__JHASH__",[h._param("time",d)]);e=c("formatDate")(b,"F j");a.getFullYear()!==b.getFullYear()&&(e=c("formatDate")(b,"F j, Y"));return Math.abs(a.valueOf()-b.valueOf())<k?m(e,d):e}function a(a){return m(c("formatDate")(a,"l, F j, Y"),c("formatDate")(a,"g:i A"))}function b(a){a=a.date;var b=c("useServerTime")();b=n(b,a);return b}b.displayName=b.name+" [from "+f.id+"]";b.getTimestamp=n;b.getAbsoluteTimestamp=a;b.getAbsoluteTimestampFbt=m;g["default"]=b}),98);
__d("CometTooltipGroup.react",["BaseTooltipGroup.react","CometTooltipImpl.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsx(d("BaseTooltipGroup.react").Container,babelHelpers["extends"]({},a,{tooltipImpl:c("CometTooltipImpl.react")}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useFileDragEvents",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useEffect,k=b.useRef,l=b.useState;function a(a,b,c){b===void 0&&(b=document.documentElement);var d=k(0),e=l(!1),f=e[0],g=e[1],h=i(function(b){g(!1);if((c==null||c(b))&&a!=null){b.preventDefault();var e=b.dataTransfer;if(e!=null){e=e.files;a(e,b)!==!1&&b.stopPropagation()}else b.stopPropagation();d.current=0}},[a,c]),m=i(function(a){var b;b=(b=a.dataTransfer)==null?void 0:b.files;(c==null||c(a))&&b!=null&&(a.preventDefault(),d.current++,g(!0))},[c]),n=i(function(a){var b;b=(b=a.dataTransfer)==null?void 0:b.files;(c==null||c(a))&&b!=null&&--d.current===0&&g(!1)},[c]),o=i(function(a){var b;b=(b=a.dataTransfer)==null?void 0:b.files;b!=null&&a.preventDefault()},[]);j(function(){if(b!=null){b.addEventListener("drop",h,!0);b.addEventListener("dragenter",m,!0);b.addEventListener("dragleave",n,!0);b.addEventListener("dragover",o,!0);return function(){b.removeEventListener("drop",h,!0),b.removeEventListener("dragenter",m,!0),b.removeEventListener("dragleave",n,!0),b.removeEventListener("dragover",o,!0)}}},[m,n,o,h,b]);return f}g["default"]=a}),98);
__d("CometLexicalContentEditableCommands",["Lexical"],(function(a,b,c,d,e,f,g){"use strict";a=d("Lexical").createCommand();g.COMET_LEXICAL_ARIA_COMMAND=a}),98);
__d("mlcEditableSubscription",[],(function(a,b,c,d,e,f){"use strict";function a(a){return{initialValueFn:function(){return a.isEditable()},subscribe:function(b){return a.registerEditableListener(b)}}}f["default"]=a}),66);
__d("useCometLexicalSubscription",["react","useUnsafeRef_DEPRECATED"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=i||d("react");var j=b.useLayoutEffect,k=b.useState;function a(a){var b=(h||(h=c("useUnsafeRef_DEPRECATED")))(a.initialValueFn()),d=k(b.current),e=d[0],f=d[1];j(function(){var c=a.initialValueFn,d=a.subscribe;c=c();b.current!==c&&(b.current=c,f(c));return d(function(a){b.current=a,f(a)})},[a]);return e}g["default"]=a}),98);
__d("CometLexicalContentEditable.react",["CometLexicalContentEditableCommands","Lexical","mlcEditableSubscription","react","stylex","useCometLexicalSubscription"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useEffect,l=b.useLayoutEffect,m=b.useMemo,n=b.useState,o={editor:{color:"xzsf02u",outline:"x1a2a7pz",position:"x1n2onr6",textAlign:"x14wi4xw",$$css:!0}};function a(a){var b=a.ariaAutoComplete,e=a.ariaDescribedBy,f=a.ariaExpanded,g=a.ariaLabel,i=a.ariaLabelledBy,p=a.ariaMultiline,q=a.ariaOwneeID,r=a.ariaRequired,s=a.autoCapitalize,t=a.autoComplete,u=a.autoCorrect,v=a.contentEditableRef,w=a.editor,x=a.isInitiallyFocused,y=x===void 0?!1:x;x=a.role;x=x===void 0?"textbox":x;var z=a.spellCheck;z=z===void 0?!1:z;var A=a.tabIndex,B=a.webDriverTestID;B=a.xstyle;a=n(void 0);var C=a[0],D=a[1];a=n(void 0);var E=a[0],F=a[1];a=c("useCometLexicalSubscription")(m(function(){return c("mlcEditableSubscription")(w)},[w]));l(function(){return w.registerCommand(d("CometLexicalContentEditableCommands").COMET_LEXICAL_ARIA_COMMAND,function(a){Object.prototype.hasOwnProperty.call(a,"activeDescendantID")&&D(a.activeDescendantID);Object.prototype.hasOwnProperty.call(a,"controlsID")&&F(a.controlsID);return!1},d("Lexical").COMMAND_PRIORITY_EDITOR)},[w]);k(function(){y&&w.focus(function(){var a=document.activeElement,b=w.getRootElement();(!(b==null?void 0:b.contains(a))||b!=null||a==null)&&(b==null?void 0:b.focus({preventScroll:!0}))})},[w,y]);return j.jsx("div",{"aria-activedescendant":a?C:null,"aria-autocomplete":a?b:null,"aria-controls":a?E:null,"aria-describedby":e,"aria-expanded":a?x==="combobox"?!!f:null:null,"aria-label":g,"aria-labelledby":i,"aria-multiline":p,"aria-owns":a?q:null,"aria-required":r,autoCapitalize:s,autoComplete:t,autoCorrect:u,className:(h||(h=c("stylex")))(o.editor,B)+" "+(a?"notranslate":""),contentEditable:a,"data-testid":void 0,ref:v,role:a?x:null,spellCheck:z,suppressContentEditableWarning:!0,tabIndex:A})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("cometLexicalBaseTheme",[],(function(a,b,c,d,e,f,g){"use strict";a={ltr:"xdpxx8g",rtl:"x1hr2gdg"};b=a;g["default"]=b}),98);
__d("MWChatComposerMentionsUtils",["remove-accents"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){if(b.length===0)return!0;var d=c("remove-accents")(b).toLowerCase();b=c("remove-accents")(a).toLowerCase();return b.split(" ").some(function(a){return a.startsWith(d)})||b.startsWith(d)}g.doesParticipantNameMatch=a}),98);
__d("MWChatComposerTypeaheadUtil",["fbt","ix","MWChatComposerMentionsUtils","gkx"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=h._("__JHASH__5zKX9L3wCmC__JHASH__").toString(),k={decorType:"regular",handle:j,key:"0",label:j,rawData:{image:i("391426"),subtitle:void 0},type:"entry"};function a(a,b,e,f,g,i,l){var m=a.query,n=[];g===!0&&d("MWChatComposerMentionsUtils").doesParticipantNameMatch(j,m)&&n.push(k);if(g===!0?i:!0){b.forEach(function(a){var b=a.actualName,c=a.contactId,e=a.nickname,f=a.profilePictureUrl;a=a.secondaryName;var g=null;a!=null&&d("MWChatComposerMentionsUtils").doesParticipantNameMatch(a,m)?g="secondaryName":d("MWChatComposerMentionsUtils").doesParticipantNameMatch(b,m)?g="name":e!=null&&d("MWChatComposerMentionsUtils").doesParticipantNameMatch(e,m)&&(g="nickname");if(g!=null&&f!=null){var h;n.push({decorType:"regular",handle:(h=a)!=null?h:g==="nickname"?(h=e)!=null?h:b:b,key:c+" "+g,label:b,rawData:{photoURI:f,source:g,subtitle:(h=a)!=null?h:e},type:"entry"})}});if(c("gkx")("1608686")){g=h._("__JHASH__sTLNkkV9rF7__JHASH__").toString();if(d("MWChatComposerMentionsUtils").doesParticipantNameMatch(g,m)){i=h._("__JHASH__rLeo5-LqefI__JHASH__").toString();n.push({decorType:"regular",handle:g,key:""+e,label:g,rawData:{source:"all",subtitle:i},type:"entry"})}b=h._("__JHASH__qb09B47tS-j__JHASH__").toString();if(d("MWChatComposerMentionsUtils").doesParticipantNameMatch(b,m)){g=h._("__JHASH__Y9cD1qBx4DO__JHASH__").toString();n.push({decorType:"regular",handle:b,key:e+"-active",label:b,rawData:{source:"all",subtitle:g},type:"entry"})}}}n.length>l&&(n=n.slice(0,l));n.length<l&&f&&f(m,l-n.length);return{entries:n,params:a}}var l=(e={},e[j]="ai",e);function b(a){a=l[a];return a==null?"p":a}g.aiBotMentionsEntry=k;g.fetchCacheComposerMentionsTypeahead=a;g.commandToRangeType=b}),98);
__d("MessengerLexicalEntityTextNode",["Lexical","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}var d=a.prototype;d.getEntity=function(){throw c("unrecoverableViolation")("CometMessengerLexicalEntityTextNode does not implement getEntity","messenger_comet")};return a}(d("Lexical").TextNode);function a(a){return a instanceof h}g.MessengerLexicalEntityTextNode=h;g.isMessengerLexicalEntityTextNode=a}),98);
__d("MessengerLexicalActorNode",["MWChatComposerTypeaheadUtil","MessengerLexicalEntityTextNode"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a=a.replace(" name","");a=a.replace(" nickname","");a=a.replace(" secondaryName","");return a}var i=function(b){babelHelpers.inheritsLoose(a,b);a.getType=function(){return"actor"};a.clone=function(b){return new a({id:b.__contactID,prefix:b.__prefix,text:b.__text.slice(1)},b.__key)};a.importJSON=function(a){return j({id:a.id,prefix:a.prefix,text:a.text})};var c=a.prototype;c.exportJSON=function(){return babelHelpers["extends"]({},b.prototype.exportJSON.call(this),{id:this.__contactID,prefix:this.__prefix,text:this.__text.slice(1),type:"actor"})};function a(a,c){var d=a.id,e=a.prefix;e=e===void 0?"@":e;a=a.text;a=b.call(this,""+e+a,c)||this;a.__contactID=h(d);a.__prefix=e;return a}c.createDOM=function(a){a=b.prototype.createDOM.call(this,a);a.className="xv78j7m xt0e3qv";a.spellcheck=!1;return a};c.getEntity=function(){return{id:this.__contactID,isWeak:!1}};c.getRangeType=function(){return d("MWChatComposerTypeaheadUtil").commandToRangeType(this.__text.slice(1))};return a}(d("MessengerLexicalEntityTextNode").MessengerLexicalEntityTextNode);function j(a){return new i(a).setMode("segmented").toggleDirectionless()}function a(a){return a instanceof i}g.MessengerLexicalActorNode=i;g.$createMessengerLexicalActorNode=j;g.$isMessengerLexicalActorNode=a}),98);
__d("CometLexicalPlaceholder.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={placeholder:{color:"xi81zsa",overflowX:"x6ikm8r",overflowY:"x10wlt62",pointerEvents:"x47corl",position:"x10l6tqk",start:"x17qophe",left:null,right:null,textOverflow:"xlyipyv",top:"x13vifvy",userSelect:"x87ps6o",whiteSpace:"xuxw1ft",width:"xh8yej3",$$css:!0}};function a(a){var b=a.children;a=a.xstyle;return j.jsx("div",{children:b,className:(h||(h=c("stylex")))(k.placeholder,a)})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MLCKeyBindingUtil",["UserAgent"],(function(a,b,c,d,e,f,g){"use strict";var h=c("UserAgent").isPlatform("Mac OS X");b=String.fromCodePoint(h?8984:8963);function a(a){return a!==null&&(h?a.metaKey:a.ctrlKey)}g.COMMAND_UNICODE=b;g.hasCommandModifier=a}),98);
__d("useMWPLexicalCommitMessageOnEnter",["Lexical","MLCInstrumentationCommands","MLCKeyBindingUtil","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useLayoutEffect;function a(a,b){i(function(){return a.registerCommand(d("Lexical").KEY_ENTER_COMMAND,function(e){e=e;if(e!=null&&!e.shiftKey&&!e.altKey&&(!c("gkx")("6934")||d("MLCKeyBindingUtil").hasCommandModifier(e))){e.preventDefault();a.dispatchCommand(d("MLCInstrumentationCommands").COMMIT_COMMAND,"create");b();return!0}return!1},d("Lexical").COMMAND_PRIORITY_LOW)},[a,b])}g["default"]=a}),98);
__d("CometMetricsNavigationFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1956659");b=d("FalcoLoggerInternal").create("comet_metrics_navigation",a);e=b;g["default"]=e}),98);
__d("CometFeedNoRoutingNavigationEventsLoggerImpl",["CometMetricsNavigationFalcoEvent","JSScheduler","react","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useCallback;function a(a,b,e){var f=j(function(d,f,g){if(b==null||b==="")return;var h=c("uuidv4")();c("CometMetricsNavigationFalcoEvent").logImmediately(function(){return{dest_module:g,event_trace_id:h,extra_fields:e,href:f,tn:a.join(""),ts:d.toString(),xt:b}})},[a,b,e]);return j(function(a,b,c){(i||(i=d("JSScheduler"))).scheduleLoggingPriCallback(function(){return f(a,b,c)})},[f])}g["default"]=a}),98);
__d("useCometFeedNoRoutingNavigationEventLogger",["CometFeedLoggingExtraFieldsContext","CometFeedNoRoutingNavigationEventsLoggerImpl","CometTrackingCodeContext","CometTrackingNodesContext","emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(a){var b=i(c("CometTrackingNodesContext")),d=i(c("CometTrackingCodeContext"));d=d.encrypted_tracking[0];var e=i(c("CometFeedLoggingExtraFieldsContext"));return d==null?c("emptyFunction"):c("CometFeedNoRoutingNavigationEventsLoggerImpl")((a=a)!=null?a:b,d,e)}g["default"]=a}),98);
__d("MDSBaseChatBubble.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={bubble:{borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",color:"x14ctfv",maxWidth:"x1okitfd",overflowX:"x6ikm8r",overflowY:"x10wlt62",overflowWrap:"x1mzt3pk",paddingTop:"x1y1aw1k",paddingEnd:"xn6708d",paddingBottom:"xwib8y2",paddingStart:"x1ye3gou",position:"x1n2onr6",wordBreak:"x13faqbe",zIndex:"x1vjfegm",$$css:!0}};function a(a){var b=a.children,d=a.style;a=a.xstyle;return j.jsx("div",{className:(h||(h=c("stylex")))([k.bubble,a]),"data-testid":void 0,role:"none",style:d,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MDSIncomingChatBubble.react",["MDSBaseChatBubble.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={incoming_connect_bot:{borderBottomStartRadius:"x10y3i5r",$$css:!0},incoming_connect_top:{borderTopStartRadius:"x1lcm9me",$$css:!0}};function a(a){var b=a.children,d=a.connectBottom,e=a.connectTop,f=a.style;a=a.xstyle;return i.jsx(c("MDSBaseChatBubble.react"),{children:b,style:f,xstyle:[e&&j.incoming_connect_top,d&&j.incoming_connect_bot,a]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MDSOutgoingChatBubble.react",["MDSBaseChatBubble.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={outgoing_connect_bot:{borderBottomEndRadius:"xrt01vj",$$css:!0},outgoing_connect_top:{borderTopEndRadius:"x1yr5g0i",$$css:!0}};function a(a){var b=a.children,d=a.connectBottom,e=a.connectTop,f=a.style;a=a.xstyle;return i.jsx(c("MDSBaseChatBubble.react"),{children:b,style:f,xstyle:[e&&j.outgoing_connect_top,d&&j.outgoing_connect_bot,a]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MDSChatBubblePrecedesXMA.react",["MDSIncomingChatBubble.react","MDSOutgoingChatBubble.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={precedes_xma:{borderBottomEndRadius:"x5pf9jr",borderBottomStartRadius:"xo71vjh",boxSizing:"x9f619",maxWidth:"x16it46q",width:"xh8yej3",$$css:!0}};function a(a){var b=a.children,d=a.connectTop,e=a.outgoing;a=a.style;return e?i.jsx(c("MDSOutgoingChatBubble.react"),{children:b,connectBottom:!1,connectTop:d,style:a,xstyle:j.precedes_xma}):i.jsx(c("MDSIncomingChatBubble.react"),{children:b,connectBottom:!1,connectTop:d,style:a,xstyle:j.precedes_xma})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("xmaLayouts",[],(function(a,b,c,d,e,f){"use strict";a={DEFAULT:"default",UNIFIED_LAYOUT:"unifiedLayout"};f.XMA_LAYOUTS=a}),66);
__d("MDSSolidMessageBubble.react",["MDSChatBubblePrecedesXMA.react","MDSIncomingChatBubble.react","MDSOutgoingChatBubble.react","react","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.children,e=a.connectBottom,f=a.connectTop,g=a.outgoing,h=a.xmaLayout;h=h===void 0?d("xmaLayouts").XMA_LAYOUTS.DEFAULT:h;var j=a.style;a=a.precedesXMA;if(h!==d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT&&a===!0)return i.jsx(c("MDSChatBubblePrecedesXMA.react"),{children:b,connectTop:f,outgoing:g,style:j});h=g?c("MDSOutgoingChatBubble.react"):c("MDSIncomingChatBubble.react");return i.jsx(h,{connectBottom:e,connectTop:f,style:j,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXSolidMessageBubble.react",["MDSSolidMessageBubble.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsx(c("MDSSolidMessageBubble.react"),babelHelpers["extends"]({},a))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXUseLatch",["CometThrottle","Run","debounce","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useMemo;function a(a,b,e){var f=b!=null?b:!1;i(function(){if(!f)return;var b=d("Run").onUnload(function(){return a(!1)});return function(){return b.remove()}},[f,a]);return j(function(){var b={contents:!1},d=c("debounce")(function(){if(!b.contents)return a(!1)},e|0),f=c("CometThrottle")(function(){return a(!0)},3e3,{leading:!0,trailing:!1}),g=function(){a(!1),b.contents=!0},h=function(){f();return d()};return[h,g]},[a,e])}g.useLatch=a}),98);
__d("useMWXLexicalOnTypingChanged",["LexicalText","MWXUseLatch","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useRef;function a(a){var b=a.editor;a=a.onTypingStateChanged;a=d("MWXUseLatch").useLatch(a,!0,5e3);var c=a[0],e=a[1],f=j("");i(function(){var a=function(a){a=a.editorState.read(function(){return d("LexicalText").$rootTextContent()});if(a!==f.current){f.current=a;if(a==="")return e();else return c()}};return b.registerUpdateListener(a)},[c,e,b]);return{}}g["default"]=a}),98);
__d("MAWEphemeralConsts",["WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";a=300;b=600;c=900;e=1800;d=Math.imul((f=d("WATimeUtils")).HOUR_SECONDS,6);var h=Math.imul(f.HOUR_SECONDS,12),i=Math.imul(f.DAY_SECONDS,14),j=1e3,k=5,l=10,m=30,n=60,o=d;g.fiveMinutesInSeconds=a;g.tenMinutesInSeconds=b;g.fifteenMinutesInSeconds=c;g.thirtyMinutesInSeconds=e;g.oneHourInSeconds=f.HOUR_SECONDS;g.sixHoursInSeconds=d;g.twelveHoursInSeconds=h;g.oneDayInSeconds=f.DAY_SECONDS;g.ephemeralMaxDelectionWindowForUnseenMessage=i;g.msPerSec=j;g.fiveSeconds=k;g.tenSeconds=l;g.thirtySeconds=m;g.oneMinuteInSeconds=n;g.ephemeralReportingWindowInSeconds=o}),98);
__d("MWPResponsiveImageGrid.react",["BaseImage.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={aspectRatioWrapper:{height:"xqtp20y",marginStart:"x12mruv9",marginLeft:null,marginRight:null,marginTop:"xr9ek0c",paddingBottom:"x1vrad04",position:"x1n2onr6",$$css:!0},grid:{display:"x78zum5",flexWrap:"x1a02dak",marginStart:"x8182xy",marginLeft:null,marginRight:null,marginTop:"x1kgmq87",$$css:!0},gridImage:{bottom:"x1ey2m1c",end:"xds687c",left:null,right:null,height:"x5yr21d",objectFit:"xl1xv1r",objectPosition:"x115dhu7",position:"x10l6tqk",start:"x17qophe",top:"x13vifvy",width:"xh8yej3",$$css:!0},gridItem:{flexBasis:"x1yu6fn4",$$css:!0}};function a(a){a=a.urls;return i.jsx("ul",{className:"x78zum5 x1a02dak x8182xy x1kgmq87",children:a.map(function(a){return i.jsx("li",{className:"x1yu6fn4",children:i.jsx("div",{className:"xqtp20y x12mruv9 xr9ek0c x1vrad04 x1n2onr6",children:i.jsx(c("BaseImage.react"),{src:a,xstyle:j.gridImage})})},a)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPXMAIgProfile.react",["MWPResponsiveImageGrid.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useMemo,k=function(a){a=a.previewUrl;return a};function a(a){var b=a.attachmentItems;a=j(function(){return b.map(k).filter(Boolean)},[b]);return i.jsx("div",{className:"x193iq5w xgqtt45 xdzyupr",children:i.jsx(c("MWPResponsiveImageGrid.react"),{urls:a})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWBaseTheme",[],(function(a,b,c,d,e,f){"use strict";a={};b={};c={dark:b,light:a,type:"VARIABLES"};f.empty=c}),66);
__d("MWCombineThemeConfigs",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return{dark:Object.assign(a.dark,b.dark),light:Object.assign(a.light,b.light),type:b.type}}f.combine=a}),66);
__d("MWMessageTableFocusTable.react",["fbt","CometKeys","FocusTable.react","emptyFunction","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i;i||d("react");var j="messages_table";a=function(a,b,c){return c.getAttribute("data-scope")===j};b=d("FocusTable.react").createFocusTable(a);e={key:c("CometKeys").UP};f={key:c("CometKeys").DOWN};d={key:c("CometKeys").LEFT};var k={key:c("CometKeys").RIGHT};e=[{command:e,description:h._("__JHASH__HYvhkJNYo2M__JHASH__"),handler:c("emptyFunction")},{command:f,description:h._("__JHASH__6tFY25IlnV4__JHASH__"),handler:c("emptyFunction")},{command:d,description:h._("__JHASH__6tFY25IlnV4__JHASH__"),handler:c("emptyFunction")},{command:k,description:h._("__JHASH__HYvhkJNYo2M__JHASH__"),handler:c("emptyFunction")}];g.scopeID=j;g.scopeQuery=a;g.FocusTable=b;g.commandConfigs=e}),98);
__d("MWMessageCellFocusTable.react",["fbt","CometComponentWithKeyCommands.react","CometKeys","FocusTable.react","MWMessageTableFocusTable.react","focusScopeQueries","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");b=d("FocusTable.react").createFocusTable(d("focusScopeQueries").tabbableScopeQuery);var k={key:c("CometKeys").ESCAPE},l={key:c("CometKeys").ENTER},m={key:c("CometKeys").SPACE},n=h._("__JHASH__dr5LK8JTLfs__JHASH__"),o=h._("__JHASH__NgBmedKphX2__JHASH__");function a(a){var b=a.children,e=a.onEnter,f=a.onEscape;a=a.onSpace;var g=[];f!=null&&g.push({command:k,description:n,handler:f});e!=null&&g.push({command:l,description:o,handler:e});a!=null&&g.push({command:m,description:o,handler:a});return j.jsx(c("CometComponentWithKeyCommands.react"),{commandConfigs:d("MWMessageTableFocusTable.react").commandConfigs.concat(g),xstyle:!1,children:b})}a.displayName=a.name+" [from "+f.id+"]";e=a;g.FocusTable=b;g.keyCommands=e}),98);
__d("MAWArmadilloLinkContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));c=h;e=c.createContext;var j=c.useContext,k=e(!1);function a(a){a=a.children;return i.jsx(k.Provider,{value:!0,children:a})}a.displayName=a.name+" [from "+f.id+"]";function b(){return j(k)}g.MAWArmadilloLinkProvider=a;g.useMAWArmadilloLink=b}),98);
__d("MWXLink.react",["MAWArmadilloLinkContext.react","cr:269","cr:820","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a,c){var e=a.color,f=a.encryptedLink;a=babelHelpers.objectWithoutPropertiesLoose(a,["color","encryptedLink"]);var g=d("MAWArmadilloLinkContext.react").useMAWArmadilloLink();g=g||f===!0?{disableLinkShimAndTracking_DO_NOT_USE_OR_SEE_YOU_AT_THE_PRIVACY_SEV:!0,disableLinkShimForFollowLinkButton_DO_NOT_USE_OR_SEE_YOU_AT_THE_PRIVACY_SEV:!0,rel:["noreferrer","noopener","nofollow"]}:{};if(b("cr:269"))return i.jsx(b("cr:269"),babelHelpers["extends"]({},a,g,{color:e,ref:c}));return b("cr:820")?i.jsx(b("cr:820"),babelHelpers["extends"]({},a,g,{color:e==="primary"?e:void 0,ref:c})):null}a.displayName=a.name+" [from "+f.id+"]";c=i.forwardRef(a);e=c;g["default"]=e}),98);
__d("getMAWLinkEntityRenderer.react",["MWMessageCellFocusTable.react","MWXLink.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.encryptedLink,e=a.target,f=a.testid,g=a.xstyle;return function(a,f){return i.jsx(d("MWMessageCellFocusTable.react").FocusTable[2],{children:i.jsx("span",{role:"gridcell",children:i.jsx(c("MWXLink.react"),{encryptedLink:b,href:f.uri,target:e,testid:void 0,xstyle:g,children:a})})})}}g["default"]=a}),98);
__d("MDSSvgIcon.react",["CometSVGIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.children,d=a.color,e=a.dataTestId;e=a.inline;e=e===void 0?!1:e;var f=a.size;f=f===void 0?24:f;a=a.viewBox;a=a===void 0?"0 0 36 36":a;return i.jsx(c("CometSVGIcon.react"),{color:d,"data-testid":void 0,inline:e,size:f,viewBox:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MDSSvgDocumentCompleteIcon.react",["MDSSvgIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(c("MDSSvgIcon.react"),babelHelpers["extends"]({},a,{children:[i.jsx("path",{clipRule:"evenodd",d:"M18 8c0-.6-.4-1-1-1h-6a2 2 0 00-2 2v18c0 1.1.9 2 2 2h14a2 2 0 002-2V17c0-.6-.4-1-1-1h-4a4 4 0 01-4-4V8zm-6 7c0-.6.4-1 1-1h2a1 1 0 110 2h-2a1 1 0 01-1-1zm1 3.5a1 1 0 100 2h10a1 1 0 100-2H13zm0 4.5a1 1 0 100 2h10a1 1 0 100-2H13z",fillRule:"evenodd"}),i.jsx("path",{d:"M22 14h4a1 1 0 00.7-1.7l-5-5A1 1 0 0020 8v4c0 1.1.9 2 2 2z"})]}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatFileIconV2.react",["MDSSvgDocumentCompleteIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(){return i.jsx("div",{className:"x6s0dn4 xgx9qek x14yjl9h xudhj91 x18nykt9 xww2gxu x78zum5 xl56j7k x1iorvi4 x150jy0e xjkvuk6 x1e558r4",children:i.jsx(c("MDSSvgDocumentCompleteIcon.react"),{color:"primary",size:24})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatFilePreview.react",["CometImageCover.react","MWChatFileIconV2.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.attachment,d=a.fileName;a=a.withPreview;var e={maxHeight:"148px",objectPosition:"top"},f=i.jsx("div",{className:"x1ye3gou",children:i.jsx(c("MWChatFileIconV2.react"),{})});b=b!=null?b.previewUrl:void 0;if(b==null)return f;if(!a)return f;f=(a=d)!=null?a:"";return i.jsx(c("CometImageCover.react"),{alt:f,src:b,style:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWFIlePressableDirectDownload.react",["MWXPressable.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.children,d=a.onPress,e=a.url;a=a.xstyle;return i.jsx(c("MWXPressable.react"),{children:b,display:"inline",linkProps:e!=null?{download:!0,target:"_blank",url:e}:void 0,onPress:d,overlayDisabled:!0,xstyle:a})}a.displayName=a.name+" [from "+f.id+"]";g.MWFilePressableDirectDownload=a}),98);
__d("MessengerFilePreviewGenerationFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("606");b=d("FalcoLoggerInternal").create("messenger_file_preview_generation",a);e=b;g["default"]=e}),98);
__d("MWFileViewerLogger",["I64","MessengerFilePreviewGenerationFalcoEvent","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h;function b(){var b=function(){return Array.from((a.crypto||a.msCrypto).getRandomValues(new Uint32Array(2)))};return(h||(h=d("I64"))).to_string(b())}var i=c("gkx")("1016");function j(a,b){if(i){var e=b.attachment;return c("MessengerFilePreviewGenerationFalcoEvent").log(function(){return{attachment_id:b.attachmentID,entry_point:b.entryPoint,event:a,filesize:e!=null&&e.filesize!=null?(h||(h=d("I64"))).to_string(e.filesize):void 0,filetype:e==null?void 0:e.playableUrlMimeType,message_id:b.messageID.messageId,session_id:b.sessionId,thread_id:(h||(h=d("I64"))).to_string(b.thread.threadKey),thread_type:h.to_int32(b.thread.threadType)}})}}function e(a){return j("file_viewer_direct_download",a)}g.generateSessionId=b;g.logFileViewerDirectDownload=e}),98);
__d("MWFilePressableHooks",["MWFileViewerLogger","ReQL","asyncToGeneratorRuntime","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useCallback;function a(a,e,f,g,i){var k=(h||(h=c("useReStore")))();return j(function(h){f==null?void 0:f(h),c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b,c=(yield (b=d("ReQL")).firstAsync(b.fromTableAscending(k.table("threads")).getKeyRange(a.threadId)));b=(yield b.firstAsync(b.fromTableAscending(k.table("attachments")).getKeyRange(a.threadId,a.messageId)));if(c){b={attachment:b,attachmentID:e,entryPoint:g,messageID:a,sessionId:i,thread:c};d("MWFileViewerLogger").logFileViewerDirectDownload(b)}})())},[f,k,a,e,g,i])}g.useOnPressHandler=a}),98);
__d("MWFilePressable.react",["CometErrorBoundary.react","ConstUriUtils","FBLogger","MWFIlePressableDirectDownload.react","MWFilePressableHooks","MWFileViewerLogger","goUriOnNewWindow","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.attachmentID,c=a.children,e=a.entryPoint,f=a.messageID,g=a.onPress,h=a.url;a=a.xstyle;return f!=null&&f.type==="sent"&&b!=null&&h!=null?i.jsx(j,{attachmentID:b,children:c,entryPoint:e,onPress:g,sentMessage:f.value,url:h,xstyle:a}):i.jsx(d("MWFIlePressableDirectDownload.react").MWFilePressableDirectDownload,{children:c,onPress:g,url:h,xstyle:a})}a.displayName=a.name+" [from "+f.id+"]";function j(a){var b=a.attachmentID,e=a.children,f=a.entryPoint,g=a.onPress,h=a.sentMessage,j=a.url;a=a.xstyle;var k=d("MWFileViewerLogger").generateSessionId();h=d("MWFilePressableHooks").useOnPressHandler(h,b,g,f,k);return i.jsx(c("CometErrorBoundary.react"),{fallback:function(){return null},onError:function(a){a=a?a.message:"Cannot open file viewer";c("FBLogger")("rpp_file_viewer","cannot_load_entry_point").mustfix(a);a=d("ConstUriUtils").getUri(j);a!=null&&c("goUriOnNewWindow")(a)},children:i.jsx(d("MWFIlePressableDirectDownload.react").MWFilePressableDirectDownload,{children:e,onPress:h,url:j,xstyle:a})})}j.displayName=j.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatComposerIcons",["cr:2809"],(function(a,b,c,d,e,f,g){"use strict";g.MWChatComposerIconsGif=(a=b("cr:2809")).Gif;g.MWChatComposerIconsSticker=a.Sticker;g.MWChatComposerIconsPhoto=a.Photo;g.MWChatComposerIconsMoreActions=a.MoreActions;g.MWChatComposerIconsEmoji=a.Emoji}),98);
__d("MWChatFocusComposerContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;h||(h=d("react"));b=h;c=b.createContext;var i=b.createElement,j=b.useMemo,k=b.useRef,l=c({focusComposer:void 0,setFocusComposer:function(){}});function a(a){a=a.children;var b=k(),c=b.current,d=j(function(){return{focusComposer:c,setFocusComposer:function(a){b.current=a}}},[c]);return i(l.Provider,{children:a,value:d})}a.displayName=a.name+" [from "+f.id+"]";g.context=l;g.Provider=a}),98);
__d("TetraMWChatComposerIcons.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={fillGrey:{fill:"xsrhx6k",$$css:!0},icon:{display:"x1lliihq",$$css:!0},moreActionsIcon:{transitionDuration:"x1k90msu",transitionProperty:"x11xpdln",transitionTimingFunction:"x1qfuztq",$$css:!0},notRotated:{transform:"x7p49u4",$$css:!0},rotated:{transform:"x1158fpu",$$css:!0},strokeGrey:{stroke:"x1dmfqyo",$$css:!0}};function a(a){var b=a.fill,d=a.size;a=a.xstyle;a=a===void 0?!1:a;return j.jsx("svg",{className:(h||(h=c("stylex")))(k.icon,k.fillGrey,a),height:String(d)+"px",viewBox:"0 0 16 16",width:String(d)+"px",x:"0px",y:"0px",children:j.jsx("path",{d:"M.783 12.705c.4.8 1.017 1.206 1.817 1.606 0 0 1.3.594 2.5.694 1 .1 1.9.1 2.9.1s1.9 0 2.9-.1 1.679-.294 2.479-.694c.8-.4 1.157-.906 1.557-1.706.018 0 .4-1.405.5-2.505.1-1.2.1-3 0-4.3-.1-1.1-.073-1.976-.473-2.676-.4-.8-.863-1.408-1.763-1.808-.6-.3-1.2-.3-2.4-.4-1.8-.1-3.8-.1-5.7 0-1 .1-1.7.1-2.5.5s-1.417 1.1-1.817 1.9c0 0-.4 1.484-.5 2.584-.1 1.2-.1 3 0 4.3.1 1 .2 1.705.5 2.505zm10.498-8.274h2.3c.4 0 .769.196.769.696 0 .5-.247.68-.747.68l-1.793.02.022 1.412 1.252-.02c.4 0 .835.204.835.704s-.442.696-.842.696H11.82l-.045 2.139c0 .4-.194.8-.694.8-.5 0-.7-.3-.7-.8l-.031-5.631c0-.4.43-.696.93-.696zm-3.285.771c0-.5.3-.8.8-.8s.8.3.8.8l-.037 5.579c0 .4-.3.8-.8.8s-.8-.4-.8-.8l.037-5.579zm-3.192-.825c.7 0 1.307.183 1.807.683.3.3.4.7.1 1-.2.4-.7.4-1 .1-.2-.1-.5-.3-.9-.3-1 0-2.011.84-2.011 2.14 0 1.3.795 2.227 1.695 2.227.4 0 .805.073 1.105-.127V8.6c0-.4.3-.8.8-.8s.8.3.8.8v1.8c0 .2.037.071-.063.271-.7.7-1.57.991-2.47.991C2.868 11.662 1.3 10.2 1.3 8s1.704-3.623 3.504-3.623z",fill:b,fillRule:"nonzero"})})}a.displayName=a.name+" [from "+f.id+"]";function b(a){var b=a.fill,d=a.size;a=a.xstyle;a=a===void 0?null:a;return j.jsx("svg",{className:(h||(h=c("stylex")))(k.icon,k.fillGrey,a),height:String(d)+"px",viewBox:"0 0 17 16",width:String(d)+"px",x:"0px",y:"0px",children:j.jsxs("g",{fillRule:"evenodd",children:[j.jsx("circle",{cx:"5.5",cy:"5.5",fill:"none",r:"1"}),j.jsx("circle",{cx:"11.5",cy:"4.5",fill:"none",r:"1"}),j.jsx("path",{d:"M5.3 9c-.2.1-.4.4-.3.7.4 1.1 1.2 1.9 2.3 2.3h.2c.2 0 .4-.1.5-.3.1-.3 0-.5-.3-.6-.8-.4-1.4-1-1.7-1.8-.1-.2-.4-.4-.7-.3z",fill:"none"}),j.jsx("path",{d:"M10.4 13.1c0 .9-.4 1.6-.9 2.2 4.1-1.1 6.8-5.1 6.5-9.3-.4.6-1 1.1-1.8 1.5-2 1-3.7 3.6-3.8 5.6z",fill:b}),j.jsx("path",{d:"M2.5 13.4c.1.8.6 1.6 1.3 2 .5.4 1.2.6 1.8.6h.6l.4-.1c1.6-.4 2.6-1.5 2.7-2.9.1-2.4 2.1-5.4 4.5-6.6 1.3-.7 1.9-1.6 1.9-2.8l-.2-.9c-.1-.8-.6-1.6-1.3-2-.7-.5-1.5-.7-2.4-.5L3.6 1.5C1.9 1.8.7 3.4 1 5.2l1.5 8.2zm9-8.9c.6 0 1 .4 1 1s-.4 1-1 1-1-.4-1-1 .4-1 1-1zm-3.57 6.662c.3.1.4.4.3.6-.1.3-.3.4-.5.4h-.2c-1-.4-1.9-1.3-2.3-2.3-.1-.3.1-.6.3-.7.3-.1.5 0 .6.3.4.8 1 1.4 1.8 1.7zM5.5 5.5c.6 0 1 .4 1 1s-.4 1-1 1-1-.4-1-1 .4-1 1-1z",fill:b,fillRule:"nonzero"})]})})}b.displayName=b.name+" [from "+f.id+"]";function e(a){var b=a.fill,d=a.size;a=a.xstyle;a=a===void 0?!1:a;var e=b==null?"xsrhx6k":void 0,f=b==null?"x1dmfqyo":void 0;return j.jsx("svg",{className:(h||(h=c("stylex")))(k.icon,a),height:String(d)+"px",viewBox:"0 -1 17 17",width:String(d)+"px",children:j.jsxs("g",{fill:"none",fillRule:"evenodd",children:[j.jsx("path",{className:e,d:"M2.882 13.13C3.476 4.743 3.773.48 3.773.348L2.195.516c-.7.1-1.478.647-1.478 1.647l1.092 11.419c0 .5.2.9.4 1.3.4.2.7.4.9.4h.4c-.6-.6-.727-.951-.627-2.151z",fill:b}),j.jsx("circle",{className:e,cx:"8.5",cy:"4.5",fill:b,r:"1.5"}),j.jsx("path",{className:e,d:"M14 6.2c-.2-.2-.6-.3-.8-.1l-2.8 2.4c-.2.1-.2.4 0 .6l.6.7c.2.2.2.6-.1.8-.1.1-.2.1-.4.1s-.3-.1-.4-.2L8.3 8.3c-.2-.2-.6-.3-.8-.1l-2.6 2-.4 3.1c0 .5.2 1.6.7 1.7l8.8.6c.2 0 .5 0 .7-.2.2-.2.5-.7.6-.9l.6-5.9L14 6.2z",fill:b}),j.jsx("path",{className:f,d:"M13.9 15.5l-8.2-.7c-.7-.1-1.3-.8-1.3-1.6l1-11.4C5.5 1 6.2.5 7 .5l8.2.7c.8.1 1.3.8 1.3 1.6l-1 11.4c-.1.8-.8 1.4-1.6 1.3z",stroke:b,strokeLinecap:"round",strokeLinejoin:"round"})]})})}e.displayName=e.name+" [from "+f.id+"]";function l(a){var b=a.fill,d=a.isRotated;d=d===void 0?!1:d;a=a.size;return j.jsx("svg",{className:(h||(h=c("stylex")))(k.icon,k.moreActionsIcon,k.fillGrey,d?k.rotated:k.notRotated),height:String(a)+"px",viewBox:"0 0 24 24",width:String(a)+"px",children:j.jsxs("g",{fillRule:"evenodd",children:[j.jsx("polygon",{fill:"none",points:"-6,30 30,30 30,-6 -6,-6 "}),j.jsx("path",{d:"m18,11l-5,0l0,-5c0,-0.552 -0.448,-1 -1,-1c-0.5525,0 -1,0.448 -1,1l0,5l-5,0c-0.5525,0 -1,0.448 -1,1c0,0.552 0.4475,1 1,1l5,0l0,5c0,0.552 0.4475,1 1,1c0.552,0 1,-0.448 1,-1l0,-5l5,0c0.552,0 1,-0.448 1,-1c0,-0.552 -0.448,-1 -1,-1m-6,13c-6.6275,0 -12,-5.3725 -12,-12c0,-6.6275 5.3725,-12 12,-12c6.627,0 12,5.3725 12,12c0,6.6275 -5.373,12 -12,12",fill:b})]})})}l.displayName=l.name+" [from "+f.id+"]";function m(a){var b=a.fill,d=a.size;a=a.xstyle;a=a===void 0?!1:a;var e=b==null?"xsrhx6k":void 0;return j.jsx("svg",{className:(h||(h=c("stylex")))(k.icon,a),height:String(d)+"px",viewBox:"0 0 38 38",width:String(d)+"px",children:j.jsx("g",{fill:"none",fillRule:"evenodd",children:j.jsx("g",{transform:"translate(-893.000000, -701.000000)",children:j.jsx("g",{transform:"translate(709.000000, 314.000000)",children:j.jsx("g",{children:j.jsx("path",{className:e,d:"M210.5,405 C209.121,405 208,403.879 208,402.5 C208,401.121 209.121,400 210.5,400 C211.879,400 213,401.121 213,402.5 C213,403.879 211.879,405 210.5,405 M212.572,411.549 C210.428,413.742 206.938,415 203,415 C199.062,415 195.572,413.742 193.428,411.549 C192.849,410.956 192.859,410.007 193.451,409.428 C194.045,408.85 194.993,408.859 195.572,409.451 C197.133,411.047 199.909,412 203,412 C206.091,412 208.867,411.047 210.428,409.451 C211.007,408.859 211.956,408.85 212.549,409.428 C213.141,410.007 213.151,410.956 212.572,411.549 M195.5,400 C196.879,400 198,401.121 198,402.5 C198,403.879 196.879,405 195.5,405 C194.121,405 193,403.879 193,402.5 C193,401.121 194.121,400 195.5,400 M203,387 C192.523,387 184,395.523 184,406 C184,416.477 192.523,425 203,425 C213.477,425 222,416.477 222,406 C222,395.523 213.477,387 203,387",fill:b})})})})})})}m.displayName=m.name+" [from "+f.id+"]";g.Gif=a;g.Sticker=b;g.Photo=e;g.MoreActions=l;g.Emoji=m}),98);
__d("shouldApplyCSAMBlock",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){if(a==null)return!1;switch((h||(h=d("I64"))).to_int32(a.enforcements)){case 1:case 8192:case 4096:case 512:case 256:case 2048:case 1024:return!0}return!1}g["default"]=a}),98);
__d("useAsyncReStore",["LSDatabaseSingleton","Promise","ReStoreProvider.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;e=j||d("react");var l=e.useContext,m=e.useMemo;function a(){var a=l((k||(k=d("ReStoreProvider.react"))).context);return m(function(){return a!=null?(i||(i=b("Promise"))).resolve(a):h||(h=c("LSDatabaseSingleton"))},[a])}g["default"]=a}),98);
__d("useMaybeShowCSAMBlockAsync",["JSResourceForInteraction","Promise","ReQL","promiseDone","react","shouldApplyCSAMBlock","useAsyncReStore","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useCallback;function a(){var a=c("useAsyncReStore")(),e=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatCSAMBlockDialog.react").__setRef("useMaybeShowCSAMBlockAsync")),f=e[0];return j(function(e){var g=e.onProceed,i=e.threadKey;c("promiseDone")(a,function(a){return(h||(h=b("Promise"))).all([d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.table("thread_limits")).getKeyRange(i)),d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("threads")).getKeyRange(i))]).then(function(a){var b=a[0];a=a[1];return!c("shouldApplyCSAMBlock")(b)||b==null||a==null?g&&g():f({thread:a,threadLimit:b})},function(){return g&&g()})})},[a,f])}g["default"]=a}),98);
__d("MWLSPostbackCtaHandler",["Int64Hooks","LSFactory","LSIntEnum","LSMailboxType","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSOptimisticSendMessage","LSThreadAttributionTypeUtil","MWPActor.react","MWThreadKey.react","promiseDone","useLSMessagingInitiatingSource","useLSMessagingSource","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(){var a=(i||(i=c("useReStore")))(),b=d("MWPActor.react").useActor(),e=d("MWThreadKey.react").useMWThreadKeyMemoizedExn(),f=c("useLSMessagingInitiatingSource")(),g=c("useLSMessagingSource")();return d("Int64Hooks").useCallbackInt64(function(i,j){var k=d("LSThreadAttributionTypeUtil").getSource(e,g);c("promiseDone")(a.runInTransaction(function(a){var g;return c("LSOptimisticSendMessage")(b,e,(h||(h=d("LSIntEnum"))).ofNumber(1),h.ofNumber(c("LSMailboxType").MESSENGER),j,j,!1,void 0,void 0,void 0,void 0,k,void 0,i,void 0,h.ofNumber(c("LSMessageReplySourceType").NONE),h.ofNumber(c("LSMessageReplySourceTypeV2").NONE),void 0,void 0,void 0,!0,!0,void 0,(g=f)!=null?g:void 0,void 0,void 0,void 0,c("LSFactory")(a))},"readwrite"))},[a,g,f,b,e])}g.usePostbackCtaHandler=a}),98);
__d("MWPComposerDraftMessages",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h,i=new Map();function a(a,b){if(b==null){i["delete"]((h||(h=d("I64"))).to_string(a));return}i.set((h||(h=d("I64"))).to_string(a),b)}function b(a){return i.get((h||(h=d("I64"))).to_string(a))}g.updateDraftMessage=a;g.getDraftMessage=b}),98);
__d("useMWLSUpdateDraftMessage",["I64","Int64Hooks","MWPActor.react","MWPComposerDraftMessages"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){var c=d("MWPActor.react").useActor();return d("Int64Hooks").useCallbackInt64(function(e,f){b!=null&&a!=null&&b(JSON.stringify(a.getEditorState()),(h||(h=d("I64"))).to_string(e),f,c),d("MWPComposerDraftMessages").updateDraftMessage(e,f)},[a,b,c])}g["default"]=a}),98);
__d("MWGroupUpdatesVerifiedIcon.react",["ix","CometIcon.react","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(){return j.jsx(c("CometIcon.react"),{color:"highlight",icon:d("fbicon")._(h("494936"),12)})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("getGroupThreadViewParams",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){b=b==null?void 0:b.main.route.params;a=(a==null?void 0:a.entity_type)==="group"&&(a==null?void 0:a.section)==="CHATS";if(!a)return null;a=b==null?void 0:b.thread_id;b=b==null?void 0:b.idorvanity;if(a==null||b==null)return null;return typeof a==="string"&&typeof b==="string"?{groupId:b,threadKey:a}:null}f["default"]=a}),66);
__d("useGroupThreadViewParams",["getGroupThreadViewParams","useCometRouterState","useTopMostRouteCometEntityKey"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("useTopMostRouteCometEntityKey")(),b=c("useCometRouterState")();return c("getGroupThreadViewParams")(a,b)}g["default"]=a}),98);
__d("useMWInboxURIState",["CometRouteParams","CometRouteURL","ConstUriUtils","CurrentEnvironment","FBLogger","I64","LSMessagingThreadTypeUtil","MWCMIsAnyCMThread","MessengerURIConstants","ReQL","ReQLSuspense","gkx","isArmadillo","nullthrows","useCurrentRoute","useGroupThreadViewParams","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e="Compose";var j="PayFriendPicker",k="PayThread",l="SecureThread",m="Thread";e={Compose:e};j={PayFriendPicker:j,PayThread:k};k={SecureThread:l,Thread:m};var n=babelHelpers["extends"]({},e,j,k);l="Null";m="Payment";e="People";j="Search";k="SearchMessages";var o="SeeAllGroups",p="SeeAllPages",q="SeeAllPeople",r="SeeAllUnread",s="TeamworkSeeAllAnnouncementGroups",t="Recent",u="UnsupportedThread";l={Null:l,Payment:m,People:e,Search:j,SearchMessages:k,SeeAllGroups:o,SeeAllPages:p,SeeAllPeople:q,SeeAllUnread:r,TeamworkSeeAllAnnouncementGroups:s};m={Recent:t};e={UnsupportedThread:u};var v=babelHelpers["extends"]({},l,m,e),w="/?$";function x(a){a=a.match(new RegExp(c("MessengerURIConstants").THREAD_PREFIX+"([^/]+)/?$"));if(a!=null)return decodeURIComponent(a[1])}var y=c("CurrentEnvironment").instagramdotcom?c("MessengerURIConstants").INSTAGRAM_DIRECT_PATH:c("CurrentEnvironment").facebookdotcom?c("MessengerURIConstants").FACEBOOK_PREFIX:"";function z(a){a=new URL(a.url,window.location.origin);var b=a.pathname;a=a.searchParams;var e=new RegExp("^"+(y+"(/|$)"));if(c("CurrentEnvironment").facebookdotcom&&!e.test(b))throw c("FBLogger")("messenger_web_product").mustfixThrow("MWInboxURIState.NonMessengerState wrong CurrentEnvironment pattern for %s",y);b=b.replace(e,"/");e=a==null?void 0:a.get("fbid");a=a==null?void 0:a.get("id");if(b.match(new RegExp("^"+c("MessengerURIConstants").PEOPLE_PATH))!=null)return{type:v.People};if(b.match(new RegExp("^"+c("MessengerURIConstants").PAYMENT_PATH))!=null)return{type:v.Payment};if(b.match(new RegExp("^"+c("MessengerURIConstants").SEARCH_PATH))!=null)return{type:v.Search};if(b.match(new RegExp("^"+c("MessengerURIConstants").TEAMWORK_GROUP_VIEW))!=null)return{type:v.SeeAllGroups};if(b.match(new RegExp("^"+c("MessengerURIConstants").TEAMWORK_CHAT_VIEW))!=null)return{type:v.SeeAllPeople};if(b.match(new RegExp("^"+c("MessengerURIConstants").TEAMWORK_UNREAD_VIEW))!=null)return{type:v.SeeAllUnread};if(b.match(new RegExp("^"+c("MessengerURIConstants").TEAMWORK_ANNOUNCEMENT_GROUP_VIEW))!=null)return{type:v.TeamworkSeeAllAnnouncementGroups};if(b==="/read/")return{type:v.Recent,uriStateDetails:e!=null?{fbid:(i||(i=d("I64"))).of_string(e),type:n.Thread}:void 0};if(b.match(new RegExp("^"+(c("MessengerURIConstants").COMPOSE_SUBPATH+w)))!=null)return{type:v.Recent,uriStateDetails:{initialTogglePosition:"E2EEToggleOff",type:n.Compose}};if(b.match(new RegExp("^"+(c("MessengerURIConstants").PAYMENT_PATH+c("MessengerURIConstants").PAYMENT_PAY_PATH)))!=null)return{type:v.Recent,uriStateDetails:{fbid:void 0,type:a!=null?n.PayThread:n.PayFriendPicker}};e=B(x(b));return{type:v.Recent,uriStateDetails:e!=null?{fbid:e,type:n.Thread}:void 0}}var A=c("gkx")("1968579")||c("gkx")("6975");function a(a){return new URL(a,window.location.origin).pathname.split("/")}function B(a){try{return a!=null?(i||(i=d("I64"))).of_string_opt(a):void 0}catch(a){return void 0}}function b(a){var b,e=(h||(h=c("useReStore")))(),g=c("useCurrentRoute")(),j=d("CometRouteURL").useRouteURLPath(),k=c("useGroupThreadViewParams")();a=B(a);var l=d("CometRouteParams").useRouteParams();b=a!=null?(b=d("ReQLSuspense").first(d("ReQL").fromTableAscending(e.table("threads")).getKeyRange(a),f.id+":319"))==null?void 0:b.threadType:null;var m=b!=null?c("MWCMIsAnyCMThread")(b):!1,o=b!=null?d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannelWithNoAccessibility(b):!1;if(k!=null)return{type:v.Recent,uriStateDetails:{fbid:(i||(i=d("I64"))).of_string(k.threadKey),type:n.Thread}};if(g==null)return{type:v.Null};if(!j.startsWith(y)&&!j.startsWith(c("MessengerURIConstants").GROUPS_PATH))throw c("FBLogger")("messenger_web_product").mustfixThrow("MWInboxURIState.NonMessengerState wrong groups path %s",j);k=l.initial_e2ee_toggle_position==="1"||l.initial_e2ee_toggle_position===1||l.initial_e2ee_toggle_position===!0?"E2EEToggleOn":"E2EEToggleOff";j=g.url.substring(y.length);j=c("nullthrows")((l=d("ConstUriUtils").getUri(j))==null?void 0:l.getPath().split("/"));if(a!=null){if(j.length===4&&j[0]===""&&j[1]==="e2ee"&&j[2]==="t"&&c("isArmadillo")())return{type:v.Recent,uriStateDetails:{fbid:a,type:n.SecureThread}};if(b!=null&&d("LSMessagingThreadTypeUtil").isSecure(b))return z(g);if(m&&!A)return{type:v.Null};return o?{fbid:a,type:v.UnsupportedThread}:{type:v.Recent,uriStateDetails:{fbid:a,type:n.Thread}}}if(j==null)return z(g);switch(j.length){case 2:return j[1]==="new"?{type:v.Recent,uriStateDetails:{initialTogglePosition:k,type:n.Compose}}:z(g);case 3:if(j[1]!=="t")return z(g);if(j[2]==="")return z(g);l=B(j[2]);b=l!=null?d("ReQLSuspense").first(d("ReQL").fromTableAscending(e.table("threads")).getKeyRange(l),f.id+":433"):null;return l!=null&&b!=null&&d("LSMessagingThreadTypeUtil").isSecure(b==null?void 0:b.threadType)?{type:v.Recent,uriStateDetails:{fbid:l,type:n.Thread}}:{type:v.Null};case 0:case 1:default:return z(g)}}g.MWInboxURIStateDetailsType=n;g.MWInboxURIStateTag=v;g.getRouteTokens=a;g.useMWInboxURIState=b}),98);
__d("MWInboxProvider.react",["react","useMWInboxURIState"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h.createContext;var j=b();function a(a){var b=a.children;a=a.threadKey;a=d("useMWInboxURIState").useMWInboxURIState(a);return i.jsx(j.Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";g.MWInboxProviderContext=j;g.MWInboxProvider=a}),98);
__d("MWInboxPassiveContext.react",["I64","MWInboxProvider.react","emptyFunction","react","useMWInboxURIState"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));b=h;e=b.createContext;var k=b.useContext,l=b.useEffect,m=b.useMemo;b={isPassive:!1,setIsPassive:c("emptyFunction")};var n=e(b);function o(a){if(a!=null&&a.type===d("useMWInboxURIState").MWInboxURIStateTag.Recent){a=a.uriStateDetails;a!=null&&a.type===d("useMWInboxURIState").MWInboxURIStateDetailsType.Thread&&(i||(i=d("I64"))).to_string(a.fbid)}return""}function a(a){var b=a.children;a=babelHelpers.objectWithoutPropertiesLoose(a,["children"]);var c=a.isPassive,e=a.setIsPassive;a=k(d("MWInboxProvider.react").MWInboxProviderContext);a=o(a);l(function(){e(!1)},[e,a]);a=m(function(){return{isPassive:c,setIsPassive:e}},[c,e]);return j.jsx(n.Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";g.MWInboxPassiveContext=n;g.MWInboxPassiveContextProvider=a}),98);
__d("MWCMBotIcons.react",["ix","cr:2344","cr:4919","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(){if(b("cr:4919")!=null)return j.jsx("span",{className:"x1n2onr6 x1atx4j1",children:j.jsx(b("cr:4919"),{color:"secondary",inline:!0,size:16,viewBox:"4 4 24 24"})});return b("cr:2344")!=null?j.jsx(b("cr:2344"),{color:"secondary",icon:d("fbicon")._(h("1108145"),12)}):null}a.displayName=a.name+" [from "+f.id+"]";function c(){if(b("cr:4919")!=null)return j.jsx(b("cr:4919"),{color:"secondary",inline:!0,size:16,viewBox:"2 4 24 24"});return b("cr:2344")!=null?j.jsx(b("cr:2344"),{color:"secondary",icon:d("fbicon")._(h("1108145"),12)}):null}c.displayName=c.name+" [from "+f.id+"]";function e(){if(b("cr:4919")!=null)return j.jsx(b("cr:4919"),{color:"secondary",inline:!0,size:24,viewBox:"4 4 24 24"});return b("cr:2344")!=null?j.jsx(b("cr:2344"),{color:"secondary",icon:d("fbicon")._(h("621884"),20)}):null}e.displayName=e.name+" [from "+f.id+"]";function k(){if(b("cr:4919")!=null)return j.jsx(b("cr:4919"),{color:"primary",inline:!1,size:28,viewBox:"-1 -1 32 32"});return b("cr:2344")!=null?j.jsx(b("cr:2344"),{color:"primary",icon:d("fbicon")._(h("621884"),20)}):null}k.displayName=k.name+" [from "+f.id+"]";g.BadgeIcon=a;g.WelcomeCardBadgeIcon=c;g.ProfileCardBadgeIcon=e;g.EntryPointIcon=k}),98);
__d("MWCMHostTextHovercard.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{}},root:c("JSResourceForInteraction")("MWCMHostTextHovercard.react").__setRef("MWCMHostTextHovercard.entrypoint")};g["default"]=a}),98);
__d("C4GFalcoLoggerDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("C4gEngagementFalcoEvent").__setRef("C4GFalcoLoggerDeferred");function a(a){var b=a.action,c=a.category_id,d=a.client_extras,e=a.community_id,f=a.entry_point,g=a.event,i=a.field_value,j=a.group_id,k=a.parent_surface,l=a.source,m=a.surface,n=a.thread_id;h.onReady(function(a){return a.log(function(){return{action:b,category_id:c,client_extras:d,community_id:e,entry_point:f,event:g,field_value:i,group_id:j,parent_surface:k,source:l,surface:m,thread_id:n}})})}g.logC4GEngagementFalcoEvent=a}),98);
__d("MessagingSpecialThreadRole",[],(function(a,b,c,d,e,f){a=Object.freeze({ADMIN:1,THREAD_CREATOR:2,SUPER_ADMIN:3,MODERATOR:4,IG_BROADCAST_CHAT_COLLABORATOR:5,CHAT_HOST:6});f["default"]=a}),66);
__d("MessagingSpecialThreadRoleBitOffset",["I64","LSBitFlag"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return b==null?!1:d("LSBitFlag").has((h||(h=d("I64"))).lsl_(h.one,a),b.threadRoles)}g.has=a}),98);
__d("useMWCMIsSenderChatHost",["Int64Hooks","LSFactory","LSIntEnum","LSIssueCommunityAdminModerationActionsFetchStoredProcedure","MessagingSpecialThreadRole","MessagingSpecialThreadRoleBitOffset","ReQL","ReQLSuspense","pageID","promiseDone","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b,e){var g,j=(i||(i=c("useReStore")))();d("Int64Hooks").useEffectInt64(function(){c("promiseDone")(j.runInTransaction(function(f){return c("LSIssueCommunityAdminModerationActionsFetchStoredProcedure")(c("LSFactory")(f),{fbGroupId:a,requestId:c("pageID"),source:(h||(h=d("LSIntEnum"))).ofNumber(14),targetUserId:e,threadId:b})},"readwrite"))},[j,a,e,b]);return(g=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(j.table("community_members")).getKeyRange(a,e,(h||(h=d("LSIntEnum"))).ofNumber(14),c("pageID")).map(function(a){return d("MessagingSpecialThreadRoleBitOffset").has(c("MessagingSpecialThreadRole").CHAT_HOST,a)})},[j,a,e],f.id+":59"))!=null?g:!1}g["default"]=a}),98);
__d("XCometArchivedThreadsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/messages/archived/t/{thread_key}/",Object.freeze({}),["/messages/archived/"],void 0);b=a;g["default"]=b}),98);
__d("XMessengerDotComCometArchivedThreadsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/archived/t/{thread_key}/",Object.freeze({}),["/archived/"],void 0);b=a;g["default"]=b}),98);
__d("MWInboxArchivedThreadsRouteBuilder",["CurrentEnvironment","XCometArchivedThreadsControllerRouteBuilder","XMessengerDotComCometArchivedThreadsControllerRouteBuilder"],(function(a,b,c,d,e,f,g){"use strict";a=c("CurrentEnvironment").facebookdotcom?{buildURL:function(a){a=a.thread_key;return c("XCometArchivedThreadsControllerRouteBuilder").buildURL({thread_key:a})},buildURLWithoutThread:function(){return c("XCometArchivedThreadsControllerRouteBuilder").buildExtraURL("/messages/archived/",{})}}:{buildURL:function(a){a=a.thread_key;return c("XMessengerDotComCometArchivedThreadsControllerRouteBuilder").buildURL({thread_key:a})},buildURLWithoutThread:function(){return c("XMessengerDotComCometArchivedThreadsControllerRouteBuilder").buildExtraURL("/archived/",{})}};b=a.buildURL;d=a.buildURLWithoutThread;g.buildURL=b;g.buildURLWithoutThread=d}),98);
__d("XMessengerDotComCometBusinessSupportThreadsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/support/t/{thread_key}/",Object.freeze({}),["/support/","/business_support/","/business_support/t/{thread_key}/"],void 0);b=a;g["default"]=b}),98);
__d("MWInboxBusinessSupportThreadsRouteBuilder",["XMessengerDotComCometBusinessSupportThreadsControllerRouteBuilder"],(function(a,b,c,d,e,f,g){"use strict";a={buildURL:function(a){return c("XMessengerDotComCometBusinessSupportThreadsControllerRouteBuilder").buildURL(a)},buildURLWithoutThread:function(a){return c("XMessengerDotComCometBusinessSupportThreadsControllerRouteBuilder").buildExtraURL("/support/",a)}};b=a.buildURL;d=a.buildURLWithoutThread;g.buildURL=b;g.buildURLWithoutThread=d}),98);
__d("XCometMarketplaceThreadsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/messages/marketplace/t/{thread_key}/",Object.freeze({}),["/messages/marketplace/"],void 0);b=a;g["default"]=b}),98);
__d("XMessengerDotComCometMarketplaceThreadsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/marketplace/t/{thread_key}/",Object.freeze({}),["/marketplace/"],void 0);b=a;g["default"]=b}),98);
__d("MWInboxMarketplaceThreadsRouteBuilder",["CurrentEnvironment","XCometMarketplaceThreadsControllerRouteBuilder","XMessengerDotComCometMarketplaceThreadsControllerRouteBuilder"],(function(a,b,c,d,e,f,g){"use strict";a=c("CurrentEnvironment").facebookdotcom?{buildURL:function(a){a=a.thread_key;return c("XCometMarketplaceThreadsControllerRouteBuilder").buildURL({thread_key:a})},buildURLWithoutThread:function(){return c("XCometMarketplaceThreadsControllerRouteBuilder").buildExtraURL("/messages/marketplace/",{})}}:{buildURL:function(a){a=a.thread_key;return c("XMessengerDotComCometMarketplaceThreadsControllerRouteBuilder").buildURL({thread_key:a})},buildURLWithoutThread:function(){return c("XMessengerDotComCometMarketplaceThreadsControllerRouteBuilder").buildExtraURL("/marketplace/",{})}};b=a.buildURL;d=a.buildURLWithoutThread;g.buildURL=b;g.buildURLWithoutThread=d}),98);
__d("XCometMessageRequestsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/messages/requests/t/{thread_key}/",Object.freeze({}),["/messages/requests/","/messages/e2ee/requests/t/{thread_key}/"],void 0);b=a;g["default"]=b}),98);
__d("XMessengerDotComCometMessageRequestsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/requests/t/{thread_key}/",Object.freeze({}),["/requests/","/e2ee/requests/t/{thread_key}/"],void 0);b=a;g["default"]=b}),98);
__d("MWInboxMessageRequestsRouteBuilder",["CurrentEnvironment","XCometMessageRequestsControllerRouteBuilder","XMessengerDotComCometMessageRequestsControllerRouteBuilder"],(function(a,b,c,d,e,f,g){"use strict";a=c("CurrentEnvironment").facebookdotcom?{buildE2EEThreadURL:function(a){a=a.thread_key;return c("XCometMessageRequestsControllerRouteBuilder").buildExtraURL("/messages/e2ee/requests/t/{thread_key}/",{thread_key:a})},buildURL:function(a){a=a.thread_key;return c("XCometMessageRequestsControllerRouteBuilder").buildURL({thread_key:a})},buildURLWithoutThread:function(a){return c("XCometMessageRequestsControllerRouteBuilder").buildExtraURL("/messages/requests/",a)}}:{buildE2EEThreadURL:function(a){a=a.thread_key;return c("XMessengerDotComCometMessageRequestsControllerRouteBuilder").buildExtraURL("/e2ee/requests/t/{thread_key}/",{thread_key:a})},buildURL:function(a){a=a.thread_key;return c("XMessengerDotComCometMessageRequestsControllerRouteBuilder").buildURL({thread_key:a})},buildURLWithoutThread:function(a){return c("XMessengerDotComCometMessageRequestsControllerRouteBuilder").buildExtraURL("/requests/",a)}};b=a.buildE2EEThreadURL;d=a.buildURL;e=a.buildURLWithoutThread;g.buildE2EEThreadURL=b;g.buildURL=d;g.buildURLWithoutThread=e}),98);
__d("useMWInboxPassiveContext",["MWInboxPassiveContext.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(){return i(d("MWInboxPassiveContext.react").MWInboxPassiveContext)}g["default"]=a}),98);
__d("MWInboxInfoSharedContentQPLLogger",["QPLUserFlow","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h={contents:!1};function a(a){h.contents=!0,c("QPLUserFlow").start(c("qpl")._(778117242,"206"),{annotations:{string:{entrypoint:"side_panel_"+a}},cancelOnUnload:!0})}function b(a){if(h.contents===!1){var b;switch(a){case"media":b="media";break;case"files":b="file";break;case"links":b="link";break}h.contents=!0;c("QPLUserFlow").start(c("qpl")._(778117242,"206"),{annotations:{string:{content_location:"thread",content_type:b,entrypoint:"thread"}},cancelOnUnload:!0})}c("QPLUserFlow").addPoint(c("qpl")._(778117242,"206"),"shared_content_click",{})}function d(a){var b;switch(a){case"media":b="open_tab_media";break;case"files":b="open_tab_files";break;case"links":b="open_tab_links";break}c("QPLUserFlow").addPoint(c("qpl")._(778117242,"206"),b,{})}function e(a,b){switch(a){case"media":c("QPLUserFlow").addPoint(c("qpl")._(778117242,"206"),"load_tab_media",{});c("QPLUserFlow").addAnnotations(c("qpl")._(778117242,"206"),{"int":{media_count:b}});return;case"files":c("QPLUserFlow").addPoint(c("qpl")._(778117242,"206"),"load_tab_files",{});c("QPLUserFlow").addAnnotations(c("qpl")._(778117242,"206"),{"int":{files_count:b}});return;case"links":c("QPLUserFlow").addPoint(c("qpl")._(778117242,"206"),"load_tab_links",{});c("QPLUserFlow").addAnnotations(c("qpl")._(778117242,"206"),{"int":{links_count:b}});return}}function f(a){var b;switch(a){case"media":b="media";break;case"files":b="file";break;case"links":b="link";break}c("QPLUserFlow").addPoint(c("qpl")._(778117242,"206"),"shared_content_click",{});c("QPLUserFlow").addAnnotations(c("qpl")._(778117242,"206"),{string:{content_location:"side_panel",content_type:b}});if(a==="links"){c("QPLUserFlow").endSuccess(c("qpl")._(778117242,"206"));h.contents=!1;return}}function i(){c("QPLUserFlow").endCancel(c("qpl")._(778117242,"206"),{annotations:{string:{cancel_reason:"side_panel_navigated_back"}}}),h.contents=!1}function j(){c("QPLUserFlow").endCancel(c("qpl")._(778117242,"206"),{annotations:{string:{cancel_reason:"close_info_panel"}}}),h.contents=!1}function k(){c("QPLUserFlow").endCancel(c("qpl")._(778117242,"206"),{annotations:{string:{cancel_reason:"navigated_away"}}}),h.contents=!1}function l(){c("QPLUserFlow").endSuccess(c("qpl")._(778117242,"206")),h.contents=!1}g.logOpenSidePanel=a;g.logOpenSharedContentFromThread=b;g.logOpenTab=d;g.logLoadTab=e;g.logOpenSharedContentFromSidePanel=f;g.logNavigateBackFromSidePanel=i;g.logCloseInfoPanel=j;g.logNavigateAwaySidePanel=k;g.logOpenContentViewer=l}),98);
__d("MWChatMessagesOnChatTabLoadTracker",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h,i={},j={};function a(a){return function(b){var c=(h||(h=d("I64"))).to_string(b);c in a||(a[(h||(h=d("I64"))).to_string(b)]=0);a[h.to_string(b)]++}}f=a(i);a=a(j);function b(a){return i[a]||0}function c(a){return j[a]||0}function e(a){delete i[a],delete j[a]}g.trackSendFor=f;g.trackReceivedFor=a;g.getMessageSendsCountFor=b;g.getMessageReceivesCountFor=c;g.clearMessageCountsFor=e}),98);
__d("MWChatTabSharedQPLAnnotations",["I64","MAWCurrentUser","MAWEBSwitch","MWChatMessagesOnChatTabLoadTracker","MultipleTabsLogger","promiseDone","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("requireDeferred")("MAWThreadCutover").__setRef("MWChatTabSharedQPLAnnotations");function j(a){return a===15||a===16}function a(a,b,e){var f=(h||(h=d("I64"))).to_string(e),g=b!=null?j(b):!1;a.addAnnotation("thread_id",f);a.addAnnotation("thread_type",b?b.toString():"");a.addAnnotation("isSecure",g?"true":"false");a.addAnnotationInt("is_secure",g?1:0);a.addAnnotation("isEBEnabled",c("MAWEBSwitch").isEnabled().toString());d("MultipleTabsLogger").addAnnotationWithInteractionUuid(a.getTraceId());a.addAnnotationInt("is_tlc_public_user",d("MAWCurrentUser").isTlcPublicUser()?1:0);i.onReady(function(b){c("promiseDone")(b.isCutoverThreadKey(e).then(function(b){a.addAnnotationInt("is_cutover",b?1:0)}))});a.onComplete(function(){var b=d("MWChatMessagesOnChatTabLoadTracker").getMessageSendsCountFor(f),c=d("MWChatMessagesOnChatTabLoadTracker").getMessageReceivesCountFor(f);a.addAnnotationInt("messagesSent",b);a.addAnnotationInt("messagesReceived",c);a.addAnnotationInt("totalMessages",c+b);d("MWChatMessagesOnChatTabLoadTracker").clearMessageCountsFor(f)})}g.addSharedAnnotations=a}),98);
__d("MessagingLoggingUtils",["I64","MessagingAttachmentType"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){a=(h||(h=d("I64"))).to_int32(a);switch(a){case c("MessagingAttachmentType").NONE:return 1;case c("MessagingAttachmentType").STICKER:return 4;case c("MessagingAttachmentType").IMAGE:return 8;case c("MessagingAttachmentType").ANIMATED_IMAGE:return 6;case c("MessagingAttachmentType").VIDEO:return 10;case c("MessagingAttachmentType").AUDIO:return 11;case c("MessagingAttachmentType").FILE:return 9;case c("MessagingAttachmentType").XMA:return 13;case c("MessagingAttachmentType").EPHEMERAL_IMAGE:return 8;case c("MessagingAttachmentType").EPHEMERAL_VIDEO:return 5;case c("MessagingAttachmentType").SELFIE_STICKER:return 22;case c("MessagingAttachmentType").SOUND_BITE:return 23;default:return 1}}g.convertI64ToAttachmentType=a}),98);
__d("useMWChatOpenTabTraceProvider",["CometCurrentInitialLoadVC","CometHeroLogging","I64","MAWEBSwitch","MAWTTRCSafe","MWChatTabSharedQPLAnnotations","gkx","qpl","react","useCometInteractionTracing"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useCallback,k=!1;function a(){var a=c("useCometInteractionTracing")(c("qpl")._(30605380,"18"),"responsive","INTERACTION");return j(function(b,e,f,g,h){a(function(a){var i=c("CometHeroLogging").genHeroInteractionUUIDAndMarkStart(a.getTraceId());a.addAnnotationInt("pdb",c("gkx")("6543")?1:0);var j=d("MAWTTRCSafe").duringMIC();j&&a.addAnnotationInt("startedDuringMIC",1);a.addMetadata("entrypoint",f);a.addAnnotation("isEBEnabled",c("MAWEBSwitch").isEnabled().toString());a.addMetadata("hasBadge",h!=null?h.toString():"");d("MWChatTabSharedQPLAnnotations").addSharedAnnotations(a,e,g);a.onComplete(function(b){k?a.addMetadata("revisit",1):(a.addMetadata("revisit",0),k=!0);var c=d("CometCurrentInitialLoadVC").getInitialLoadVC();c!=null&&a.addAnnotationInt("sinceInitialLoadVC",Math.round(b.start-c))});b(i,a)},void 0,void 0,void 0,(i||(i=d("I64"))).to_string(g))},[a])}g["default"]=a}),98);
__d("useMWLSMarkThreadAsRead",["I64","LSFactory","LSOptimisticMarkThreadReadV2StoredProcedure","MWThreadKey.react","MessengerWebUXLogger","ReQL","ServerTime","asyncToGeneratorRuntime","cr:2580","cr:2865","promiseDone","react","unrecoverableViolation","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||d("react")).useCallback,l=(e=b("cr:2865"))!=null?e:function(){return{}};function a(a,e){var f,g=(h||(h=c("useReStore")))(),j=(f=d("MWThreadKey.react").useMWThreadKeyMemoized())!=null?f:e;if(j==null)throw c("unrecoverableViolation")("Tried to get a thread key when there was none","messenger_web_product");f=l();var m=f.setIsPassive,n=c("MessengerWebUXLogger")==null?void 0:c("MessengerWebUXLogger").useInteractionLogger();return k(function(){n==null?void 0:n({eventName:"mark_thread_as_read"}),m!=null&&m(!1),c("promiseDone")(g.runInTransaction(function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var f=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(e.table("threads")).getKeyRange(j)));if(f==null)return;var g=f.lastActivityTimestampMs,h=f.lastReadWatermarkTimestampMs;f=f.threadType;if((i||(i=d("I64"))).gt(g,h)){b("cr:2580")&&a!=null&&b("cr:2580")({threadKey:j,threadType:f},"seen_receipt",a);return c("LSOptimisticMarkThreadReadV2StoredProcedure")(c("LSFactory")(e),{readWatermarkTimestampMs:(i||(i=d("I64"))).of_float(d("ServerTime").getMillis()),threadKey:j})}});return function(a){return e.apply(this,arguments)}}(),"readwrite"))},[n,m,g,j,a])}g["default"]=a}),98);
__d("MWMessageCellKeyCommands.react",["CometComponentWithKeyCommands.react","MWV2MessageRowActionsContext.react","cometGetKeyCommandConfig","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useMemo;function a(a){var b=a.children;a.message;a=b;var e=(b=d("MWV2MessageRowActionsContext.react")).useMessageRowActionsContext(),f=e.openReactionsMenu,g=j(function(){return f.current()},[f]);e=b.useMessageRowActionsContext();var h=e.replyToMessage,l=j(function(){return h.current()},[h]);e=b.useMessageRowActionsContext();var m=e.forwardMessage,n=j(function(){return m.current()},[m]);e=b.useMessageRowActionsContext();var o=e.removeMessage,p=j(function(){return o.current()},[o]);b=k(function(){var a,b=[],c=(a=d("cometGetKeyCommandConfig")).getCometAndGeminiKeyCommandConfig("chats","likeMessage",g);b.push(c);c=a.getCometAndGeminiKeyCommandConfig("chats","replyToMessage",l);b.push(c);c=a.getCometAndGeminiKeyCommandConfig("chats","forwardMessage",n);b.push(c);c=a.getCometAndGeminiKeyCommandConfig("chats","removeMessage",p);b.push(c);return b},[g,l,n,p]);return i.jsx(c("CometComponentWithKeyCommands.react"),{commandConfigs:b,xstyle:!1,children:a})}a.displayName=a.name+" [from "+f.id+"]";e=a;g.keyCommands=e}),98);
__d("MWMessageDisplayContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useContext,k=i.createContext();function a(a){var b=a.children;a=a.value;return i.createElement(k.Provider,{children:b,value:(b=a)!=null?b:"standard"})}a.displayName=a.name+" [from "+f.id+"]";function b(){return j(k)}g.context=k;g.MWMessageDisplayContextProvider=a;g.useMWMessageDisplayContext=b}),98);
__d("MWV2TombstonedMessage.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={connectBottom:{borderBottomEndRadius:"x5pf9jr",borderBottomStartRadius:"xo71vjh",$$css:!0},connectTop:{borderTopEndRadius:"x13lgxp2",borderTopStartRadius:"x168nmei",$$css:!0},root:{borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",borderTopColor:"x8cjs6t",borderEndColor:"x1ch86jh",borderBottomColor:"x80vd3b",borderStartColor:"xckqwgs",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopEndRadius:"x1g8br2z",borderTopStartRadius:"x1tlxs6b",borderTopWidth:"x178xt8z",borderEndWidth:"xm81vs4",borderBottomWidth:"xso031l",borderStartWidth:"xy80clv",color:"x1dntmbh",maxWidth:"x193iq5w",paddingTop:"x889kno",paddingEnd:"x1iji9kk",paddingBottom:"x1a8lsjc",paddingStart:"x1sln4lm",wordBreak:"x13faqbe",$$css:!0}};function a(a){var b=a.children,d=a.connectTop,e=a.connectBottom;a=(a=a.xstyle)!=null?a:!1;d=d!=null?d:!1;e=e!=null?e:!1;return j.jsx("div",{className:(h||(h=c("stylex")))(k.root,d?k.connectTop:!1,e?k.connectBottom:!1,a),children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ChatErrorBubble.react",["fbt","MWV2TombstonedMessage.react","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react"),l={vr:{height:"x36qwtl",width:"xh8yej3",$$css:!0},withBackground:{backgroundColor:"xcrg951",$$css:!0},withRepliedMessage:{zIndex:"x1vjfegm",$$css:!0}};function a(a){a=a.isReply;return k.jsxs("div",{className:(i||(i=c("stylex")))(a?l.withRepliedMessage:l.withBackground),children:[a?null:k.jsx("div",{className:"x36qwtl xh8yej3 xcrg951"}),k.jsx(c("MWV2TombstonedMessage.react"),{xstyle:l.withBackground,children:h._("__JHASH__fgvjfNhcDBr__JHASH__")})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2MessageListIsRowModalContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;h||(h=d("react"));c=h;e=c.createContext;var i=c.createElement;function a(){}var j=e(a);function b(a){var b=a.children;a=a.value;return i(j.Provider,{children:b,value:a})}b.displayName=b.name+" [from "+f.id+"]";g.context=j;g.MWV2MessageListIsRowModalContextProvider=b}),98);
__d("MDSAccountSvgIcon.react",["MDSSvgIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsx(c("MDSSvgIcon.react"),babelHelpers["extends"]({},a,{children:i.jsx("path",{clipRule:"evenodd",d:"M18 29c6.075 0 11-4.925 11-11S24.075 7 18 7 7 11.925 7 18s4.925 11 11 11zm5.824-6.132c.408.316.431.91.059 1.268A8.472 8.472 0 0118 26.5c-2.283 0-4.355-.9-5.883-2.364a.834.834 0 01.059-1.268C13.654 21.719 15.746 21 18 21c2.255 0 4.346.719 5.824 1.868zM18 19c-1.882 0-3.5-1.304-3.5-4.142C14.5 12.544 15.974 11 18 11s3.5 1.544 3.5 3.858C21.5 17.696 19.882 19 18 19z",fillRule:"evenodd"})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MDSGlimmer.react",["BaseGlimmer.react","react","useCurrentDisplayMode"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={dark:{backgroundColor:"xhzw6zf",$$css:!0},light:{backgroundColor:"x1vtvx1t",$$css:!0}};function a(a){var b=a.xstyle;a=babelHelpers.objectWithoutPropertiesLoose(a,["xstyle"]);var d=c("useCurrentDisplayMode")();return i.jsx(c("BaseGlimmer.react"),babelHelpers["extends"]({xstyle:[d==="dark"?j.dark:j.light,b]},a))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2MessageProfilePhotoMenu.entrypoint",["JSResourceForInteraction","MWV2MessageProfilePhotoMenuQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var b=a.groupID;a=a.userID;return{queries:{messageProfilePhotoMenuQueryRef:{parameters:c("MWV2MessageProfilePhotoMenuQuery$Parameters"),variables:{groupID:b,userID:a}}}}},root:c("JSResourceForInteraction")("MWV2MessageProfilePhotoMenu.react").__setRef("MWV2MessageProfilePhotoMenu.entrypoint")};g["default"]=a}),98);
__d("MWXTooltip.react",["cr:976","cr:998","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function j(a){return a.label!==void 0}function a(a){var c=j(a)?a.label:a.tooltip;a.label;a=babelHelpers.objectWithoutPropertiesLoose(a,["label"]);if(b("cr:998")!=null)return i.jsx(b("cr:998"),babelHelpers["extends"]({label:c},a));return b("cr:976")!=null?i.jsx(b("cr:976"),babelHelpers["extends"]({},a)):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2MessageProfilePhotoContent.react",["fbt","CometEntryPointPopoverTrigger.react","CometImageCover.react","I64","LSContactBitOffset","MDSAccountSvgIcon.react","MDSGlimmer.react","MWLSThread","MWPActor.react","MWPreloadableQueries","MWV2MessageProfilePhotoMenu.entrypoint","MWXIcon.react","MWXPressable.react","MWXTooltip.react","ReQLSuspense","SVGIcon","getLSMediaContactProfilePictureUrl","qex","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||d("react"),m=h._("__JHASH__G4Bi2CYTkJR__JHASH__"),n={glimmer:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",height:"x1fgtraw",width:"xgd8bvy",$$css:!0},noProfilePhoto:{width:"xgd8bvy",$$css:!0},profile:{alignItems:"xuk3077",display:"x78zum5",flexShrink:"x2lah0s",height:"x1fgtraw",width:"xgd8bvy",$$css:!0}};function a(a){var b=a.ariaHidden;b=b===void 0?!1:b;var e=a.contact,g=a.isCMAdmin,h=g===void 0?!1:g,k=a.isGroupThread;g=a.isLastMessageInGroup;var o=a.message;a=a.nickname;var p=d("MWPActor.react").useActor(),q=(i||(i=c("useReStore")))(),r=d("MWLSThread").useThread(o.threadKey,function(a){return a==null?void 0:a.parentThreadKey}),s=d("ReQLSuspense").useFirst(function(){var a;return d("MWPreloadableQueries").getCommunityFolderQuery(q,(a=r)!=null?a:(j||(j=d("I64"))).zero).map(function(a){return a.fbGroupId})},[q,r],f.id+":79");if(!g)return l.jsx("div",{className:"xgd8bvy"});if(o.takedownState!=null)g=l.jsx(c("MWXTooltip.react"),{align:"middle",position:"start",tooltip:m,children:l.jsx(c("MWXIcon.react"),{alt:m,icon:d("SVGIcon").legacySVGIcon(function(){return l.jsx(c("MDSAccountSvgIcon.react"),{color:"disabled",size:28,viewBox:"6 6 24 24"})})})});else if(e!=null&&c("getLSMediaContactProfilePictureUrl")(e)!==""){var t;a=a!=null?a+" ("+e.name+")":e.name;var u=(t=d("LSContactBitOffset").has(77,e))!=null?t:!1;t=(t=d("LSContactBitOffset").has(84,e))!=null?t:!1;var v=l.jsx(c("CometImageCover.react"),{alt:e.name,src:c("getLSMediaContactProfilePictureUrl")(e),style:{borderRadius:"50%"}});g=l.jsx(c("MWXTooltip.react"),{align:"middle",position:"start",tooltip:a,children:c("qex")._("384")&&!t?l.jsx(c("CometEntryPointPopoverTrigger.react"),{entryPointParams:{groupID:(j||(j=d("I64"))).to_string((e=s)!=null?e:(j||(j=d("I64"))).zero),userID:(j||(j=d("I64"))).to_string(p)},otherProps:{message:o},popoverEntryPoint:c("MWV2MessageProfilePhotoMenu.entrypoint"),position:"above",children:function(a,b,d,e,f,g){return k&&(!u||h)?l.jsx(c("MWXPressable.react"),{onHoverIn:e,onHoverOut:f,onPress:function(){return b()},onPressIn:g,overlayRadius:"50%",ref:a,xstyle:n.profile,children:v}):v}}):v})}else g=l.jsx(c("MDSGlimmer.react"),{index:1,xstyle:n.glimmer});return l.jsx("div",{"aria-hidden":b,className:"xuk3077 x78zum5 x2lah0s x1fgtraw xgd8bvy",children:g})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2MessageProfilePhoto.react",["MWPContactContext.react","MWV2MessageProfilePhotoContent.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.ariaHidden;b=b===void 0?!1:b;var e=a.isCMAdmin;e=e===void 0?!1:e;var f=a.isGroupThread,g=a.isLastMessageInGroup;a=a.message;var h=d("MWPContactContext.react").useMWPContactStableContext(),j=h.contact;h=h.nickname;return i.jsx(c("MWV2MessageProfilePhotoContent.react"),{ariaHidden:b,contact:j,isCMAdmin:e,isGroupThread:f,isLastMessageInGroup:g,message:a,nickname:h})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPEditMessageUtil",["fbt","CometKeys","I64","LSFactory","LSOptimisticEditMessageStoredProcedure","MAWEditMessageContext.react","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=j||d("react"),m=l.useCallback,n=l.useContext,o=l.useMemo;function a(a){var b=a.editCount!=null&&(k||(k=d("I64"))).gt(a.editCount,(k||(k=d("I64"))).zero);return b&&!a.isUnsent}function b(){var a=n(d("MAWEditMessageContext.react").Context);a=a.editMessageData;return a}function e(){var a=(i||(i=c("useReStore")))();return m(function(b,d){return c("promiseDone")(a.runInTransaction(function(a){return c("LSOptimisticEditMessageStoredProcedure")(c("LSFactory")(a),{messageId:b,text:d})},"readwrite"))},[a])}function f(a){return o(function(){return[{command:{key:c("CometKeys").ENTER},description:h._("__JHASH__nNfxT3Tz2qU__JHASH__"),handler:function(){return a()},triggerFromInputs:!0}]},[a])}g.isEditedMessage=a;g.useGetEditMessageData=b;g.useGetSendEditActionforOpen=e;g.useEditMessageButtonKeyCommands=f}),98);
__d("MWEditMessageOverlay.react",["MWPColorUtils","MWPEditMessageUtil","gkx","nullthrows","react","useMWPThreadTheme"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.disabledWithBackgroundUrl;b=b===void 0?!0:b;a=a.messageId;var e=d("MWPEditMessageUtil").useGetEditMessageData(),f=e!=null;a=a!=null&&a===(e==null?void 0:e.messageId);e=c("gkx")("1969");var g=c("useMWPThreadTheme")();g=g.threadTheme;var h=e&&b&&g.backgroundUrl!=null;if(h||!f||a)return null;h=e&&!b&&g.titlebarBackgroundColor!=null;return i.jsx("div",{className:"x2bj2ny x5yr21d x1ks1olk x10l6tqk x17qophe x13vifvy xh8yej3 x1vjfegm",style:h?{backgroundColor:d("MWPColorUtils").int64ToHex(c("nullthrows")(g.titlebarBackgroundColor))}:void 0})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWPEditMessageDeemphasizer",["MAWEditMessageContext.react","gkx","react","useMWPThreadTheme"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext,j={deemphasize:{opacity:"x197sbye",$$css:!0}};function a(a){var b=i(d("MAWEditMessageContext.react").Context);b=b.editMessageData;var e=c("useMWPThreadTheme")();e=e.threadTheme;e=e.backgroundUrl!=null&&c("gkx")("1969")&&(b==null?void 0:b.messageId)!=null&&(b==null?void 0:b.messageId)!==a;return e?j.deemphasize:null}g["default"]=a}),98);
__d("MWV2MessageRowSimple.react",["FocusWithinHandler.react","MWEditMessageOverlay.react","MWMessageTableFocusTable.react","react","stylex","useMWPEditMessageDeemphasizer"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={row:{position:"x1n2onr6",$$css:!0},rowFocusVisible:{zIndex:"x1vjfegm",$$css:!0}};function a(a){var b=a.children;a=a.domElementRef;var e=c("useMWPEditMessageDeemphasizer")();return j.jsx(d("MWMessageTableFocusTable.react").FocusTable[1],{children:j.jsx("div",{className:(h||(h=c("stylex")))(e),ref:a,role:"row",children:j.jsx(d("MWMessageTableFocusTable.react").FocusTable[2],{children:j.jsx(c("FocusWithinHandler.react"),{children:function(a,e){return j.jsxs("div",{className:(h||(h=c("stylex")))(k.row,e?k.rowFocusVisible:!1),"data-release-focus-from":"CLICK","data-scope":d("MWMessageTableFocusTable.react").scopeID,role:"gridcell",tabIndex:0,children:[b,j.jsx(c("MWEditMessageOverlay.react"),{})]})}})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWTheme.react",["I64","cr:4128","emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react")),k=h,l=k.createContext,m=k.useContext,n=k.useEffect,o=k.useMemo;function a(a,b){a=a!=null?a:.4;var c=parseInt(b.slice(1,3),16),d=parseInt(b.slice(3,5),16);b=parseInt(b.slice(5,7),16);a=a.toFixed(4);return"rgba("+c+","+d+","+b+","+a+")"}function e(a){return a.type==="solid"?a.color:a.colors[0]}function p(a){return"#"+a.slice(2)}function q(a){a=(i||(i=d("I64"))).to_int32(a);var b=(a&16711680)>>>16,c=(a&65280)>>>8;a=a&255;var e=function(a){return a.toString(16).padStart(2,"0")};return"#"+(e(b)+(e(c)+e(a)))}var r=l({clearTheme:c("emptyFunction"),setTheme:c("emptyFunction"),theme:b("cr:4128")});function s(){return m(r).theme}function t(){var a=m(r),b=a.clearTheme;n(function(){return b},[b]);return[a.setTheme,b]}function u(a){var b=a.children,d=a.clearTheme,e=a.setTheme,f=a.theme;a=o(function(){var a;return{clearTheme:(a=d)!=null?a:c("emptyFunction"),setTheme:(a=e)!=null?a:c("emptyFunction"),theme:f}},[d,e,f]);return j.jsx(r.Provider,{value:a,children:b})}u.displayName=u.name+" [from "+f.id+"]";function v(a){return a.type==="gradient"}g.defaultTheme=b("cr:4128");g.lighten=a;g.top=e;g.aRGBtoHex=p;g.intToHex=q;g.useTheme=s;g.usePreview=t;g.MWThemeProvider=u;g.isGradient=v}),98);
__d("MWPDateBreak.react",["BaseHeading.react","CometTimestamp.react","MWTheme.react","MWXText.react","formatDate","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={accessibleElem:{clip:"xzpqnlu",clipPath:"x1hyvwdk",height:"xqtp20y",overflowX:"x6ikm8r",overflowY:"x10wlt62",width:"xnalus7",$$css:!0},emphasized:{fontWeight:"xk50ysn",$$css:!0},mask:{backgroundColor:"xcrg951",$$css:!0},root:{marginBottom:"xjpr12u",marginTop:"xr9ek0c",textAlign:"x2b8uid",$$css:!0}};function a(a){a=a.timestamp;var b=d("MWTheme.react").useTheme();return j.jsxs(c("BaseHeading.react"),{testid:void 0,children:[j.jsx("div",{className:"xzpqnlu x1hyvwdk xqtp20y x6ikm8r x10wlt62 xnalus7",children:j.jsx(c("CometTimestamp.react"),{date:new Date(a)})}),j.jsx("div",{"aria-hidden":!0,className:(h||(h=c("stylex")))(k.root,d("MWTheme.react").isGradient(b)&&k.mask),"data-scope":"date_break",children:j.jsx(c("MWXText.react"),{color:"tertiary",type:"meta4",children:j.jsx("span",{className:"xk50ysn",children:c("formatDate")(new Date(a),{future:"g:ia",older:"m/d/Y g:ia",thisYear:"M jS, g:ia",today:"g:ia",withinWeek:"D g:ia"})})})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPMessageListColumn.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={centered:{alignItems:"x6s0dn4",$$css:!0},grow:{flexGrow:"x1iyjqo2",$$css:!0},makeSpaceForActions:{maxWidth:"x1r145dm",$$css:!0},paint:{backgroundColor:"xcrg951",$$css:!0},profile:{paddingEnd:"x1sxyh0",paddingLeft:null,paddingRight:null,paddingStart:"x1nvil2r",$$css:!0},root:{alignItems:"x1h91t0o",alignSelf:"xkh2ocl",display:"x78zum5",flexDirection:"xdt5ytf",justifyContent:"x13a6bvl",maxWidth:"x193iq5w",$$css:!0},selfCentered:{alignSelf:"xamitd3",$$css:!0},shrinkwrap:{flexGrow:"x1c4vz4f",$$css:!0},spacer:{flexBasis:"x1r8uery",flexGrow:"x1iyjqo2",$$css:!0},vr:{backgroundColor:"xcrg951",width:"xh8yej3",$$css:!0},withGutters:{paddingEnd:"xe53cfu",paddingLeft:null,paddingRight:null,paddingStart:"xrgni87",$$css:!0}};function l(a){var b=a.centered,d=a.children,e=a.grow,f=a.makeSpaceForActions,g=a.paint,i=a.profile;a.rounded;var l=a.selfCentered,m=a.shrinkwrap;a=a.withGutters;return j.jsx("div",{className:(h||(h=c("stylex")))(k.root,e===!0?k.grow:!1,m===!0?k.shrinkwrap:!1,g===!0?k.paint:!1,i===!0?k.profile:!1,a===!0?k.withGutters:!1,f===!0?k.makeSpaceForActions:!1,b===!0?k.centered:!1,l===!0?k.selfCentered:!1),role:"none",children:d})}l.displayName=l.name+" [from "+f.id+"]";function a(a){var b=a.children,c=a.grow;a=a.shrinkwrap;return j.jsx(l,{grow:c!=null?c:!1,paint:!0,shrinkwrap:a!=null?a:!1,withGutters:!0,children:b})}a.displayName=a.name+" [from "+f.id+"]";function b(a){var b=a.children;a=a.selfCentered;return j.jsx(l,{paint:!0,profile:!0,selfCentered:a!=null?a:!1,shrinkwrap:!0,children:b})}b.displayName=b.name+" [from "+f.id+"]";function e(a){var b=a.centered,c=a.children;a=a.paint;return j.jsx(l,{centered:b!=null?b:!1,paint:a!=null?a:!0,shrinkwrap:!0,children:c})}e.displayName=e.name+" [from "+f.id+"]";function m(a){a=a.children;return j.jsx(l,{grow:!0,paint:!0,children:a})}m.displayName=m.name+" [from "+f.id+"]";function n(a){var b=a.children,c=a.makeSpaceForActions;a=a.paint;return j.jsx(l,{makeSpaceForActions:c,paint:a,children:b})}n.displayName=n.name+" [from "+f.id+"]";function o(){return j.jsx("div",{className:"x1r8uery x1iyjqo2",role:"none"})}o.displayName=o.name+" [from "+f.id+"]";function p(a){a=a.height;return j.jsx("div",{className:"xcrg951 xh8yej3",role:"none",style:{height:""+a+"px"}})}p.displayName=p.name+" [from "+f.id+"]";g.MWPMessageListColumnWithGutters=a;g.MWPMessageListColumnProfile=b;g.MWPMessageListColumnShrinkwrap=e;g.MWPMessageListColumnGrow=m;g.MWPMessageListColumnBubble=n;g.MWPMessageListColumnHorizontalSpacer=o;g.MWPMessageListColumnVerticalRhythm=p}),98);
__d("MWAdminTextLayout.react",["CometTextWithEntities.react","MWChatTextTransform","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.cta;a=a.message;a=a.text;if(a!=null)if(b!=null)return i.jsxs(i.Fragment,{children:[i.jsx(c("CometTextWithEntities.react"),{text:a,transforms:d("MWChatTextTransform").epdTextTransforms})," ",b]});else return i.jsx(c("CometTextWithEntities.react"),{text:a,transforms:d("MWChatTextTransform").epdTextTransforms});else if(b!=null)return b;else return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWNotificationMessageInstantGameCustomUpdateMuteManagementAdminMsgCta.react",["LSCustomUpdateMuteManagementStoredProcedure","LSFactory","LSIntEnum","MWAdminTextLayout.react","MWXLink.react","ReQL","ReQLSuspense","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react")),l=j.useCallback;function a(a){var b=a.message,e=a.shouldMute,g=(h||(h=c("useReStore")))(),j=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(g.table("admin_message_ctas")).getKeyRange(b.threadKey,b.messageId)},[g,b.messageId,b.threadKey],f.id+":32");a=l(function(){if((j==null?void 0:j.targetId)==null)return;var a=j.targetId,f=e?(i||(i=d("LSIntEnum"))).ofNumber(0):(i||(i=d("LSIntEnum"))).ofNumber(1);c("promiseDone")(g.runInTransaction(function(d){return c("LSCustomUpdateMuteManagementStoredProcedure")(c("LSFactory")(d),{gameId:a,mutedUserId:b.threadKey,userActionType:f})},"readwrite"))},[g,b.threadKey,e,j]);a=b.adminMsgCtaTitle!=null?k.jsx(c("MWXLink.react"),{onClick:a,target:"_blank",children:b.adminMsgCtaTitle}):void 0;return k.jsx(c("MWAdminTextLayout.react"),{cta:a,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWNotificationMessageInstantGameSubscriptionManagementAdminMsgCta.react",["I64","LSFactory","LSIntEnum","LSUpdateBotSubscriptionStoredProcedure","MWAdminTextLayout.react","MWXLink.react","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=k||(k=d("react")),m=k.useCallback;function a(a){var b=a.message,e=a.shouldSubscribe,f=(h||(h=c("useReStore")))(),g=(i||(i=d("I64"))).to_string(b.threadKey),k=m(function(){var a=e?(j||(j=d("LSIntEnum"))).ofNumber(0):(j||(j=d("LSIntEnum"))).ofNumber(1);c("promiseDone")(f.runInTransaction(function(b){return c("LSUpdateBotSubscriptionStoredProcedure")(c("LSFactory")(b),{threadKey:(i||(i=d("I64"))).of_string(g),userActionType:a})},"readwrite"))},[f,g,e]);a=b.adminMsgCtaTitle!=null?l.jsx(c("MWXLink.react"),{onClick:function(){return k()},target:"_blank",children:b.adminMsgCtaTitle}):void 0;return l.jsx(c("MWAdminTextLayout.react"),{cta:a,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AdminMsgArmadilloEphemeralChangeDuration.react",["MWAdminTextLayout.react","cr:7125","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){a=a.message;var d=a.adminMsgCtaTitle;d=d!=null&&b("cr:7125")!=null?i.jsx("div",{className:"xz94kzr x1rg5ohu xo1l8bm",children:i.jsx(b("cr:7125"),{threadKey:a.threadKey,title:d})}):null;return i.jsx(c("MWAdminTextLayout.react"),{cta:d,message:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AdminMsgE2EECutoverRollback.react",["CurrentEnvironment","I64","MWAdminTextLayout.react","MWInboxRouteBuilder","MWXLink.react","ReQL","ReQLSuspense","WALoggerDeferred","XPolarisDirectInboxControllerRouteBuilder","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["Failed to generate the url, thread is missing in mi_act_mapping table for threadKey ",""]);k=function(){return a};return a}var l=j||d("react");function a(a){var b=a.message,e=(h||(h=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(e.table("mi_act_mapping_table")).getKeyRange(b.threadKey).map(function(a){return(i||(i=d("I64"))).to_string(a.jid)})},[e,b.threadKey],f.id+":39");a=a!=null?c("CurrentEnvironment").instagramdotcom?c("XPolarisDirectInboxControllerRouteBuilder").buildExtraURL("/direct/t/{?thread_key}/",{thread_key:a}):d("MWInboxRouteBuilder").buildURL({thread_key:a}):(d("WALoggerDeferred").LOG(k(),(i||(i=d("I64"))).to_string(b.threadKey)),d("MWInboxRouteBuilder").buildHomeURL());var g=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(e.table("admin_message_ctas")).getKeyRange(b.threadKey,b.messageId,(a=b.adminMsgCtaId)!=null?a:(i||(i=d("I64"))).neg_one)},[e,b],f.id+":64");g=g==null?void 0:g.title;a=g!=null?l.jsx("div",{className:"xz94kzr x1rg5ohu xk50ysn",children:l.jsx(c("MWXLink.react"),{href:a,target:"_self",children:g})}):null;return l.jsx(c("MWAdminTextLayout.react"),{cta:a,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MDSLockSvgIcon.bs",["MDSSvgIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsx(c("MDSSvgIcon.react"),babelHelpers["extends"]({},a,{children:i.jsx("path",{clipRule:"evenodd",d:"M12.25 15.5a.25.25 0 00.25-.25V12a5.5 5.5 0 1111 0v3.25c0 .138.112.25.25.25h.75a2 2 0 012 2v9a2 2 0 01-2 2h-13a2 2 0 01-2-2v-9a2 2 0 012-2h.75zm3 0h5.5a.25.25 0 00.25-.25V12a3 3 0 10-6 0v3.25c0 .138.112.25.25.25z",fillRule:"evenodd"})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AdminMsgE2EEDescription.react",["fbt","CurrentEnvironment","I64","JSResourceForInteraction","MDSLockSvgIcon.bs","MWAdminTextLayout.react","MWXLink.react","ReQL","ReQLSuspense","XInstagramHelpDotComContentControllerRouteBuilder","react","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||d("react"),m=c("JSResourceForInteraction")("MAWLearnMoreCutoverDialog.react").__setRef("MWV2AdminMsgE2EEDescription.react"),n=h._("__JHASH__8YEBJluoCs5__JHASH__");function a(a){var b,e=a.message,g=(i||(i=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(g.table("admin_message_ctas")).getKeyRange(e.threadKey,e.messageId,(a=e.adminMsgCtaId)!=null?a:(j||(j=d("I64"))).neg_one)},[g,e],f.id+":52");b=(b=c("XInstagramHelpDotComContentControllerRouteBuilder").buildUri({cms_id:"491565145294150"}).setDomain("help.instagram.com"))==null?void 0:(b=b.setProtocol("https"))==null?void 0:b.toString();var h={},k=c("useMWXLazyDialog")(m),o=k[0];k=function(){return o(h)};a=a==null?void 0:a.title;b=a!=null?c("CurrentEnvironment").instagramdotcom?l.jsx(c("MWXLink.react"),{href:b,target:"_blank",children:n}):l.jsx("div",{className:"xz94kzr x1rg5ohu xk50ysn",children:l.jsx(c("MWXLink.react"),{onClick:k,target:"_blank",children:a})}):null;return l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"x1o583il x1rg5ohu x177n6bx x1n2onr6",children:l.jsx(c("MDSLockSvgIcon.bs"),{color:"tertiary",size:16})}),l.jsx(c("MWAdminTextLayout.react"),{cta:b,message:e})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWNotificationMessageManageNotificationsLazyDialogTrigger.react",["JSResourceForInteraction","emptyFunction","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");var i=c("JSResourceForInteraction")("MWNotificationMessagesManageNotificationsDialog.react").__setRef("MWNotificationMessageManageNotificationsLazyDialogTrigger.react");function a(a){var b=a.isOptOut,d=a.renderer,e=a.targetId;a=a.threadKey;var f={isOptOut:b,targetId:e,threadKey:a};b=c("useMWXLazyDialog")(i);var g=b[0];e=function(){return g(f,c("emptyFunction"))};return d(e)}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWNotificationMessageManageNotificationsAdminMsgCta.react",["CometTextWithEntities.react","MWNotificationMessageManageNotificationsLazyDialogTrigger.react","MWXPressable.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.isOptOut,d=a.targetId,e=a.threadKey,f=a.title;a=function(a){return i.jsx(c("MWXPressable.react"),{onPress:function(){return a()},children:i.jsx(c("CometTextWithEntities.react"),{text:f})})};return i.jsx(c("MWNotificationMessageManageNotificationsLazyDialogTrigger.react"),{isOptOut:b,renderer:a,targetId:d,threadKey:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AdminMsgNotificationMessageManageNotifications.react",["I64","MWAdminTextLayout.react","MWNotificationMessageManageNotificationsAdminMsgCta.react","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react");function a(a){var b=a.isOptOut,e=a.message,g=(h||(h=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(g.table("admin_message_ctas")).getKeyRange(e.threadKey,e.messageId,(a=e.adminMsgCtaId)!=null?a:(i||(i=d("I64"))).neg_one)},[g,e],f.id+":35");var j=e.adminMsgCtaTitle,l=a==null?void 0:a.targetId;a=j!=null&&a!=null&&l!=null?k.jsx("div",{className:"x1rg5ohu x1s688f",children:k.jsx(c("MWNotificationMessageManageNotificationsAdminMsgCta.react"),{isOptOut:b,targetId:l,threadKey:e.threadKey,title:j})}):null;return k.jsx(c("MWAdminTextLayout.react"),{cta:a,message:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("P2bDifferentiationPrivacyDisclosureOpenClickWebFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("3008");b=d("FalcoLoggerInternal").create("p2b_differentiation_privacy_disclosure_open_click_web",a);e=b;g["default"]=e}),98);
__d("MWV2AdminMsgP2BPrivacyDisclosure.react",["I64","JSResourceForInteraction","MWAdminTextLayout.react","MWXLink.react","P2bDifferentiationPrivacyDisclosureOpenClickWebFalcoEvent","ReQL","ReQLSuspense","react","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react"),l=c("JSResourceForInteraction")("MWPrivacyDisclosureDialog.react").__setRef("MWV2AdminMsgP2BPrivacyDisclosure.react");function a(a){var b=a.message,e=(h||(h=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(e.table("admin_message_ctas")).getKeyRange(b.threadKey,b.messageId,(a=b.adminMsgCtaId)!=null?a:(i||(i=d("I64"))).neg_one)},[e,b],f.id+":31");var g=c("useMWXLazyDialog")(l),j=g[0];g=a==null?void 0:a.title;a=g!=null?k.jsx(c("MWXLink.react"),{onClick:function(){j({entryPoint:"ADMIN_TEXT",threadKey:b.threadKey},function(){}),c("P2bDifferentiationPrivacyDisclosureOpenClickWebFalcoEvent").log(function(){return{consumer_id:"0",entry_point:"ADMIN_TEXT",page_id:(i||(i=d("I64"))).to_string(b.threadKey)}})},children:g}):null;return k.jsx(c("MWAdminTextLayout.react"),{cta:a,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AdminMsgPostMessageRemoveActions.react",["C4GFalcoLoggerDeferred","I64","JSResourceForInteraction","MWAdminTextLayout.react","MWXLink.react","ReQL","ReQLSuspense","react","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||(i=d("react")),l=i.useCallback,m=c("JSResourceForInteraction")("MWCMAdmodRemoveMessageOtherActionsDialog.react").__setRef("MWV2AdminMsgPostMessageRemoveActions.react");function n(a){var b=a.senderId,e=a.threadKey;a=a.title;var f=c("useMWXLazyDialog")(m),g=f[0];f=l(function(){d("C4GFalcoLoggerDeferred").logC4GEngagementFalcoEvent({action:"tap",event:"message_removed_more_actions_sheet_rendered",surface:"thread_view",thread_id:(j||(j=d("I64"))).to_string(e)}),g({senderId:b,threadKey:e})},[g,b,e]);return k.jsx(c("MWXLink.react"),{color:"highlight",onClick:f,role:"button",children:a})}n.displayName=n.name+" [from "+f.id+"]";function a(a){var b=a.message,e=(h||(h=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(e.table("admin_message_ctas")).getKeyRange(b.threadKey,b.messageId,(a=b.adminMsgCtaId)!=null?a:(j||(j=d("I64"))).neg_one)},[e,b],f.id+":60");var g=a==null?void 0:a.title;a=a==null?void 0:a.actionUrl;var i=null;if(a!=null){a=new URL(a);i=a.searchParams.get("removed_msg_sender_id")}a=i!=null&&g!=null?k.jsx(n,{senderId:i,threadKey:b.threadKey,title:g}):null;return k.jsx(c("MWAdminTextLayout.react"),{cta:a,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AdminMsgServiceBookingLegalDisclaimer.react",["I64","JSResourceForInteraction","MWAdminTextLayout.react","MWXLink.react","ReQL","ReQLSuspense","react","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react"),l=c("JSResourceForInteraction")("MWPrivacyDisclosureDialog.react").__setRef("MWV2AdminMsgServiceBookingLegalDisclaimer.react");function a(a){var b=a.message,e=(h||(h=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(e.table("admin_message_ctas")).getKeyRange(b.threadKey,b.messageId,(a=b.adminMsgCtaId)!=null?a:(i||(i=d("I64"))).neg_one)},[e,b],f.id+":32");var g=c("useMWXLazyDialog")(l),j=g[0];g=a==null?void 0:a.title;a=g!=null?k.jsx(c("MWXLink.react"),{onClick:function(){return j({entryPoint:"ADMIN_TEXT",threadKey:b.threadKey},function(){})},children:g}):null;return k.jsx(c("MWAdminTextLayout.react"),{cta:a,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWAdminMsgCtaLink.react",["MWPColorUtils","MWXLink.react","react","useMWPThreadTheme"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.children,e=a.xstyle;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","xstyle"]);var f=c("useMWPThreadTheme")();f=f.threadTheme.fallbackColor;return i.jsx(c("MWXLink.react"),babelHelpers["extends"]({style:{color:d("MWPColorUtils").int64ToHex(f)},weight:"bold",xstyle:e},a,{children:b}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AdminMsgShowPinnedMessages.react",["I64","JSResourceForInteraction","MWAdminMsgCtaLink.react","MWAdminTextLayout.react","MWPBumpEntityKey","ReQL","ReQLSuspense","react","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react"),l=c("JSResourceForInteraction")("MWPinnedMessagesDialog.react").__setRef("MWV2AdminMsgShowPinnedMessages.react");function a(a){var b=a.message,e=(h||(h=c("useReStore")))();a=c("useMWXLazyDialog")(l);var g=a[0];a=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(e.table("admin_message_ctas")).getKeyRange(b.threadKey,b.messageId,(a=b.adminMsgCtaId)!=null?a:(i||(i=d("I64"))).neg_one)},[e,b],f.id+":32");var j=function(){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw_pinned_messages","see_all_admin_msg_cta");return g({threadKey:b.threadKey},function(){})};a=a==null?void 0:a.title;j=a!=null?k.jsx(c("MWAdminMsgCtaLink.react"),{onClick:j,children:a}):null;return k.jsx(c("MWAdminTextLayout.react"),{cta:j,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSPlatformWaitForTaskCompletion",["I64","Promise","asyncToGeneratorRuntime","emptyFunction","err","promiseDone","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b,c){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f){var g=new Set(),j=[],k=0,l=!0,m,n,o=new(i||(i=b("Promise")))(function(a,b){m=a,n=b}),p=c("uuidv4")(),q=!0,r=(yield a.runInTransaction(function(){var i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(i){yield i.table("mailbox_task_completion_notification_context").add({notificationName:f,notificationScopeKey:p});var o=a.table("pending_tasks").subscribe(function(a,b){a=(h||(h=d("I64"))).to_string(a[0]);b.operation==="add"||b.operation==="put"?g.add(a):g["delete"](a)}),s=c("emptyFunction"),t=a.table("mailbox_task_completion_api_tasks").subscribe(function(a,b){if(b.operation==="add"||b.operation==="put"&&b.value.notificationScopeKey===p){a=(h||(h=d("I64"))).to_string(b.value.taskId);g["delete"](a);b=b.value.success;b==null?q&&(j.push(a),k+=1):(l=b&&l,k-=1)}});s=a.subscribeToCommit(function(){k===0&&g.size===0&&(t(),o(),s(),c("promiseDone")(a.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){for(var b of j)yield a.table("mailbox_task_completion_api_tasks")["delete"]((h||(h=d("I64"))).of_string(b))});return function(b){return a.apply(this,arguments)}}(),"readwrite","background")),l?m(r):n(c("err")("Not all tasks for "+f+" succeeded")))});try{var u=(yield e(i));yield i.table("mailbox_task_completion_notification_context")["delete"](p);return u}catch(a){s();t();o();throw a}});return function(a){return i.apply(this,arguments)}}(),"readwrite"));q=!1;return o});return j.apply(this,arguments)}g["default"]=a}),98);
__d("MWNavigationContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;h||(h=d("react"));b=h;c=b.createContext;var i=b.createElement,j=c();function a(a){var b=a.children;a=a.value;return i(j.Provider,{children:b,value:a})}a.displayName=a.name+" [from "+f.id+"]";e=a;g.context=j;g.Provider=e}),98);
__d("MessengerWebEntryPointsUtil",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(a==="pagesLikeInviteThem")return"pages_like_invite_item";else if(a==="pagesPrivateReply")return"pages_private_reply";else if(a==="inboxActiveContacts"||a==="inboxArchived"||a==="inboxSpam"||a==="inboxFolder"||a==="inboxThreadList"||a==="inboxRecentThreads"||a==="inboxRemainingThreads"||a==="pendingRequests"||a==="inboxRestricted"||a==="archieve"||a==="inboxInThread"||a==="inboxPendingRequests")return"inbox";else if(a==="jobs")return"jobs";else if(a==="storySeenByList"||a==="friendsTab")return"story_seen_by_list";else if(a==="chatParticipants")return"add_participants";else if(a==="compat")return"compat";else if(a==="cookie")return"cookie";else if(a==="pagesAdminInviteItem")return"pages_admin_invite_item";else if(a==="groupWelcomePost")return"group_welcome_post";else if(a==="sidebarContactsList"||a==="sidebarGroupsList")return"sidebar";else if(a==="sidebarCommunityChatsList")return"sidebar_community_chats";else if(a==="jewelNestedFolder"||a==="jewel")return"jewel";else if(a==="shop")return"shop";else if(a==="chatheadsOverflow")return"chat_heads_overflow";else if(a==="feedDynamicHoverCard")return"pages_hovercard";else if(a==="messengerUniversalSearch")return"search_result_page";else if(a==="mentorship")return"mentorship";else if(a==="reactorList")return"reactor_list";else if(a==="feedPoll")return"feed_poll";else if(a==="timeline"||a==="feedOrganicPost")return"timeline";else if(a==="pageResponsivenessCard"||a==="pageAboutCard")return"pages_about";else if(a==="inboxSearch"||a==="sidebarSearch"||a==="search")return"search";else if(a==="storyAggregatedUsers")return"story_aggregated_users";else if(a==="fundraiserMoreMenu")return"fundraiser_support:reactive_more_menu";else if(a==="fundraiserFaq")return"fundraiser_support:reactive_faq";else if(a==="notificationInThreadReply")return"message_received";else if(a==="roomsNullState")return"rooms_null_state";else if(a==="storyViewerSheetRow")return"stories_viewed_by_list";else if(a==="feedOrganicPostNewsfeedPagePostCta")return"pages_cta";else if(a==="chatheadsNewMessage")return"new_msg_button";else if(a==="groupExperts"||a==="groupCommunityFriendsDialog")return"group_experts_discovery_invite";else if(a==="hovercard")return"hovercard";else if(a==="crisisListingAttachment")return"crisis_listing_attachment";else if(a==="mentalHealth")return"mental_health";else if(a==="event")return"events_permalink";else if(a==="jewelSearch")return"jewel_search";else if(a==="pagePopupChat")return"pages_popup_chat";else if(a==="communityHelp")return"community_help";else if(a==="jewelNewMessage")return"jewel_new_message";else if(a==="fundraiser")return"fundraiser";else if(a==="memories")return"memories_home";else if(a==="fundraiserSupportersList")return"fundraiser_supporters_list";else if(a==="groupRemovePost")return"group_remove_post_tombstone";else if(a==="pagesHeader")return"pages_header";else if(a==="groupMembers")return"group_members_tab";else if(a==="chatheads")return"chat_heads";else if(a==="birthday")return"birthdays";else if(a==="localBusinessesNearby")return"local_businesses_nearby";else if(a==="marketplace"||a==="inboxMarketplace")return"marketplace";else if(a==="mutualFriendsDialog")return"mutual_friends_dialog";else if(a==="feedOrganicPostViewAndMessage")return"feed_story_cta";else if(a==="profileServicesMenu")return"profile_services_menu";else if(a==="adsCta")return"reshares_dialog";else if(a==="offer")return"offer";else if(a==="payments")return"p2p_payments";else if(a==="groupQuality")return"group_quality";else if(a==="pagesHomeFriendsDialog")return"pages_home_friends_dialog";else if(a==="communityFriendsDialog")return"pages_community_friends_dialog";else if(a==="groupChats")return"group_chats";else if(a==="groupTab")return"group_tab";else if(a==="gratitude")return"gratitude";else return"unknown"}function b(a){switch(a){case"groupTab":case"inboxThreadList":case"jewel":return!0;default:return!1}}f.cast=a;f.getEntryPointShouldOverrideThreadSnippetRemoval=b}),66);
__d("useMWNavigation",["CometPassiveGetRouterStateContext","I64","LSMessagingThreadTypeUtil","LSThreadAttributionStore","MWChatInteraction","MWChatStateActions","MWChatStateV2.react","MWChatStateV2Types","MWInboxArchivedThreadsRouteBuilder","MWInboxBusinessSupportThreadsRouteBuilder","MWInboxMarketplaceThreadsRouteBuilder","MWInboxMessageRequestsRouteBuilder","MWInboxRouteBuilder","MWNavigationContext","MessengerWebEntryPointsUtil","XCometGroupDiscussionControllerRouteBuilder","cr:7004","getGroupThreadViewParams","getTopMostRouteCometEntityKey","react","useCometFeedNoRoutingNavigationEventLogger","useCometRouterDispatcher","useLazyShouldShowMessagingEntrypointInCometRoot","useMWChatOpenTabTraceProvider","useMaybeShowCSAMBlockAsync"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e=h||d("react");var j=e.useCallback,k=e.useContext,l=e.useMemo;function m(){var a=d("MWChatStateV2.react").useDispatch(),b=c("useCometFeedNoRoutingNavigationEventLogger")(),e=c("useMWChatOpenTabTraceProvider")();return j(function(c,f,g){b(Date.now(),"","messenger");return e(function(b){d("MWChatInteraction").set((i||(i=d("I64"))).to_string(c.threadKey),b);return a(d("MWChatStateActions").openTab(Date.now(),{shouldFocus:g!==!0},{threadKeyDescriptor:c,type:d("MWChatStateV2Types").MWChatStateTabType.ChatTab}))},(i||(i=d("I64"))).to_int32(c.threadType),f,c.threadKey,c.isUnread)},[a,b,e])}function n(a,e,f){return function(g){g=(i||(i=d("I64"))).to_string(g);if(b("cr:7004")!=null&&d("LSMessagingThreadTypeUtil").isSecure(a))return e==="message_requests"?d("MWInboxMessageRequestsRouteBuilder").buildE2EEThreadURL({thread_key:g}):d("MWInboxRouteBuilder").buildE2EEThreadURL({thread_key:g});if(f!=null)return c("XCometGroupDiscussionControllerRouteBuilder").buildURL({chats_to_open:[f.threadKey,g],idorvanity:f.groupId});if(e==null)return d("MWInboxRouteBuilder").buildURL({thread_key:g});switch(e){case"archived":return d("MWInboxArchivedThreadsRouteBuilder").buildURL({thread_key:g});case"business_support":return d("MWInboxBusinessSupportThreadsRouteBuilder").buildURL({thread_key:g});case"marketplace":return d("MWInboxMarketplaceThreadsRouteBuilder").buildURL({thread_key:g});case"message_requests":return d("MWInboxMessageRequestsRouteBuilder").buildURL({thread_key:g});default:return d("MWInboxRouteBuilder").buildURL({thread_key:g})}}}function o(a,b){a=a.threadKey;return d("LSThreadAttributionStore").setSource((i||(i=d("I64"))).to_string(a),b)}function a(){var a=c("useLazyShouldShowMessagingEntrypointInCometRoot")("CHAT"),b=c("useCometRouterDispatcher")(),e=k(d("MWNavigationContext").context),f=k(c("CometPassiveGetRouterStateContext")),g=m(),h=c("useMaybeShowCSAMBlockAsync")();return l(function(){var j=function(a,b){var d,g=c("getTopMostRouteCometEntityKey")(f==null?void 0:f()),h=g==null?void 0:g.entity_type;g=c("getGroupThreadViewParams")(g,f==null?void 0:f());d=(d=e)!=null?d:n(b,h,g);return d(a)},k=function(a,c){var e=a.isUnread,f=a.threadKey;a=a.threadType;if(b!=null){var g=d("MessengerWebEntryPointsUtil").cast(c);b.go(j(f,a),{traceParams:{TLTV:"true",entrypoint:g,hasBadge:e!=null?e.toString():"",inboxEntrypoint:c,isSecure:d("LSMessagingThreadTypeUtil").isSecure(a)?"true":"false",thread_id:(i||(i=d("I64"))).to_string(f),thread_type:i.to_string(a)}})}};return{getUrlFromThreadKey:j,openInbox:function(a,b){o(a,b);return h({onProceed:function(){k(a,b)},threadKey:a.threadKey})},openTabOrInbox:function(b,c,d){o(b,c);if(a())return h({onProceed:function(){g(b,c,d)},threadKey:b.threadKey});else return h({onProceed:function(){k(b,c)},threadKey:b.threadKey})}}},[f,e,b,h,a,g])}g["default"]=a}),98);
__d("MWV2AdminMsgViewMessagesDualThreadCutover.react",["I64","LSFactory","LSIntEnum","LSPlatformWaitForTaskCompletion","LSVerifyThreadRowExistsStoredProcedure","MWAdminTextLayout.react","MWXLink.react","MWXText.react","ReQL","WALoggerDeferred","asyncToGeneratorRuntime","promiseDone","react","useAsyncReStore","useMWNavigation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Dual-thread-cutover] Failed to navitage to open messages thread ",""]);k=function(){return a};return a}var l=h||(h=d("react")),m=h.useCallback;function a(a){var e=a.message,f=c("useAsyncReStore")(),g=c("useMWNavigation")();a=m(function(){c("promiseDone")(f,function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b,f=(b=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("mi_act_mapping_table")).getKeyRange(e.threadKey))))==null?void 0:b.jid;f&&(yield c("LSPlatformWaitForTaskCompletion")(a,function(a){return c("LSVerifyThreadRowExistsStoredProcedure")(c("LSFactory")(a),{syncGroup:(i||(i=d("LSIntEnum"))).ofNumber(1),threadKey:f,threadType:i.ofNumber(1)})},"readwrite"));b=f?yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("threads")).getKeyRange(f)):null;b?g.openTabOrInbox({clientThreadKey:b.clientThreadKey,threadKey:b.threadKey,threadType:b.threadType},"preCutoverThread"):void d("WALoggerDeferred").LOG(k(),(j||(j=d("I64"))).to_string(e.threadKey))});return function(b){return a.apply(this,arguments)}}())},[f,e.threadKey,g]);var h=e.adminMsgCtaTitle;a=h!=null?l.jsx(c("MWXLink.react"),{onClick:a,role:"button",children:l.jsx(c("MWXText.react"),{color:"blueLink",type:"body4",children:h})}):null;return l.jsx(c("MWAdminTextLayout.react"),{cta:a,message:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AdminMsgWebUrl.react",["I64","MWAdminTextLayout.react","MWXLink.react","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react");function a(a){var b=a.message,e=(h||(h=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(e.table("admin_message_ctas")).getKeyRange(b.threadKey,b.messageId,(a=b.adminMsgCtaId)!=null?a:(i||(i=d("I64"))).neg_one)},[e,b],f.id+":24");var g=a==null?void 0:a.title;a=a==null?void 0:a.actionUrl;a=g!=null&&a!=null?k.jsx(c("MWXLink.react"),{href:a,target:"_blank",children:g}):null;return k.jsx(c("MWAdminTextLayout.react"),{cta:a,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ChatAdminMessage.react",["MWAdminTextLayout.react","MWNotificationMessageInstantGameCustomUpdateMuteManagementAdminMsgCta.react","MWNotificationMessageInstantGameSubscriptionManagementAdminMsgCta.react","MWV2AdminMsgArmadilloEphemeralChangeDuration.react","MWV2AdminMsgE2EECutoverRollback.react","MWV2AdminMsgE2EEDescription.react","MWV2AdminMsgNotificationMessageManageNotifications.react","MWV2AdminMsgP2BPrivacyDisclosure.react","MWV2AdminMsgPostMessageRemoveActions.react","MWV2AdminMsgServiceBookingLegalDisclaimer.react","MWV2AdminMsgShowPinnedMessages.react","MWV2AdminMsgViewMessagesDualThreadCutover.react","MWV2AdminMsgWebUrl.react","MWXText.react","cr:6991","cr:6996","cr:6997","gkx","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={container:{paddingStart:"x5ib6vp",paddingLeft:null,paddingRight:null,paddingEnd:"xc73u3c",paddingTop:"xyamay9",paddingBottom:"x1l90r2v",$$css:!0},containerThatPrecedesAdminMessage:{paddingBottom:"x1a8lsjc",$$css:!0},containerThatProceedsAdminMessage:{paddingTop:"x889kno",$$css:!0},content:{marginTop:"xr1yuqi",marginEnd:"xkrivgy",marginBottom:"x4ii5y1",marginStart:"x1gryazu",maxWidth:"x1ekjcvx",textAlign:"x2b8uid",wordBreak:"x13faqbe",$$css:!0}};function l(a){if(a!=null)return a.isAdminMessage;else return!1}function m(a){var b=a.children,d=a.nextMessage;a=a.prevMessage;return j.jsx("div",{className:(h||(h=c("stylex")))(k.container,l(a)?k.containerThatProceedsAdminMessage:!1,l(d)?k.containerThatPrecedesAdminMessage:!1),children:j.jsx("div",{className:"xr1yuqi xkrivgy x4ii5y1 x1gryazu x1ekjcvx x2b8uid x13faqbe",children:b})})}m.displayName=m.name+" [from "+f.id+"]";function n(a){var d=a.message;a.nextMessage;a.prevMessage;a=b("cr:6991")!=null&&b("cr:6997")!=null?b("cr:6991").buildLocalizedString([],[],b("cr:6997").CURRENT_USER_ADDED_DEVICE):"";a=d.text===a&&b("cr:6996")!=null?j.jsx(b("cr:6996"),{}):null;var e=d.adminMsgCtaType;if(e!=null)if(e==="admin_msg_armadillo_ephemeral_change_duration")return j.jsx(c("MWV2AdminMsgArmadilloEphemeralChangeDuration.react"),{message:d});else if(e==="admin_msg_dual_thread_cutover")return j.jsx(c("MWV2AdminMsgViewMessagesDualThreadCutover.react"),{message:d});else if(e==="admin_msg_web_url")return j.jsx(c("MWV2AdminMsgWebUrl.react"),{message:d});else if(e==="admin_msg_p2b_privacy_disclosure"&&c("gkx")("2386"))return j.jsx(c("MWV2AdminMsgP2BPrivacyDisclosure.react"),{message:d});else if(e==="admin_notification_messages_opt_out")return j.jsx(c("MWV2AdminMsgNotificationMessageManageNotifications.react"),{isOptOut:!0,message:d});else if(e==="admin_notification_messages_opt_in")return j.jsx(c("MWV2AdminMsgNotificationMessageManageNotifications.react"),{isOptOut:!1,message:d});else if(e==="admin_msg_thread_level_cutover")return j.jsx(c("MWV2AdminMsgE2EEDescription.react"),{message:d});else if(e==="admin_msg_e2ee_thread")return null;else if(e==="admin_msg_cutover_rollback")return j.jsx(c("MWV2AdminMsgE2EECutoverRollback.react"),{message:d});else if(e==="xmat_instant_game_bot_message_subscribe")return j.jsx(c("MWNotificationMessageInstantGameSubscriptionManagementAdminMsgCta.react"),{message:d,shouldSubscribe:!0});else if(e==="xmat_instant_game_bot_message_unsubscribe")return j.jsx(c("MWNotificationMessageInstantGameSubscriptionManagementAdminMsgCta.react"),{message:d,shouldSubscribe:!1});else if(e==="admin_msg_view_pin_msgs_v2")return j.jsx(c("MWV2AdminMsgShowPinnedMessages.react"),{message:d});else if(e==="xmat_instant_game_custom_update_message_mute")return j.jsx(c("MWNotificationMessageInstantGameCustomUpdateMuteManagementAdminMsgCta.react"),{message:d,shouldMute:!0});else if(e==="xmat_instant_game_custom_update_message_unmute")return j.jsx(c("MWNotificationMessageInstantGameCustomUpdateMuteManagementAdminMsgCta.react"),{message:d,shouldMute:!1});else if(e==="admin_message_service_booking_legal_disclaimer")return j.jsx(c("MWV2AdminMsgServiceBookingLegalDisclaimer.react"),{message:d});else if(e==="admin_msg_admod_post_msg_remove_actions")return j.jsx(c("MWV2AdminMsgPostMessageRemoveActions.react"),{message:d});else return j.jsxs("div",{children:[j.jsx(c("MWAdminTextLayout.react"),{message:d}),a]});return j.jsxs("div",{children:[j.jsx(c("MWAdminTextLayout.react"),{message:d}),a]})}n.displayName=n.name+" [from "+f.id+"]";function a(a){var b=a.message,d=a.nextMessage;a=a.prevMessage;return j.jsx(m,{nextMessage:d,prevMessage:a,children:j.jsx(c("MWXText.react"),{color:"tertiary",type:"meta4",children:j.jsx(n,{message:b})})})}a.displayName=a.name+" [from "+f.id+"]";g.isAdminMessage=l;g.MWV2ChatAdminMessageContainer=m;g.MWV2ChatAdminMessage=a}),98);
__d("MWV2MessageStartOfGroupContent.react",["I64","MWPDateBreak.react","MWPMessageListColumn.react","MWV2ChatAdminMessage.react","MWV2MessageRowSimple.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react");function k(a,b){if(b!=null)return(i||(i=d("I64"))).compare(i.abs(i.sub(a.timestampMs,b.timestampMs)),i.of_string("900000"))>0;else return!0}function l(a){var b=a.domElementRef,e=a.message;a=a.prevMessage;if(k(e,a))return j.jsx(c("MWV2MessageRowSimple.react"),{domElementRef:b,children:j.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:j.jsx(d("MWV2ChatAdminMessage.react").MWV2ChatAdminMessageContainer,{nextMessage:e,prevMessage:a,children:j.jsx(c("MWPDateBreak.react"),{timestamp:(i||(i=d("I64"))).to_float(e.timestampMs)})})})});else return null}l.displayName=l.name+" [from "+f.id+"]";function a(a){var b=a.domElementRef,c=a.message;a=a.prevMessage;return j.jsx(l,{domElementRef:b,message:c,prevMessage:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWWorkForeignEntityTypeUtils",["I64","LSContactWorkForeignEntityType","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactWorkForeignEntityType").NOT_FOREIGN))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactWorkForeignEntityType").UNKNOWN)))return"NOT_FOREIGN";else if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactWorkForeignEntityType").NOT_FOREIGN_LIMITED)))return"LIMITED";else return"FOREIGN"}g.getWorkForeignEntityType=a}),98);
__d("MWPreloadedText",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=(h||d("react")).createContext;b=a({text:null});g["default"]=b}),98);
__d("LSReadReceiptSettingState",[],(function(a,b,c,d,e,f){a=Object.freeze({DEFAULT:0,DISABLED:1,ENABLED:2});f["default"]=a}),66);
__d("useMWIsReadReceiptsDisabledForUser",["LSIntEnum","LSReadReceiptSettingState","MWPActor.react","MessengerWebPrivacySettings","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(){var a=(i||(i=c("useReStore")))(),b=d("MWPActor.react").useActor(),e=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(a.table("messaging_privacy_settings")).getKeyRange(b)},[a,b],f.id+":23");if(e==null)return c("MessengerWebPrivacySettings").read_receipts_disabled===c("LSReadReceiptSettingState").DISABLED;e=e.readReceiptsDisabled!=null?(h||(h=d("LSIntEnum"))).toNumber(e.readReceiptsDisabled):c("LSReadReceiptSettingState").DEFAULT;return e===c("LSReadReceiptSettingState").DISABLED}g["default"]=a}),98);
__d("useMWIsReadReceiptsDisabledForThread",["LSIntEnum","LSReadReceiptSettingState","MWLSThread","useMWIsReadReceiptsDisabledForUser"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){a=d("MWLSThread").useThread(a,function(a){return(h||(h=d("LSIntEnum"))).toNumber(a.readReceiptsDisabledV2)});var b=c("useMWIsReadReceiptsDisabledForUser")();return a!=null&&a!==c("LSReadReceiptSettingState").DEFAULT?a===c("LSReadReceiptSettingState").DISABLED:b}g["default"]=a}),98);
__d("useIsRollcallEnabled",["LSThreadBitOffset","MWLSThread"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=Boolean(d("MWLSThread").useThread(a,function(a){return d("LSThreadBitOffset").has(152,a)}));return a}g["default"]=a}),98);
__d("MercuryTimestamp",["fbt","formatDate"],(function(a,b,c,d,e,f,g){a=864e5;var h=6*a,i={getFormatedTimestamp:function(a){var b=a/1e3;return i.getFormattedTimestampByBucket(b,i.getTimeBucket(a))},getAbsoluteTimestamp:function(a){if(a==null)return null;else{a=i.getFormatedTimestamp(a);return a.absolute}},getRelativeTimestamp:function(a){a=i.getFormatedTimestamp(a);return a.relative},getFormattedTimestampByBucket:function(a,c){switch(c){case 0:return{absolute:g._("__JHASH__EpdLnM9AeUo__JHASH__").toString(),relative:b("formatDate")(a,"g:ia")};case 1:return{absolute:b("formatDate")(a,"l"),relative:b("formatDate")(a,"D")};case 3:return{absolute:b("formatDate")(a,"F j"),relative:b("formatDate")(a,"M j")};default:return{absolute:b("formatDate")(a,"F j, Y"),relative:b("formatDate")(a,"n/j/y")}}},getTimeBucket:function(a){a=new Date(a);var b=new Date();b=new Date(b.getFullYear(),b.getMonth(),b.getDate());if(b<a)return 0;else if(b-h<a)return 1;else if(b.getFullYear()===a.getFullYear())return 3;else return 4},getPreciseTimestamp:function(a){return b("formatDate")(new Date(a),i.getPreciseFormat(a))},getPreciseFormat:function(a){a=i.getTimeBucket(a);switch(a){case 0:return"g:ia";case 1:return"l g:ia";case 3:return"F jS, g:ia";case 4:default:return"F j, Y g:i a"}}};e.exports=i}),null);
__d("MWMessageDeliveryStatus",["fbt","I64","LSIntEnum","MercuryTimestamp","getFBTSafeGenderFromGenderConst","intlList","intlSummarizeNumber"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;function a(a){if(a.length!==1)return{heads:a,type:"MultipleSeenHeads"};a=a[0];return{head:a,type:"SingleSeenHead"}}function b(a,b){return{delivered:b,heads:a,type:"DeliveredAndRead"}}function e(a){return{count:a,type:"SeenCount"}}function k(a){return a.timestamp>0?h._("__JHASH__i65FoHjBJBT__JHASH__",[h._name("full name",a.name,c("getFBTSafeGenderFromGenderConst")(a.gender)),h._param("seen time",d("MercuryTimestamp").getPreciseTimestamp(a.timestamp))]):h._("__JHASH__o0y2JESDXU1__JHASH__",[h._name("full name",a.name,c("getFBTSafeGenderFromGenderConst")(a.gender))])}function l(a,b){if(a.length===0)return"";if(b)return h._("__JHASH__xJFzJjmgrii__JHASH__").toString();b=a.map(function(a){return h._("__JHASH__anoMlIo0TA0__JHASH__",[h._name("full name",a.name,c("getFBTSafeGenderFromGenderConst")(a.gender))])});a=c("intlList")(b,c("intlList").CONJUNCTIONS.AND,c("intlList").DELIMITERS.COMMA);return h._("__JHASH__rtgGiNEWfHK__JHASH__",[h._param("full name",a)]).toString()}function m(a){a=c("intlSummarizeNumber")(a);return h._("__JHASH___KIWePVuuHb__JHASH__",[h._param("seen count",a)]).toString()}var n={delivered:h._("__JHASH__DGTdcv4yxEO__JHASH__"),error:h._("__JHASH__HWY7OcPbAjW__JHASH__"),loading:h._("__JHASH__ge1hq8iGlfw__JHASH__"),retriableError:h._("__JHASH__VG5ajSXV9DG__JHASH__"),sending:h._("__JHASH__-KPam8KdjJ8__JHASH__"),sent:h._("__JHASH__FdnMQ3ayYbi__JHASH__")};function f(a){switch(a.type){case"Sending":return n.sending;case"Sent":case"Delivered":return n.sent;case"Error":return n.error;case"SingleSeenHead":return k(a.head);case"NoneStatus":case"MultipleSeenHeads":return"";case"DeliveredAndRead":return l(a.heads,a.delivered);case"SeenCount":return m(a.count);case"Loading":return n.loading;case"RetriableError":return n.retriableError}}function o(a){switch(a.type){case"Sending":return n.sending;case"Sent":return n.sent;case"Delivered":return n.delivered;case"Error":return n.error;case"SingleSeenHead":return k(a.head);case"DeliveredAndRead":return l(a.heads,a.delivered);default:return""}}function p(a){if((i||(i=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(1)))return{type:"Sending"};else if((i||(i=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(2))||(i||(i=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(6)))return{type:"Sent"};else if((i||(i=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(4))||(i||(i=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(5)))return{type:"Error"};else return{type:"NoneStatus"}}function q(a,b,c){var e=p(a.sendStatusV2);if((i||(i=d("I64"))).equal(a.sendStatusV2,(j||(j=d("LSIntEnum"))).ofNumber(4))||(i||(i=d("I64"))).equal(a.sendStatusV2,(j||(j=d("LSIntEnum"))).ofNumber(5))||(i||(i=d("I64"))).equal(a.sendStatusV2,(j||(j=d("LSIntEnum"))).ofNumber(1)))return e;else if(!c&&(i||(i=d("I64"))).equal(a.sendStatusV2,(j||(j=d("LSIntEnum"))).ofNumber(2)))return{type:"NoneStatus"};else if((i||(i=d("I64"))).ge(b,a.timestampMs))return{type:"Delivered"};else return e}function r(a){return["SingleSeenHead","Sending","MultipleSeenHeads","Error"].includes(a.type)}g.seenHead=a;g.deliveredAndRead=b;g.seenCount=e;g.getSingleSeenHead=k;g.getSeenCount=m;g.Titles=n;g.getBroadcastStatusTitle=f;g.getStatusTitle=o;g.getFromSendStatus=p;g.getDeliveryStatusForMessageSentByYou=q;g.isAlwaysShownStatus=r}),98);
__d("MessengerDefaultTheme",["CurrentEnvironment","I64"],(function(a,b,c,d,e,f,g){"use strict";var h;a={color:c("CurrentEnvironment").messengerdotcom?"#0099FF":"#0084FF",id:(h||(h=d("I64"))).of_string("196241301102133"),label:"Default Blue",type:"solid"};g["default"]=a}),98);
__d("useIsReactionDialogEnabled",["LSMessagingThreadTypeUtil","LSThreadBitOffset","MWLSThread"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return(a=d("MWLSThread").useThread(a,function(a){return d("LSThreadBitOffset").has(184,a)||d("LSMessagingThreadTypeUtil").isSecure(a.threadType)}))!=null?a:!1}g["default"]=a}),98);
__d("MWV2IsTabFocusedContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));c=h;e=c.createContext;var j=c.useContext,k=e(!1);function a(a){var b=a.children;a=a.isFocused;return i.jsx(k.Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";function b(){return j(k)}g.MWV2IsTabFocusedContextProvider=a;g.useIsTabFocused=b}),98);
__d("MWV2ChatComposerGetViewContent",["Lexical","MessengerLexicalActorNode","MessengerLexicalEntityTextNode","cr:3101"],(function(a,b,c,d,e,f,g){"use strict";a={getRanges:function(a){var c=[],e=0;a.getEditorState().read(function(){var a=d("Lexical").$getRoot().getFirstChild();a instanceof d("Lexical").ElementNode&&a.getChildren().forEach(function(a){if(d("MessengerLexicalEntityTextNode").isMessengerLexicalEntityTextNode(a)){var f=a.getEntity();c.push({id:f.id,length:a.getTextContent().length,offset:e,type:d("MessengerLexicalActorNode").$isMessengerLexicalActorNode(a)?a.getRangeType():"p"})}if(b("cr:3101")==null?void 0:b("cr:3101").isMessengerCommandNode(a)){f=a.getEntity();c.push({id:f.commandId,length:a.getTextContent().length,offset:e,type:a.getRangeType()})}e+=a.getTextContent().length})});return c}};c=a;g["default"]=c}),98);
__d("MWV2ComposerHasContentContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));c=h;e=c.createContext;var j=c.useContext,k=c.useMemo,l=c.useRef,m=e({hasContentRef:void 0});function a(a){a=a.children;var b=l(!1),c=k(function(){return{hasContentRef:b}},[b]);return i.jsx(m.Provider,{value:c,children:a})}a.displayName=a.name+" [from "+f.id+"]";function b(){return j(m)}g.MWV2ComposerHasContentContextProvider=a;g.useComposerHasContext=b}),98);
__d("MWV2ComposerMediaProgressBar.react",["MWPColorUtils","react","useMWPThreadTheme"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.height;a=a.mediaStaging;var e=c("useMWPThreadTheme")();e=e.threadTheme;e=a.hasError?"var(--negative)":d("MWPColorUtils").int64ToHex(e.fallbackColor);var f=Math.ceil(a.progress*100),g=(b/2).toString();g="M 0,"+g+" L 100,"+g;return a.progress===1?null:i.jsxs("svg",{"aria-hidden":!0,className:"x1ey2m1c x10l6tqk x17qophe xh8yej3",preserveAspectRatio:"none",style:{height:b.toString()},viewBox:"0 0 100 "+b.toString(),children:[i.jsx("path",{d:g,stroke:"rgba(0,0,0,.5)",strokeLinecap:"round",strokeWidth:b.toString()}),i.jsx("path",{d:g,stroke:e,strokeLinecap:"round",strokeWidth:(f===0?0:b).toString(),style:{strokeDasharray:"100",strokeDashoffset:(100-f|0).toString(),transition:"stroke-dashoffset .5s, stroke .5s"}})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2FileDropzone.react",["fbt","LSFactory","LSIssueNewErrorStoredProcedure","LSMessagingThreadTypeUtil","LSThreadBitOffset","MWCMThreadTypes.react","MWXText.react","cometIsMimeTypeForMedia","gkx","promiseDone","react","recoverableViolation","stylex","useFileDragEvents","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||(k=d("react"));b=k;e=b.createContext;var m=b.createElement,n=b.useCallback,o=b.useRef,p=e({current:{enabled:!0,handler:null}});function q(a){var b=a.children;a=a.fileUploadHandlerConfigRef;return m(p.Provider,{children:b,value:a})}var r={dropzone:{alignItems:"x6s0dn4",backgroundColor:"x1h0vfkc",bottom:"x1ey2m1c",display:"x78zum5",end:"xds687c",left:null,right:null,justifyContent:"xl56j7k",position:"x10l6tqk",start:"x17qophe",top:"x13vifvy",zIndex:"x1vjfegm",$$css:!0},root:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",maxWidth:"x193iq5w",minHeight:"x2lwn1j",position:"x1n2onr6",$$css:!0}};function s(a){if(a==null)return[];a=a.dataTransfer;return a==null?[]:a.types}function t(a){switch(a){case 0:return void 0;case 1:return h._("__JHASH__M7mGXjgzxvT__JHASH__").toString();default:return h._("__JHASH__UaK2GgtSNQH__JHASH__").toString()}}function u(a,b){var d=t(b);if(d==null)return;c("promiseDone")(a.runInTransaction(function(a){return c("LSIssueNewErrorStoredProcedure")(c("LSFactory")(a),{errorBodyText:d,errorTitleText:d})},"readwrite"))}function v(a){a=a.type;return d("cometIsMimeTypeForMedia").isMimeTypeForPhoto(a)||d("cometIsMimeTypeForMedia").isMimeTypeForVideo(a)?!0:a.startsWith("audio/")}var w=new Set(["text/plain","text/html","text/uri-list"]);function a(a){var b=a.children,e=a.isDisabled,f=a.isMediaOnly,g=a.thread;a=a.xstyle;var k=o({enabled:!1,handler:null}),m=o(null),p=(i||(i=c("useReStore")))(),t=g!=null?(d("MWCMThreadTypes.react").isBroadcastThread(g.threadType)||d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(g.threadType)||d("LSMessagingThreadTypeUtil").isAiBot(g.threadType))&&!d("LSThreadBitOffset").has(56,g):!1;g=!c("gkx")("1835569");var x=e===!0||g||t;e=function(a){var b;return((b=k.current)==null?void 0:b.handler)==null?!1:!s(a).some(function(a){return w.has(a)})};g=c("useFileDragEvents")(function(){return!1},void 0,e);e=n(function(a){var b;if(((b=k.current)==null?void 0:b.enabled)===!1)return;b=(b=k.current)==null?void 0:b.handler;if(b==null){if(!t){var d=k.current==null?"fileUploadHandlerConfigRef was not setup to handle dropped file!":"fileUploadHandlerConfigRef.current.handler was not setup to handle dropped file";c("recoverableViolation")(d,"messenger_comet")}return}d=Array.from(a);a=f?d.filter(v):d;d.length!==a.length&&u(p,d.length);!x&&a.length!==0&&b(a)},[f,x,t,p]);c("useFileDragEvents")(e,m.current,function(a){return!0});return l.jsxs("div",{className:(j||(j=c("stylex")))(r.root,(e=a)!=null?e:!1),ref:m,children:[l.jsx(q,{fileUploadHandlerConfigRef:k,children:b}),!x&&g?l.jsx("div",{className:"x6s0dn4 x1h0vfkc x1ey2m1c x78zum5 xds687c xl56j7k x10l6tqk x17qophe x13vifvy x1vjfegm",children:l.jsx(c("MWXText.react"),{type:"body1",children:h._("__JHASH__Cpq0daihgaG__JHASH__")})}):null]})}a.displayName=a.name+" [from "+f.id+"]";g.mWV2FileDropzoneContext=p;g.MWV2FileDropzone=a}),98);
__d("MWMediaTraceHandler",["I64","LSAppendDataTraceAddonStoredProcedure","LSDataTraceCheckPoint","LSDataTraceType","LSFactory","LSIntEnum","MAWTimeUtils","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b){return a.table("data_trace_meta").add({contextOne:void 0,contextThree:void 0,contextTwo:void 0,foregroundTimestampMs:(h||(h=d("I64"))).zero,initTimestampMs:d("MAWTimeUtils").toTimestamp(d("WATimeUtils").unixTime()),predefinedId:void 0,shouldFlush:!1,traceId:b,traceType:(i||(i=d("LSIntEnum"))).ofNumber(c("LSDataTraceType").TASK)})}function a(a,b,e,f){return j(a,b).then(function(){return c("LSAppendDataTraceAddonStoredProcedure")(c("LSFactory")(a),{checkPointId:(i||(i=d("LSIntEnum"))).ofNumber(c("LSDataTraceCheckPoint").RICH_MEDIA_UPLOAD_START),dataTraceId:b,syncChannel:(h||(h=d("I64"))).neg_one,tags:h.to_string(e)+","+h.to_string(f)})})}g.logMediaSendStart=a}),98);
__d("useAckMessageServerReceived",["I64","Int64Hooks","LSIntEnum","ReQL","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;a=function(a,b,e,f){var g=(j||(j=c("useReStore")))();d("Int64Hooks").useEffectInt64(function(){return d("ReQL").fromTableDescending(g.table("messages")).getKeyRange(a).subscribe(function(a,c){if(c.operation==="add"||c.operation==="put"){a=c.value;c=a.sendStatusV2;(h||(h=d("I64"))).equal(c,(i||(i=d("LSIntEnum"))).ofNumber(2))?b(a.offlineThreadingId):(h||(h=d("I64"))).equal(c,(i||(i=d("LSIntEnum"))).ofNumber(4))?e(a.offlineThreadingId):(h||(h=d("I64"))).equal(c,(i||(i=d("LSIntEnum"))).ofNumber(1))&&f(a.offlineThreadingId)}})},[g,e,b,f,a])};b=a;g["default"]=b}),98);
__d("MAWOptimisticUpdateContactRelationship",["I64","LSAddMessengerContactStoredProcedure","LSFactory","LSMessagingThreadTypeUtil","ReQL","asyncToGeneratorRuntime","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e,f){if(!d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType))return;c("promiseDone")(e.runInTransaction(function(){var g=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var g;g=(g=(yield d("ReQL").firstAsync(d("ReQL").mergeJoin(d("ReQL").fromTableAscending(e.table("participants")).getKeyRange(a.threadKey),d("ReQL").fromTableAscending(e.table("contacts"))).filter(function(a){a[0];a=a[1];return!(h||(h=d("I64"))).equal(a.id,f)}))))!=null?g:[void 0,void 0];g[0];g=g[1];if(g==null)return;var i=babelHelpers["extends"]({},g,{contactViewerRelationship:(h||(h=d("I64"))).of_string("2")});yield b.table("contacts").upsert([g.id],i);yield c("LSAddMessengerContactStoredProcedure")(c("LSFactory")(b),{contactId:g.id})});return function(a){return g.apply(this,arguments)}}(),"readwrite"))}g.call=a}),98);
__d("ReQLSubscribe",["ErrorGuard","ReQL","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){a=a.take(1);var e=(h||(h=c("ErrorGuard"))).guard(b),f=!1,g=null,i=a.subscribe(function(a,b){if(f)return;switch(b.operation){case"delete":(g==null||g.current!==void 0)&&(g={current:void 0},e(g.current));return;case"add":case"put":((a=g)==null?void 0:a.current)!==b.value&&(g={current:b.value},e(g.current))}});c("promiseDone")(d("ReQL").firstAsync(a),function(a){!f&&g==null&&(g={current:a},e(a))});return function(){f||(f=!0,i==null?void 0:i())}}g.subscribeToFirst=a}),98);
__d("useMWV2SendOpenMessageImplShared",["ArmadilloDataTraceCheckPoint","I64","Int64Hooks","LSAppendDataTraceAddonStoredProcedure","LSAuthorityLevel","LSFactory","LSIntEnum","LSMailboxType","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSOptimisticSendMessageV2StoredProcedure","LSShape","MWPActor.react","MWPReplyContext.react","MessagePowerUp","MultipleTabsLogger","asyncToGeneratorRuntime","gkx","react","useLSMessagingInitiatingSource","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=(i||d("react")).useContext;function m(a,b,c){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){e!=null&&c("gkx")("2517")&&(yield c("LSAppendDataTraceAddonStoredProcedure")(c("LSFactory")(a),{checkPointId:d("ArmadilloDataTraceCheckPoint").armadilloTlcControlOpenThread,dataTraceId:e,syncChannel:(k||(k=d("I64"))).minus_one,tags:b}))});return n.apply(this,arguments)}function a(a){var e=a.authorityLevel,f=a.onOptimisticMessageCreation,g=a.skipUrlPreviewGen,i=a.threadKey,n=a.threadType,o=(h||(h=c("useReStore")))(),p=d("MWPActor.react").useActor();a=l(d("MWPReplyContext.react").MWPReplyContext);var q=a.reply,r=c("useLSMessagingInitiatingSource")();return d("Int64Hooks").useCallbackInt64(function(a){var h=a.afterSend,l=a.attributionAppId,s=a.dataTraceId,t=a.externalAttachmentUrl,u=a.hotEmojiSize,v=a.logSendPoint,w=a.mentionData,x=a.messageText,y=a.messageTypeParams,z=a.optimisticAttachmentPreview,A=a.platformToken,B=a.profileRanges,C=a.sendFirstMessageSeparately,D=C===void 0?!1:C,E=a.setupS2SLogging,F=a.source,G=a.stickerID;return o.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=c("LSFactory")(a),o=c("gkx")("7566");yield m(a,(k||(k=d("I64"))).to_string(i),s);a=(yield d("MultipleTabsLogger").hasMultipleTabs());var C=y.hasAttachment,H=y.hasGif,I=y.hasLinks,J=y.hasSticker,K=y.hasText;b=(yield c("LSOptimisticSendMessageV2StoredProcedure")(b,{extraSendMessageParams:d("LSShape").ofRecord({attribution_app_id:l,calculate_denormalizations:!1,data_trace_id:(b=s)!=null?b:void 0,external_attachment_url:t,hot_emoji_size:u,initiating_source:r,mark_read:k.ge(e,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE)),mention_data:w,multitab_env:a,optimistic_attachment_preview:z,platform_token:A,power_up_style:j.ofNumber(c("MessagePowerUp").NONE),reply_source_id:q==null?void 0:q.messageId,reply_source_type:q!=null?(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceType").MESSAGE):void 0,reply_source_type_v2:q!=null?(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE):void 0,skip_url_preview_gen:g,source:F,sticker_id:G,text_has_links:I&&o}),mailboxType:j.ofNumber(c("LSMailboxType").MESSENGER),senderId:p,text:x,threadKey:i,threadType:n}));v("create_optimistic_message_success");if(!C){a=b[0];E(a)}f!=null&&f({TAG:0,hasLink:I,hasMention:B!=null&&B.length>0,isGIF:H,isReply:!!(q&&q.messageId!==""),isSticker:J,isText:K,offlineThreadingId:b[0]});o=b[0];h!=null&&h(o);return D===!0?null:b});return function(b){return a.apply(this,arguments)}}(),"readwrite","ui")},[o,i,n,e,p,r,q,g,f])}g["default"]=a}),98);
__d("useMWV2SendOpenMessageImpl",["useMWV2SendOpenMessageImplShared"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.onOptimisticMessageCreation,d=a.skipUrlPreviewGen;a=a.thread;return c("useMWV2SendOpenMessageImplShared")({authorityLevel:a.authorityLevel,onOptimisticMessageCreation:b,skipUrlPreviewGen:d,threadKey:a.threadKey,threadType:a.threadType})}g["default"]=a}),98);
__d("MWPSendMessageLogger",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("MWLogSend").__setRef("MWPSendMessageLogger");function a(a,b,c,d,e,f,g,i,j){h.onReady(function(h){return h.log(a,b,c,e,f,d,g,i,j,0,0)})}g.log=a}),98);
__d("useMWV2SendOpenStagedMedia",["ArmadilloDataTraceCheckPoint","I64","Int64Hooks","LSAppendDataTraceAddonStoredProcedure","LSFactory","LSGenerateTraceId","LSInsertNewMediaSendStoredProcedure","LSIntEnum","LSLocalApplyOptimisticMessageWithAttachmentsStoredProcedure","LSMarkSubJobCompletedV2StoredProcedure","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSMessagingThreadTypeUtil","LSShape","LSThreadBitOffset","LSVec","MWConsole","MWMediaTraceHandler","MWPActor.react","MWPComposerMediaUploadUtil","MWPOpenComposerUtils","MWPReplyContext.react","MWPSendMessageLogger","MessagingLoggingUtils","MessengerWebEventsFalcoEvent","asyncToGeneratorRuntime","gkx","react","sendToSentQPLLogger","updateAndFlushLSDataTrace","useLSMessagingInitiatingSource","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=(i||d("react")).useContext;function m(a,b,c,d){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e){b!=null&&(yield d("MWMediaTraceHandler").logMediaSendStart(a,b,c,(k||(k=d("I64"))).of_int32(e)))});return n.apply(this,arguments)}function o(a,b,c){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){e!=null&&c("gkx")("2517")&&(yield c("LSAppendDataTraceAddonStoredProcedure")(c("LSFactory")(a),{checkPointId:d("ArmadilloDataTraceCheckPoint").armadilloTlcControlOpenThread,dataTraceId:e,syncChannel:(k||(k=d("I64"))).minus_one,tags:b}))});return p.apply(this,arguments)}function a(a){var e=a.onOptimisticMessageCreation,f=a.thread,g=(h||(h=c("useReStore")))(),i=d("MWPActor.react").useActor();a=l(d("MWPReplyContext.react").MWPReplyContext);var n=a.reply,p=c("useLSMessagingInitiatingSource")(),q=d("LSThreadBitOffset").has(40,f);return d("Int64Hooks").useCallbackInt64(function(a){var h=a.firstAttachmentTypeContents,l=a.isFirstMessage,r=l===void 0?!1:l,s=a.isFirstMessageText,t=a.mediaStagings;l=a.sendFirstMessageSeparately;var u=l===void 0?!1:l,v=a.setupS2SLogging,w=a.source;return g.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=c("LSFactory")(a),l={contents:h},x=t[0];if(t.length===0){d("MWPSendMessageLogger").log(g,f.threadKey,f.threadType,i,void 0,[],w,l.contents,n!=null);return}var y={contents:!0};l.contents=d("MessagingLoggingUtils").convertI64ToAttachmentType(x.attachmentType);x=d("MWPComposerMediaUploadUtil").createPartitionedAttachments(t,q);for(var z=0;z<x.length;z++)if(u===!1||z===0&&r===!0&&s===!1||r===!1){var A=x[z],B=c("LSGenerateTraceId")(),C=(yield c("LSLocalApplyOptimisticMessageWithAttachmentsStoredProcedure")(b,{attachments:c("LSVec").ofArray(A.map(d("LSShape").ofRecord)),replySourceId:n==null?void 0:n.messageId,replySourceType:n!=null?(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceType").MESSAGE):void 0,replySourceTypeV2:n!=null?(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE):void 0,senderId:i,threadKey:f.threadKey,threadType:f.threadType})),D=C[0];z===0&&v(D);yield a.table("messages_optimistic_context").add({externalAttachmentUrl:void 0,initiatingSource:p,markThreadRead:!1,messageId:void 0,offlineThreadingId:D,platformRef:void 0,platformToken:void 0,replySourceId:void 0,replySourceType:void 0,sendType:void 0,skipUrlPreviewGen:void 0,taskId:(k||(k=d("I64"))).of_string(D),threadAttributionSource:w,threadKey:f.threadKey});e!==void 0&&e({TAG:2,numberOfAttachments:A.length,offlineThreadingId:D});yield m(a,B,k.of_int32(A.length),l.contents);C=function*(e){var g=A[e];yield c("LSInsertNewMediaSendStoredProcedure")(b,{attachmentType:g.attachment_type,inMessageIndex:(k||(k=d("I64"))).of_int32(e),isSecure:!1,offlineAttachmentId:g.attachment_fbid,offlineThreadingId:D,sendByServer:!1,shouldTranscode:!1,useDoublePhase:!1});e=t.find(function(a){return a.offlineAttachmentId===g.offline_attachment_id});if(e!=null){var h=e.fbid;h!=null&&(yield c("LSMarkSubJobCompletedV2StoredProcedure")(b,{fbid:h,offlineAttachmentId:g.attachment_fbid}),yield d("MWPOpenComposerUtils").deleteMediaStaging(a,g.attachment_fbid),yield d("MWPOpenComposerUtils").updateAttachment(a,f.threadKey,D,g.attachment_fbid,function(a){return babelHelpers["extends"]({},a,{attachmentFbid:(k||(k=d("I64"))).to_string(h)})}))}y.contents=!1;yield d("MWPOpenComposerUtils").updateMediaStaging(a,g.attachment_fbid,function(a){return{attachmentType:a.attachmentType,durationMs:a.durationMs,fbid:a.fbid,filename:a.filename,fileSize:a.fileSize,hasError:a.hasError,isSent:!0,mailboxType:a.mailboxType,mimeType:a.mimeType,offlineAttachmentId:a.offlineAttachmentId,offlineThreadingId:a.offlineThreadingId,previewHeight:a.previewHeight,previewUrl:a.previewUrl,previewWidth:a.previewWidth,progress:a.progress,threadKey:a.threadKey}});c("gkx")("184")&&(yield d("MWPOpenComposerUtils").updateAttachment(a,f.threadKey,D,g.attachment_fbid,function(a){return babelHelpers["extends"]({},a,{previewHeight:void 0,previewWidth:void 0})}))};for(var E=0;E<A.length;E++)yield* C(E);d("MWPSendMessageLogger").log(g,f.threadKey,f.threadType,i,D,A.map(function(a){return a.attachment_fbid}),w,l.contents,n!=null);yield d("MWPOpenComposerUtils").resumeSendJob(b,D,(C=B)!=null?C:void 0);yield o(a,k.to_string(f.threadKey),B);yield c("updateAndFlushLSDataTrace")(a,B)}E=(k||(k=d("I64"))).to_string(f.threadKey);C=d("LSMessagingThreadTypeUtil").isGroup(f.threadType)?[E,null]:[null,E];var F=C[0],G=C[1];c("MessengerWebEventsFalcoEvent").log(function(){return{event_name:y.contents?"hit_send_message_with_all_files_uploaded":"hit_send_message_with_files_pending",extra_data:null,other_user_fbid:G,thread_fbid:F}})});return function(b){return a.apply(this,arguments)}}(),"readwrite","ui")},[g,q,f.threadKey,f.threadType,i,n,p,e,d("sendToSentQPLLogger").addSendToSentAnnotations])}g["default"]=a}),98);
__d("useMWV2SendOpenVoiceClip",["I64","Int64Hooks","LSFactory","LSInsertNewMediaSendStoredProcedure","LSIntEnum","LSLocalApplyOptimisticMessageWithAttachmentsStoredProcedure","LSMarkSubJobCompletedV2StoredProcedure","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSShape","LSVec","MWMediaTraceHandler","MWPActor.react","MWPComposerMediaUploadUtil","MWPOpenComposerUtils","MWPReplyContext.react","MWPSendMessageLogger","MessagingLoggingUtils","OfflineThreadingId","ReQL","asyncToGeneratorRuntime","promiseDone","react","useLSMessagingInitiatingSource","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=(i||d("react")).useContext;function m(a,b,c,d){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e){b!=null&&(yield d("MWMediaTraceHandler").logMediaSendStart(a,b,c,(k||(k=d("I64"))).of_int32(e)))});return n.apply(this,arguments)}function o(a,b,c,e){if(a==null)return;if(!a.startsWith("blob:"))return;var f={contents:function(){}};f.contents=d("ReQL").fromTableAscending(c.table("attachments")).getKeyRange(e).subscribe(function(c,d){if(d.operation==="put"){c=d.value;if(c.attachmentFbid!==b.toString())return;d=c.playableUrl;d!=null&&!d.startsWith("blob:")&&(f.contents(),URL.revokeObjectURL(a))}})}function a(a){var e=a.onOptimisticMessageCreation,f=a.onUploadFailure,g=a.onUploadStart,i=a.onUploadSuccess,n=a.skipUrlPreviewGen,p=a.thread,q=(h||(h=c("useReStore")))(),r=d("MWPActor.react").useActor();a=l(d("MWPReplyContext.react").MWPReplyContext);var s=a.reply,t=c("useLSMessagingInitiatingSource")();return d("Int64Hooks").useCallbackInt64(function(a){var h=a.dataTraceId,l=a.setupS2SLogging,u=a.source,v=a.voiceClip;return q.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var w=c("LSFactory")(a),x=d("OfflineThreadingId").createOfflineThreadingID(),y=d("MWPComposerMediaUploadUtil").getAudioAttachment(x,v.file,v.duration,v.waveformData);yield m(a,h,(k||(k=d("I64"))).one,2);var z=(yield c("LSLocalApplyOptimisticMessageWithAttachmentsStoredProcedure")(w,{attachments:c("LSVec").ofArray([d("LSShape").ofRecord(y)]),replySourceId:s==null?void 0:s.messageId,replySourceType:s!=null?(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceType").MESSAGE):void 0,replySourceTypeV2:s!=null?(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE):void 0,senderId:r,threadKey:p.threadKey,threadType:p.threadType})),A=z[0];l(A);yield a.table("messages_optimistic_context").add({externalAttachmentUrl:void 0,initiatingSource:t,markThreadRead:!1,messageId:void 0,offlineThreadingId:A,platformRef:void 0,platformToken:void 0,replySourceId:void 0,replySourceType:void 0,sendType:void 0,skipUrlPreviewGen:n,taskId:k.of_string(A),threadAttributionSource:u,threadKey:p.threadKey});e!=null&&e({TAG:1,offlineThreadingId:A});yield c("LSInsertNewMediaSendStoredProcedure")(w,{attachmentType:y.attachment_type,inMessageIndex:k.zero,isSecure:!1,offlineAttachmentId:x,offlineThreadingId:A,sendByServer:!1,shouldTranscode:!1,useDoublePhase:!1});z=function(a,e){if(e==null)return;c("promiseDone")(q.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=c("LSFactory")(a);yield c("LSMarkSubJobCompletedV2StoredProcedure")(a,{fbid:(k||(k=d("I64"))).of_float(e),offlineAttachmentId:x});yield d("MWPOpenComposerUtils").resumeSendJob(a,A,h);o(y.playable_url,e,q,p.threadKey)});return function(b){return a.apply(this,arguments)}}(),"readwrite"));d("MWPSendMessageLogger").log(q,p.threadKey,p.threadType,r,A,[(k||(k=d("I64"))).to_string(k.of_float(e))],u,d("MessagingLoggingUtils").convertI64ToAttachmentType(y.attachment_type),s!=null);i&&i(a)};a=function(a,b){if(f){f((b=b.response.getErrorDescriptionString())!=null?b:"unknown_upload_failure",a)}};d("MWPComposerMediaUploadUtil").startUpload(g,void 0,z,a,!0,[v.file],[x],void 0,void 0,v.waveformData,void 0)});return function(b){return a.apply(this,arguments)}}(),"readwrite","ui")},[p,t,q,s,r,n,e,g,i,f])}g["default"]=a}),98);
__d("useMWV2SendOpenMessage",["I64","Int64Hooks","LSGenerateTraceId","LSIntEnum","LSMessagingThreadTypeUtil","LSShape","MWChatInteraction","MWLSLogSend","MWPReplyContext.react","MWSharedMsgLogUtils","MWVersion","ReQL","ReQLSubscribe","asyncToGeneratorRuntime","cr:7099","err","gkx","promiseDone","react","sendToSentQPLLogger","useLSMessagingInitiatingSource","useMWLSDefaultThreadSource","useMWLSUpdateDraftMessage","useMWV2SendOpenMessageImpl","useMWV2SendOpenStagedMedia","useMWV2SendOpenVoiceClip","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=(k||d("react")).useContext,m=function(a){a=d("MWChatInteraction").get(d("MWChatInteraction").s2sKey(a));return a!=null?Number(a):null};function n(a,b){d("sendToSentQPLLogger").markSendToSentPoint(a,"received_successful_server_ack"),d("sendToSentQPLLogger").markSendToSentSuccess(a),d("MWChatInteraction").remove(d("MWChatInteraction").s2sKey(b))}function o(a){var b=m(a);b!=null&&n(b,a)}function p(a,b){d("sendToSentQPLLogger").markSendToSentFail(a,c("err")("fail_to_send_message")),d("MWChatInteraction").remove(d("MWChatInteraction").s2sKey(b))}function q(a){var b=m(a);b!=null&&p(b,a)}function r(a){d("sendToSentQPLLogger").markSendToSentPoint(a,"sending_message")}function s(a){a=m(a);a!=null&&r(a)}function a(a){var e=a.onOptimisticMessageCreation,f=a.onUploadFailure,g=a.onUploadStart,k=a.onUploadSuccess,m=a.skipUrlPreviewGen,t=a.thread,u=(h||(h=c("useReStore")))();a=l(d("MWPReplyContext.react").MWPReplyContext);var v=a.reply,w=c("useLSMessagingInitiatingSource")(),x=c("useMWLSDefaultThreadSource")(),y=c("useMWLSUpdateDraftMessage")(),z=c("useMWV2SendOpenVoiceClip")({onOptimisticMessageCreation:e,onUploadFailure:f,onUploadStart:g,onUploadSuccess:k,skipUrlPreviewGen:m,thread:t}),A=c("useMWV2SendOpenStagedMedia")({onOptimisticMessageCreation:e,thread:t}),B=c("useMWV2SendOpenMessageImpl")({onOptimisticMessageCreation:e,skipUrlPreviewGen:m,thread:t}),C=d("LSMessagingThreadTypeUtil").isMessageRequest(t);b("cr:7099")==null?void 0:b("cr:7099")(t.threadKey,o,q,s);return d("Int64Hooks").useCallbackInt64(function(a,e,f,g,h,k,l,m,o,q,s,D,E,F){s===void 0&&(s=!1);D===void 0&&(D=!1);var G=!1;function H(a){E.addMarkerPoint(a,"AppTiming"),d("sendToSentQPLLogger").markSendToSentPoint(F,a)}var I=x(t.threadKey),J=c("LSGenerateTraceId")(),K={contents:1},L={initiatingSource:w,isCommunityEvent:t.eventStartTimestampMs!=null,isMessageRequest:C,mwVersion:d("MWVersion").v2,threadType:t.threadType};function M(a){d("MWLSLogSend").logSentHeroInteraction(E,a,L);d("MWChatInteraction").set(d("MWChatInteraction").s2sKey(a),String(F));d("sendToSentQPLLogger").addSendToSentAnnotations(F,{string:babelHelpers["extends"]({},d("MWLSLogSend").getMessageSendAnnotations(L))});if(c("gkx")("10731")){d("sendToSentQPLLogger").addSendToSentAnnotations(F,{bool:{subscription_points_gk:!0}});var e=!1,f=d("ReQL").fromTableAscending(u.table("messages").index("optimistic")).getKeyRange(a),g=d("ReQLSubscribe").subscribeToFirst(f,function(b){b!=null&&(i||(i=d("I64"))).equal(b.sendStatusV2,(j||(j=d("LSIntEnum"))).ofNumber(2))?(e=!0,n(F,a),g()):b!=null&&(i||(i=d("I64"))).equal(b.sendStatusV2,(j||(j=d("LSIntEnum"))).ofNumber(4))?(e=!0,p(F,a),g()):b!=null&&(i||(i=d("I64"))).equal(b.sendStatusV2,(j||(j=d("LSIntEnum"))).ofNumber(1))&&r(F)});window.setTimeout(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(!e){var a=(yield d("ReQL").firstAsync(f));e||d("sendToSentQPLLogger").addSendToSentAnnotations(F,{string:{status_after_10s:a?""+(j||(j=d("LSIntEnum"))).toNumber(a.sendStatusV2):"none"}})}}),1e4);window.setTimeout(function(){g()},6e4)}}y(t.threadKey,"");return u.runInTransaction(function(){var j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){b=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(b.table("media_staging")).filter(function(a){return!a.isSent&&(i||(i=d("I64"))).equal(a.threadKey,t.threadKey)})));var j=d("MWSharedMsgLogUtils").getMessageTypeParams(a,g,v,f,k,m,b);d("MWSharedMsgLogUtils").addSendMessageMetadataForInteractionTrace(E,j,t,w);d("sendToSentQPLLogger").addSendToSentAnnotations(F,yield d("MWSharedMsgLogUtils").getSendToSentAnnotations(t,j,w));if(m!=null){c("promiseDone")(z({dataTraceId:J,setupS2SLogging:M,source:I,voiceClip:m}));return}var n=j.hasGif,p=j.hasSticker,r=j.hasText;p?K.contents=4:n&&(K.contents=6);var u=e!=null?d("LSShape").ofRecord({mention_ids:e.map(function(a){return a.id}).join(","),mention_lengths:e.map(function(a){return String(a.length)}).join(","),mention_offsets:e.map(function(a){return String(a.offset)}).join(","),mention_types:e.length!==0?e.map(function(a){return a.type}).join(","):void 0}):void 0;H("before_create_optimistic_message");r||p||n?(G=!0,(s===!1||D===!0)&&c("promiseDone")(B({afterSend:q,attributionAppId:h,dataTraceId:J,externalAttachmentUrl:k,hotEmojiSize:g,logSendPoint:H,mentionData:u,messageText:a,messageTypeParams:j,optimisticAttachmentPreview:l,platformToken:o,profileRanges:e,sendFirstMessageSeparately:s,setupS2SLogging:M,source:I,stickerID:f}))):q!=null&&q();c("promiseDone")(A({firstAttachmentTypeContents:K.contents,isFirstMessage:D,isFirstMessageText:G,mediaStagings:b,sendFirstMessageSeparately:s,setupS2SLogging:M,source:I}))});return function(a){return j.apply(this,arguments)}}(),"readwrite","ui")},[x,t,w,C,y,u,v,A,z,B])}g["default"]=a}),98);
__d("useMWV2OnSendOpenMessage",["I64","Int64Hooks","LSMessagingThreadTypeUtil","MAWOptimisticUpdateContactRelationship","MWCMThreadTypes.react","MWPActor.react","MWPReplyContext.react","MessageRequestsLog","promiseDone","qpl","react","sendToSentQPLLogger","useCometInteractionTracing","useMWLSUpdateDraftMessage","useMWV2SendOpenMessage","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;b=j||d("react");var k=b.useContext,l=b.useMemo;function a(a){var b=a.afterSendMessage,e=a.onOptimisticMessageCreation,f=a.onUploadFailure,g=a.onUploadStart,j=a.onUploadSuccess,m=a.skipUrlPreviewGen,n=a.thread,o=(h||(h=c("useReStore")))(),p=d("MWPActor.react").useActor();a=k(d("MWPReplyContext.react").MWPReplyContext);var q=a.clearReply,r=n.threadSubtype,s=l(function(){return{is_community_event:(n.eventStartTimestampMs!=null).toString(),isCutover:(!1).toString(),isSecure:(!1).toString(),thread_id:(i||(i=d("I64"))).to_string(n.threadKey),thread_subtype:r&&d("MWCMThreadTypes.react").isIGBroadcastChannelThread(r)?(i||(i=d("I64"))).to_string(r):"",thread_type:i.to_string(n.threadType)}},[n,r]),t=c("useCometInteractionTracing")(c("qpl")._(30605384,"573"),"fast","INTERACTION",void 0,s),u=c("useMWLSUpdateDraftMessage")(),v=c("useMWV2SendOpenMessage")({onOptimisticMessageCreation:e,onUploadFailure:f,onUploadStart:g,onUploadSuccess:j,skipUrlPreviewGen:m,thread:n});return d("Int64Hooks").useCallbackInt64(function(a,e,f,g,h,i,j,k,l,m,r,w){r===void 0&&(r=!1);w===void 0&&(w=!1);var x=d("LSMessagingThreadTypeUtil").isMessageRequest(n);return t(function(t){var y=d("sendToSentQPLLogger").markSendToSentStart();d("sendToSentQPLLogger").addSendToSentAnnotations(y,{string:s});u(n.threadKey,"");c("promiseDone")(v(a,e,f,g,h,i,j,k,l,m,r,w,t,y),function(){b(),q(n.threadKey,!1),d("MAWOptimisticUpdateContactRelationship").call(n,o,p),x&&d("MessageRequestsLog").logActionConfirmed(n,1)})})},[n,t,d("sendToSentQPLLogger").markSendToSentStart,d("sendToSentQPLLogger").addSendToSentAnnotations,s,u,v,b,q,o,p])}g["default"]=a}),98);
__d("useMWV2FileDropzoneRegisterHandler",["MWV2FileDropzone.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useContext,j=b.useEffect;function a(a){var b=i(d("MWV2FileDropzone.react").mWV2FileDropzoneContext);j(function(){b.current.enabled=!0;b.current.handler=a;return function(){b.current.enabled=!0,b.current.handler=null}},[b,a])}g["default"]=a}),98);
__d("useParticipantsExcludingViewer",["I64","MAWSubscribeToContactNames","MWPActor.react","MWWorkForeignEntityTypeUtils","ReQL","ReQLSuspense","getLSMediaContactProfilePictureUrl","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||d("react")).useMemo;function a(a){var b=a.threadKey,e=d("MWPActor.react").useActor(),g=(h||(h=c("useReStore")))(),j=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(g.table("participants")).getKeyRange(b).map(function(a){return[d("ReQLSuspense").first(d("ReQL").fromTableAscending(g.table("contacts")).getKeyRange(a.contactId),f.id+":42"),a]})},[g,b],f.id+":36"),l=k(function(){return j.reduce(function(a,b){var c=b[0];b=b[1];if(c!=null&&!(i||(i=d("I64"))).equal(c.id,e)){return a.concat([[babelHelpers["extends"]({},c,{name:(c=c.name)!=null?c:d("MAWSubscribeToContactNames").getUnknownUser()}),b]])}return a},[])},[j,e]);return k(function(){return new Map(l.map(function(a){var b,e=a[1];a=a[0];return[(i||(i=d("I64"))).to_string(a.id),{actualName:a.name,contactId:i.to_string(a.id),isAdmin:(b=e.isAdmin)!=null?b:!1,isContact:!0,jobTitle:a.workJobTitle,name:a.name,nickname:e.nickname,profilePictureUrl:c("getLSMediaContactProfilePictureUrl")(a),secondaryName:a.secondaryName,workForeignEntityInfo:d("MWWorkForeignEntityTypeUtils").getWorkForeignEntityType(a.workForeignEntityType)}]}))},[l])}g["default"]=a}),98);
__d("MessengerBlurpleLogoSvg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.cloneElement,k=b.useId,l=b.useMemo;function a(a){var b=a.height;a=a.width;a=(a=a)!=null?a:"80";b=(b=b)!=null?b:"80";var c=k(),d=l(function(){return j(i.jsx("path",{}),{clipRule:"evenodd",d:"M40 .914C17.995.914.937 17.033.937 38.804c0 11.389 4.668 21.23 12.268 28.026a3.12 3.12 0 011.05 2.227l.212 6.95c.068 2.215 2.358 3.658 4.386 2.763l7.753-3.423a3.115 3.115 0 012.087-.153A42.602 42.602 0 0040 76.695c22.005 0 39.063-16.118 39.063-37.89C79.063 17.033 62.005.915 40 .915z",fill:"url(#"+(c+")"),fillRule:"evenodd",suppressHydrationWarning:!0})},[c]),e=l(function(){return j(i.jsx("radialGradient",{}),{children:i.jsxs(i.Fragment,{children:[i.jsx("stop",{stopColor:"#09F"}),i.jsx("stop",{offset:"0.61",stopColor:"#A033FF"}),i.jsx("stop",{offset:"0.935",stopColor:"#FF5280"}),i.jsx("stop",{offset:"1",stopColor:"#FF7061"})]}),cx:"0",cy:"0",gradientTransform:"rotate(-57.092 80.25 24.628) scale(85.1246)",gradientUnits:"userSpaceOnUse",id:c,r:"1",suppressHydrationWarning:!0})},[c]);return i.jsxs("svg",{fill:"none",height:b,viewBox:" 0 0 80 80",width:a,children:[d,i.jsx("path",{clipRule:"evenodd",d:"M16.543 49.886L28.018 31.68a5.86 5.86 0 018.472-1.563l9.127 6.844a2.343 2.343 0 002.823-.008L60.765 27.6c1.645-1.248 3.793.72 2.692 2.467L51.982 48.272a5.86 5.86 0 01-8.472 1.563l-9.127-6.845a2.344 2.344 0 00-2.823.01l-12.325 9.354c-1.646 1.248-3.793-.72-2.692-2.467z",fill:"#fff",fillRule:"evenodd"}),i.jsx("defs",{children:e})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2MediaViewerContainer.react",["MessengerBlurpleLogoSvg.react","XMessengerDotComCometRootControllerRouteBuilder","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.actions,d=a.children;a=a.shouldShowMessengerLogo;return i.jsxs("div",{className:"x1qjc9v5 xal61yo x9f619 x78zum5 xdt5ytf x1iyjqo2 x5yr21d x6ikm8r x10wlt62 x1n2onr6 x87ps6o x1uvtmcs",children:[d,i.jsx("div",{className:"x10l6tqk x16q8cke x1tk7jg1",children:((d=a)!=null?d:!1)?i.jsx("a",{"aria-label":"Messenger",href:c("XMessengerDotComCometRootControllerRouteBuilder").buildURL({}),children:i.jsx(c("MessengerBlurpleLogoSvg.react"),{height:"40",width:"40"})}):null}),i.jsx("div",{className:"x92rtbv x10l6tqk x1tk7jg1",children:b})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXCircleButton.react",["BaseTheme.react","MWXSvgIcon","MWXThreadThemeColor","cr:6680","cr:6681","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useMemo;function a(a,e){var f=a.color,g=a.icon,h=a.size;a=babelHelpers.objectWithoutPropertiesLoose(a,["color","icon","size"]);var k=f instanceof d("MWXThreadThemeColor").MWXThreadThemeColor?"primary":f,l=j(function(){return f instanceof d("MWXThreadThemeColor").MWXThreadThemeColor?{dark:{"primary-icon":f.color},light:{"primary-icon":f.color},type:"VARIABLES"}:void 0},[f]),m=g instanceof d("MWXSvgIcon").MWXSvgIcon?g.component:g,n=null;b("cr:6680")!=null&&(n=i.jsx(b("cr:6680"),babelHelpers["extends"]({color:k,icon:m,size:h},a,{ref:e})));b("cr:6681")!=null&&(n=i.jsx(b("cr:6681"),babelHelpers["extends"]({color:k,icon:m,size:h},g instanceof d("MWXSvgIcon").MWXSvgIcon?{iconRatio:"medium"}:{},a,{ref:e})));l!=null&&(n=i.jsx(c("BaseTheme.react"),{config:l,children:n}));return n}a.displayName=a.name+" [from "+f.id+"]";e=i.forwardRef(a);g["default"]=e}),98);
__d("MWXRow.react",["cr:2667","cr:2922","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function j(a){return a===10?12:a}function k(a){switch(a){case 10:return 12;case 20:return 16;default:return a}}function l(a){return a===10?12:a}function a(a,c){if(b("cr:2667")!=null){var d=a.paddingHorizontal,e=a.paddingTop,f=a.paddingVertical,g=a.spacing,h=a.spacingHorizontal,m=a.spacingVertical,n=babelHelpers.objectWithoutPropertiesLoose(a,["paddingHorizontal","paddingTop","paddingVertical","spacing","spacingHorizontal","spacingVertical"]);return i.jsx(b("cr:2667"),babelHelpers["extends"]({paddingHorizontal:j(d),paddingTop:k(e),paddingVertical:k(f),ref:c,spacing:l(g),spacingHorizontal:l(h),spacingVertical:l(m)},n))}return b("cr:2922")!=null?i.jsx(b("cr:2922"),babelHelpers["extends"]({},a,{ref:c})):null}a.displayName=a.name+" [from "+f.id+"]";c=i.forwardRef(a);e=c;g["default"]=e}),98);
__d("MWXRowItem.react",["cr:3083","cr:3084","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a,c){if(b("cr:3083")!=null)return i.jsx(b("cr:3083"),babelHelpers["extends"]({},a,{ref:c}));return b("cr:3084")!=null?i.jsx(b("cr:3084"),babelHelpers["extends"]({},a,{ref:c})):null}a.displayName=a.name+" [from "+f.id+"]";c=i.forwardRef(a);g["default"]=c}),98);
__d("MWV2MediaViewerFallback.react",["fbt","MWV2MediaViewerContainer.react","MWXCircleButton.react","MWXIconCross","MWXRow.react","MWXRowItem.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=a.onClose;a=a.shouldShowMessengerLogo;return j.jsx(c("MWV2MediaViewerContainer.react"),{actions:j.jsx(c("MWXRow.react"),{paddingTop:0,spacing:8,children:j.jsx(c("MWXRowItem.react"),{children:j.jsx(c("MWXCircleButton.react"),{color:"white",icon:c("MWXIconCross"),label:h._("__JHASH__tnRfHlva-bL__JHASH__"),onPress:b,size:36,type:"dark-overlay"})})}),shouldShowMessengerLogo:a,children:null})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2MessageActionsVisibility.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useRef;function a(){return i(function(){})}g.useStopHoveringRef=a}),98);
__d("MWEditedEyebrow.react",["fbt","CometMiddot.react","MessengerWebUXLogger","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react");function a(a){var b=a.hasSeparator;a=a.xstyle;var d=c("MessengerWebUXLogger")==null?void 0:c("MessengerWebUXLogger").useImpressionLoggerRef({eventName:"edit_eyebrow_impression"}),e=h._("__JHASH__Mh0-kan22Pe__JHASH__");return k.jsxs(k.Fragment,{children:[b&&k.jsx("span",{className:(i||(i=c("stylex")))(a),children:k.jsx(c("CometMiddot.react"),{})}),k.jsx("span",{"data-testid":void 0,ref:d,children:e})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2MessageIsEmojiOnly",["EmojiRenderer","EmoticonRenderer","cr:2472","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=/^[ \r\n\s]*$/;function a(a,e){if(a==null)return!1;var f=b("cr:2472")==null?a:b("cr:2472").unvault(a);a=d("EmojiRenderer").parse(f).map(function(a){return{length:a.length,offset:a.offset}});var g=c("gkx")("1839834");g=g?e?d("EmoticonRenderer").parse(f).map(function(a){return{length:a.chars.length,offset:a.offset}}):[]:[];e=a.concat(g);if(e.length===0)return!1;a=e.sort(function(a,b){return a.offset-b.offset|0});var i={contents:0},j={contents:0};g=a.some(function(a){i.contents===a.offset?(i.contents=i.contents+a.length|0,j.contents=i.contents):j.contents=a.offset;var b=f.substring(i.contents,j.contents);i.contents=a.offset+a.length|0;return h.test(b)===!1});e=i.contents!==f.length&&!h.test(f.substring(j.contents));if(g)return!1;else return!e}g["default"]=a}),98);
__d("usePinnedTextAnimation",["react","useDebouncedValue"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useRef,k=b.useState,l={mountAnimation:{animationDuration:"x5hsz1j",animationName:"x127lhb5",animationTimingFunction:"x4hg4is",$$css:!0},unmountAnimation:{animationDuration:"x5hsz1j",animationFillMode:"x10e4vud",animationName:"xvma63k",animationTimingFunction:"x4hg4is",$$css:!0}};function a(a){var b=k(!1),d=b[0],e=b[1],f=j(a);i(function(){a!==f.current&&e(!0),f.current=a},[a]);return{mountAnimation:d?l.mountAnimation:null,shouldShow:c("useDebouncedValue")(a,200),unmountAnimation:l.unmountAnimation}}g["default"]=a}),98);
__d("MAWEphemeralMessageTimer.react",["fbt","CometScreenReaderText.react","I64","MAWEphemeralConsts","MWXText.react","WATimeUtils","react","setTimeout"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||(i=d("react"));b=i;var l=b.useEffect,m=b.useState;function n(a){if(a<d("MAWEphemeralConsts").oneMinuteInSeconds)return h._("__JHASH__A4ingmAx2be__JHASH__",[h._param("seconds",String(a).concat("s"))]);if(a<d("MAWEphemeralConsts").oneHourInSeconds)return h._("__JHASH__vWI2ZlgwXQb__JHASH__",[h._param("minutes",String(Math.floor(a/d("MAWEphemeralConsts").oneMinuteInSeconds)).concat("m"))]);return a<d("MAWEphemeralConsts").oneDayInSeconds?h._("__JHASH__25PcZ3MKsFM__JHASH__",[h._param("hours",String(Math.floor(a/d("MAWEphemeralConsts").oneHourInSeconds)).concat("h"))]):h._("__JHASH__eRreAbYsreU__JHASH__",[h._param("days",String(Math.floor(a/d("MAWEphemeralConsts").oneDayInSeconds)).concat("d"))])}function o(a,b){a=(j||(j=d("I64"))).to_int32(j.sub(a,j.of_float(d("WATimeUtils").unixTime())));return b!=null&&a>(j||(j=d("I64"))).to_int32(b)?(j||(j=d("I64"))).to_int32(b):a}function a(a){var b=a.ephemeralDurationInSec,e=a.expirationTimestamp;a=m(function(){return o(e,b)});var f=a[0],g=a[1];a=n(f);var i=h._("__JHASH__LNXEmV_oB6W__JHASH__",[h._param("time",a)]);l(function(){f>0&&c("setTimeout")(function(){return g(f-1)},d("MAWEphemeralConsts").msPerSec)},[f,e]);return f>0?k.jsxs("div",{className:"x2b8uid xbkr7qi",children:[k.jsx(c("CometScreenReaderText.react"),{text:i}),k.jsx("div",{"aria-hidden":!0,children:k.jsx(c("MWXText.react"),{type:"meta1",children:a})})]}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWMessageListMediaPressableContainer.react",["I64","LSIntEnum","LSMediaUrl.bs","MWPThreadCapabilitiesContext","MWXPressable.react","MessagingAttachmentType","cr:4509","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||d("react");function a(a){var e=a.allowClickEventPropagation,f=a.ariaLabel,g=a.attachment,h=a.children;a.disabled;var l=a.linkProps_,m=a.onHoverIn,n=a.onPress,o=a.overlayDisabled;o=o===void 0?!1:o;var p=a.testid;p=a.xstyle;a=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext();a=a.blurMediaEnabled;a=c("gkx")("1581")&&a;var q=(i||(i=d("I64"))).equal(g.attachmentType,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE)),r=i.equal(g.attachmentType,j.ofNumber(c("MessagingAttachmentType").VIDEO)),s=q?"Image":r?"Video":"Media";return b("cr:4509")!=null&&(q||r)&&a?k.jsx(b("cr:4509"),{ariaLabel:f,linkProps:l,mediaType:s,onPress:n,overlayDisabled:o,testid:void 0,type:r?"video":"image",url:d("LSMediaUrl.bs").Attachment.previewUrl(g),xstyle:p,children:h}):k.jsx(c("MWXPressable.react"),{allowClickEventPropagation:e,"aria-label":f,linkProps:l,onHoverIn:m,onPress:function(){return n()},overlayDisabled:o,testid:void 0,xstyle:p,children:h})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AttachmentProgressBar.react",["MWV2ComposerMediaProgressBar.react","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var b=a.attachment.offlineAttachmentId,e=(h||(h=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){return b!=null?d("ReQL").fromTableAscending(e.table("media_staging")).getKeyRange(b):d("ReQL").empty()},[b],f.id+":24");return a!=null&&a.isSent?j.jsx(c("MWV2ComposerMediaProgressBar.react"),{height:5,mediaStaging:a}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ChatAttachmentParserUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.startsWith("blob:");if(!b)return;b=a.length;return a.substring(5,b)}f.getBlobUrl=a}),66);
__d("formatFileSize",["fbt"],(function(a,b,c,d,e,f,g,h){var i=[function(a){return h._("__JHASH__eMlnaQRXRvN__JHASH__",[h._param("value",a,[0])])},function(a){return h._("__JHASH__3UzqYHovNJr__JHASH__",[h._param("value",a,[0])])},function(a){return h._("__JHASH___CyxwP2Ni02__JHASH__",[h._param("value",a,[0])])},function(a){return h._("__JHASH__B5cUSs7YWey__JHASH__",[h._param("value",a,[0])])},function(a){return h._("__JHASH__7EGP9din_0A__JHASH__",[h._param("value",a,[0])])},function(a){return h._("__JHASH__ghfLx6_Ho7n__JHASH__",[h._param("value",a,[0])])},function(a){return h._("__JHASH__osT4Py2kL4R__JHASH__",[h._param("value",a,[0])])}],j=0;function a(a,b){b===void 0&&(b=1024);if(a==null)return null;if(a===0)return i[j](0);var c=Math.floor(Math.log(Math.abs(a))/Math.log(b));a=a/Math.pow(b,c);a=Math.round(a*100)/100;return i[c](a)}g["default"]=a}),98);
__d("MWV2ChatFileV2.react",["fbt","ConstUriUtils","I64","LSMediaUrl.bs","MDSTextPairing.react","MWChatFilePreview.react","MWChatMessageId","MWFilePressable.react","MWInboxInfoSharedContentQPLLogger","MWV2ChatAttachmentParserUtils","formatFileSize","react","recoverableViolation","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=j||(j=d("react")),m=j.useMemo,n={content:{color:"xzsf02u",flexGrow:"x1iyjqo2",fontWeight:"x1s688f",paddingTop:"xz9dl7a",paddingEnd:"xn6708d",paddingBottom:"xsag5q8",paddingStart:"x1ye3gou",wordBreak:"x13faqbe",$$css:!0},fileSize:{paddingTop:"x889kno",$$css:!0},root:{alignItems:"x6s0dn4",display:"x78zum5",userSelect:"x87ps6o",$$css:!0}};function a(a){var b=a.attachment,e=a.getPlayableUrlSecure;a=m(function(){var a=b.filename;if(a!=null)return a;else return h._("__JHASH__uiTAWyhPCWI__JHASH__")},[b]);var f=m(function(){var a=b.filesize!=null?(k||(k=d("I64"))).to_int32(b.filesize):void 0;if(a!=null)return c("formatFileSize")(a);else return null},[b]),g=m(function(){if(e!=null){var a;a=(a=e(b))!=null?a:"";return d("ConstUriUtils").getUri(a)}else{a=d("LSMediaUrl.bs").Attachment.playableUrl(b);if(a!=null){var f=d("MWV2ChatAttachmentParserUtils").getBlobUrl(a);if(f!=null)return d("ConstUriUtils").getUri(f);else return d("ConstUriUtils").getUri(a)}}c("recoverableViolation")("Attachment has no playable_url "+b.attachmentFbid,"messenger_comet")},[b,e]);return l.jsx(c("MWFilePressable.react"),{attachmentID:b.attachmentFbid,entryPoint:"chat_file_v4",messageID:d("MWChatMessageId").makeSent((k||(k=d("I64"))).to_string(b.threadKey),b.messageId,k.to_string(b.timestampMs)),onPress:function(){return d("MWInboxInfoSharedContentQPLLogger").logOpenSharedContentFromThread("files")},url:g==null?void 0:g.toString(),children:l.jsxs("div",{className:(i||(i=c("stylex")))(n.root,!1),children:[l.jsx(c("MWChatFilePreview.react"),{attachment:b,withPreview:!1}),l.jsxs("div",{className:"xzsf02u x1iyjqo2 x1s688f xz9dl7a xn6708d xsag5q8 x1ye3gou x13faqbe",children:[l.jsx(c("MDSTextPairing.react"),{headline:a,headlineLineLimit:3,level:4}),l.jsx("div",{className:"x889kno",children:l.jsx(c("MDSTextPairing.react"),{body:f,bodyColor:"secondary",bodyLineLimit:1,level:4})})]})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPVisibleMessageContext.react",["emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;d=e.createContext;var j=e.useContext,k=e.useMemo,l=e.useState;e={setVisibleMessage:c("emptyFunction"),visibleMessage:void 0};var m=d(e);function a(a){a=a.children;var b=l(),c=b[0],d=b[1];b=k(function(){return{setVisibleMessage:d,visibleMessage:c}},[c,d]);return i.jsx(m.Provider,{value:b,children:a})}a.displayName=a.name+" [from "+f.id+"]";function b(){return j(m)}g.MWPVisibleMessageContext=m;g.MWPVisibleMessageContextProvider=a;g.useMWPVisibleMessageContext=b}),98);
__d("MWChatBlockQuote.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){a=a.children;return i.jsx("blockquote",{className:"xzrp4sq x26u7qi x7g060r x1gslohp x11i5rnm x12nagc x1mh8g0r x1pi30zi x1swvt13 x126k92a",children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MessageMarkdownCodeblockLanguages",[],(function(a,b,c,d,e,f){a=Object.freeze({ASP:"asp",ASPX:"aspx",BASH:"bash",C:"c",CLJ:"clj",CLJC:"cljc",CLJX:"cljx",CLOJURE:"clojure",COFFEESCRIPT:"coffeescript",CPLUSPLUS:"cplusplus",CPP:"cpp",CPP2:"c++",CQL:"cql",CS:"cs",CSHARP:"csharp",CSS:"css",CURL:"curl",D:"d",DART:"dart",DIFF:"diff",DOCKERFILE:"dockerfile",ECMASCRIPT:"ecmascript",ERL:"erl",ERLANG:"erlang",GO:"go",GQL:"gql",GRADLE:"gradle",GRAPHQL:"graphql",GROOVY:"groovy",HANDLEBARS:"handlebars",HBS:"hbs",HTML:"html",HTTP:"http",JAVA:"java",JAVASCRIPT:"javascript",JL:"jl",JRUBY:"jruby",JS:"js",JSON:"json",JSX:"jsx",JULIA:"julia",KOTLIN:"kotlin",KT:"kt",LESS:"less",LIQUID:"liquid",LUA:"lua",MACRUBY:"macruby",MARKDOWN:"markdown",ML:"ml",MSSQL:"mssql",MYSQL:"mysql",NODE:"node",OBJC:"objc",OBJCPP:"objcpp",OBJCPP2:"objc++",OBJECTIVEC:"objectivec",OBJECTIVECPLUSPLUS:"objectivecplusplus",OBJECTIVECPP:"objectivecpp",OCAML:"ocaml",PERL:"perl",PGSQL:"pgsql",PHP:"php",PL:"pl",PLSQL:"plsql",POSTGRES:"postgres",POSTGRESQL:"postgresql",POWERSHELL:"powershell",PS1:"ps1",PY:"py",PYTHON:"python",R:"r",RAKE:"rake",RB:"rb",RBX:"rbx",RS:"rs",RUBY:"ruby",RUST:"rust",SASS:"sass",SCALA:"scala",SCSS:"scss",SH:"sh",SHELL:"shell",SOL:"sol",SOLIDITY:"solidity",SQL:"sql",SQLITE:"sqlite",STYL:"styl",STYLUS:"stylus",SWIFT:"swift",TS:"ts",TYPESCRIPT:"typescript",XHTML:"xhtml",XML:"xml",YAML:"yaml",YML:"yml",ZSH:"zsh"});f["default"]=a}),66);
__d("MessengerFormattingConfig",[],(function(a,b,c,d,e,f){a=Object.freeze({boldConfig:{pattern:"([\\s_~'\"(]|^)\\*(\\S(?:.*?\\S)??)\\*(?=[\\s_~,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s_~'\"(]|^)\\*(?:\\S(?:.*?\\S)??)\\*(?=[\\s_~,.;:!?'\")]|$)"},italicConfig:{pattern:"([\\s*~'\"(]|^)_(\\S(?:.*?\\S)??)_(?=[\\s*~,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s*~'\"(]|^)_(?:\\S(?:.*?\\S)??)_(?=[\\s*~,.;:!?'\")]|$)"},strikethroughConfig:{pattern:"([\\s*_'\"(]|^)~(\\S(?:.*?\\S)??)~(?=[\\s*_,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s*_'\"(]|^)~(?:\\S(?:.*?\\S)??)~(?=[\\s*_,.;:!?'\")]|$)"},codeConfig:{pattern:"([\\s*_~'\"(]|^)`([^`\\r\\n](?:.*?[^`\\r\\n])??)`(?=[\\s\\w*_~,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s*_~'\"(]|^)`(?:[^`\\r\\n](?:.*?[^`\\r\\n])??)`(?=[\\s\\w*_~,.;:!?'\")]|$)"},codeBlockConfig:{pattern:"(```)([\\s\\S]+?)```",nonCapturingPattern:"(```)([\\s\\S]+?)```"},codeBlockV2Config:{pattern:"(`{3,})(?:(?:((.*?)(?:\\r\\n?|\\n|\\u2028))([\\s\\S]*?))|(.+?))\\1\\s*?(?:\\r\\n?|\\n|\\u2028|$)",nonCapturingPattern:"(`{3,})([\\s\\S]+?)\\1\\s*((\\r\\n)|\\r|\\n|\\u2028|$)"},blockQuoteConfig:{pattern:"(^>>> ?)((.|(\\r\\n)|\\r|\\n)*?\\S(.|(\\r\\n)|\\r|\\n)*?)^<<<\\s*?((\\r\\n)|\\r|\\n|$)",nonCapturingPattern:"(^>>> ?)((.|(\\r\\n)|\\r|\\n)*?\\S(.|(\\r\\n)|\\r|\\n)*?)^<<<\\s*((\\r\\n)|\\r|\\n|$)"},multipleInlineBlockQuoteConfig:{pattern:"((^> )(.*\\S.*)((\\r\\n)|\\r|\\n)?)(^> ?(.*)((\\r\\n)|\\r|\\n)?)*",nonCapturingPattern:"(^> (.*\\S.*)((\\r\\n)|\\r|\\n)?)(^> ?(.*)((\\r\\n)|\\r|\\n)?)*"},singleInlineBlockQuoteConfig:{pattern:"(^> ?)(.*?$)",nonCapturingPattern:"^> ?(.*?$)"}});f["default"]=a}),66);
__d("MWChatTextFormatting",["$InternalEnum","MWChatBlockQuote.react","MWXText.react","MessageMarkdownCodeblockLanguages","MessengerFormattingConfig","UnicodeUtils","react","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react"),k=b("$InternalEnum").Mirrored(["CodeBlock","InlineCode","BlockQuote","InlineQuote","Bold","Italics","StrikeThrough"]),l=new Set(Object.values(c("MessageMarkdownCodeblockLanguages")));function m(a){var b,d=function(a){return a[2]},e=1,f=!0,g=function(a){return!0};switch(a){case k.Bold:b=c("MessengerFormattingConfig").boldConfig.pattern;break;case k.Italics:b=c("MessengerFormattingConfig").italicConfig.pattern;break;case k.StrikeThrough:b=c("MessengerFormattingConfig").strikethroughConfig.pattern;break;case k.InlineCode:b=c("MessengerFormattingConfig").codeConfig.pattern;break;case k.BlockQuote:b=c("MessengerFormattingConfig").blockQuoteConfig.pattern;f=!1;break;case k.InlineQuote:g=function(a){return a.trim()!==">"};b=c("MessengerFormattingConfig").singleInlineBlockQuoteConfig.pattern;f=!1;break;case k.CodeBlock:d=function(a){var b,c;b=((b=a[3])!=null?b:"").trim().toLowerCase();c=(c=a[4])!=null?c:a[5];a=(a=a[2])!=null?a:"";return b===""||l.has(b)?c:a+c};b=c("MessengerFormattingConfig").codeBlockV2Config.pattern;f=!1;break}if(b==null)throw c("unrecoverableViolation")("No formatting config found for given format","messenger_comet");return{getCleanText:d,hasClosingTag:f,regExp:new RegExp(b,"gm"),tagIndex:e,validator:g}}var n=[k.CodeBlock,k.BlockQuote,k.InlineQuote,k.InlineCode,k.Bold,k.Italics,k.StrikeThrough];function a(a,b){switch(b.format){case k.Bold:return j.jsx("b",{children:b.text});case k.Italics:return j.jsx("i",{children:b.text});case k.StrikeThrough:return j.jsx("strike",{children:b.text});case k.CodeBlock:return j.jsx("div",{className:"xmjcpbm x1lq5wgf xgqcy7u x30kzoy x9jhf4c x1iorvi4 x150jy0e xjkvuk6 x1e558r4 x126k92a",children:j.jsx(c("MWXText.react"),{type:"body4",children:j.jsx("code",{children:b.text})})});case k.InlineCode:return j.jsx("code",{className:"",children:b.text});case k.BlockQuote:case k.InlineQuote:return j.jsx(c("MWChatBlockQuote.react"),{children:b.text})}}a.displayName=a.name+" [from "+f.id+"]";function e(a,b){switch(b.format){case k.Bold:return j.jsx("b",{children:b.text});case k.Italics:return j.jsx("i",{children:b.text});case k.StrikeThrough:return j.jsx("strike",{children:b.text});case k.CodeBlock:return j.jsx("div",{className:"xmjcpbm x1lq5wgf xgqcy7u x30kzoy x9jhf4c x1iorvi4 x150jy0e xjkvuk6 x1e558r4 x126k92a",children:j.jsx(c("MWXText.react"),{type:"body4",children:j.jsx("code",{children:b.text})})});case k.InlineCode:return j.jsx("code",{className:"",children:b.text});case k.BlockQuote:case k.InlineQuote:return j.jsx(c("MWChatBlockQuote.react"),{children:b.text})}}e.displayName=e.name+" [from "+f.id+"]";function o(a){var b=[];n.forEach(function(c){var e=m(c),f=e.getCleanText,g=e.hasClosingTag,h=e.regExp,j=e.tagIndex;e=e.validator;var k;if(!e(a))return;e=function(){if(k==null)return"break";var e=(i||(i=d("UnicodeUtils"))).substr(a,0,k.index);e=e.length-i.strlen(e);var h=k.index-e,l=i.strlen(k[0]);g&&(h+=k[j].length,l-=k[j].length);e=function(a){var b=h+l,c=a.offset+a.length;return b>a.offset&&h<c};var m=f(k);if(!b.find(e)){if(b.length>0){e=b[b.length-1];if(e.entity.format===c&&e.offset+e.length+1===h){e.entity.text+="\n"+m;e.length+=l+1;return"continue"}}b.push({entity:{__typename:"MessengerTextFormatting",format:c,text:m},length:l,offset:h})}};_loop:while((k=h.exec(a))!=null){var l=e();switch(l){case"break":break _loop;case"continue":continue}}});return b}g.messageRenderer=a;g.replyRenderer=e;g.getFormattingRanges=o}),98);
__d("MessageProfileRangeType",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:"n",COMMUNITY_CHANNEL:"cc",PROFILE:"p",THREAD:"t",THREAD_ACTIVE:"a",SILENT:"s",THREAD_SHOUT:"ts",POLL:"pl",AI:"ai",AI_IMAGE:"im",CUSTOM:"cu",ADMINS:"ad"});f["default"]=a}),66);
__d("MessageProfileRangeType.bs",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(a==="p")return"p";else if(a==="thread"||a==="t")return"t";else if(a==="thread_active"||a==="a")return"a";else if(a==="s")return"s";else if(a==="ai")return"ai";else if(a==="c")return"cc";else if(a==="cu")return"cu";else return"n"}f.ofString=a}),66);
__d("XCometVanityURLControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/{vanity}/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("URLScraper",["ArbiterMixin","DataStore","Event","URLMatcher","mixin"],(function(a,b,c,d,e,f,g){var h="scraperLastPermissiveMatch";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){var d;d=a.call(this)||this;d.input=b;d.enable();d.getValueFn=c;return d}var e=b.prototype;e.reset=function(){d("DataStore").set(this.input,h,null)};e.enable=function(){if(this.events)return;var a=function(a){window.setTimeout(this.check.bind(this,a),30)};this.events=c("Event").listen(this.input,{paste:a.bind(this,!1),keydown:a.bind(this,!0)})};e.disable=function(){if(!this.events)return;for(var a in this.events)this.events[a].remove();this.events=null};e.check=function(a){var c=this.getValueFn?this.getValueFn():this.input.value;if(a&&b.trigger(c))return;a=b.match(c);c=d("URLMatcher").permissiveMatch(c);c&&c!=d("DataStore").get(this.input,h)&&(d("DataStore").set(this.input,h,c),this.inform("match",{url:a||c,alt_url:c}))};return b}(c("mixin")(c("ArbiterMixin")));Object.assign(a,d("URLMatcher"));g["default"]=a}),98);
__d("getURLRanges",["URI","URLScraper","UnicodeUtils"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b=[],e=0;while(!0){var f=(i||(i=d("UnicodeUtils"))).substr(a,e),g=c("URLScraper").match(f);if(!g)break;if(!(h||(h=c("URI"))).isValidURI(g))break;var j=g;/^[a-z][a-z0-9\-+.]+:\/\//i.test(g)||(j="http://"+g);var k=f.indexOf(g);f=i.strlen(f.substr(0,k));e+=f;k=g.length;b.push({offset:e,length:g.length,entity:{url:j}});e+=k}return b}g["default"]=a}),98);
__d("MWV2ChatTextParserUtils",["EmojiRenderer","EmoticonRenderer","I64","LSContactTypeExact","LSIntEnum","MWChatTextFormatting","MWLSContactTypeExactUtils","MessageProfileRangeType.bs","ReQL","ReQLSuspense","UnicodeUtils","XCometVanityURLControllerRouteBuilder","getURLRanges","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=new RegExp("/^[ \\r\\n\\s]*$/");function a(a){var b=d("EmojiRenderer").parse(a).map(function(a){return{length:a.length,offset:a.offset}}),e=c("gkx")("1839834")?d("EmoticonRenderer").parse(a).map(function(a){return{length:a.chars.length,offset:a.offset}}):[];b=b.concat(e).sort(function(a,b){return a.offset-b.offset|0});if(b.length===0)return!1;var f={contents:0},g={contents:0};e=b.some(function(b){f.contents===b.offset?(f.contents=f.contents+b.length|0,g.contents=f.contents):g.contents=b.offset;var c=a.substring(f.contents,g.contents);f.contents=b.offset+b.length|0;return k.test(c)===!1});b=f.contents!==a.length&&!k.test(a.substring(g.contents));if(e)return!1;else return!b}function b(a){var b=c("getURLRanges")(a),e=[];a=d("MWChatTextFormatting").getFormattingRanges(a);b.forEach(function(a){a={entity:{__typename:"Link",uri:a.entity.url},length:a.length,offset:a.offset};e.push(a)});return e.concat(a)}function l(a){if(c("gkx")("1968579"))return"/t/"+a;else return"/messages/t/"+a}function m(a,b){try{a=d("ReQLSuspense").first(d("ReQL").fromTableAscending(a.table("contacts")).getKeyRange((h||(h=d("I64"))).of_string(b)),f.id+":116")}catch(b){a=void 0}if(a==null)return l(b);var e=a.contactTypeExact;if((h||(h=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactTypeExact").FB_USER)))return"https://www.facebook.com"+c("XCometVanityURLControllerRouteBuilder").buildURL({vanity:b});if(!d("MWLSContactTypeExactUtils").isIgContact(e))return l(b);e=a.secondaryName;if(e!=null)return"https://www.instagram.com/"+e+"/";else return l(b)}function e(a,b,c,e,f,g){b=b.split(",");var i=c.split(","),k=e.split(","),n=f.split(",");return b.reduce(function(b,c,e){var f=d("MessageProfileRangeType.bs").ofString(n[e]),o=Number(i[e]);e=Number(k[e]);var p=(j||(j=d("UnicodeUtils"))).strlen(g.slice(0,e));p=e-p;e=e-p;f==="t"||f==="a"?b.push({entity:{__typename:"Profile",id:c,uri:l(c)},length:o,offset:e}):f==="p"?b.push({entity:{__typename:"Profile",id:c,uri:m(a,c)},length:o,offset:e}):f==="cc"?b.push({entity:{__typename:"CommunityChannel",threadKey:(h||(h=d("I64"))).of_string(c)},length:o,offset:e}):f==="s"||f==="cu"?b.push({entity:{__typename:"Command"},length:o,offset:e}):f==="ai"&&b.push({entity:{__typename:"Ai"},length:o,offset:e});return b},[])}g.isEmojiOnlyMessage=a;g.findRanges=b;g.findRangesForMentions=e}),98);
__d("MWV2ChatTextUtils",["MWPVisibleMessageContext.react","MWV2ChatTextParserUtils","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useMemo;function k(a,b,c){var e=b.mentionIds,f=b.mentionLengths,g=b.mentionOffsets;b=b.mentionTypes;return e!=null&&f!=null&&g!=null&&b!=null?d("MWV2ChatTextParserUtils").findRangesForMentions(a,e,f,g,b,c):[]}function l(a,b,c){if(a==null)return[];if(a.messageId!==c)return[];var d=b.indexOf(a.contextLine);if(d>-1)return a.highlights.map(function(a){return{entity:{__typename:"Highlight"},length:a.matchLength,offset:a.matchOffset+d}});else return[]}function a(a,b){var e=(h||(h=c("useReStore")))(),f=d("MWPVisibleMessageContext.react").useMWPVisibleMessageContext(),g=f.visibleMessage;return j(function(){return a==null||d("MWV2ChatTextParserUtils").isEmojiOnlyMessage(a)?[]:k(e,{mentionIds:b.mentionIds,mentionLengths:b.mentionLengths,mentionOffsets:b.mentionOffsets,mentionTypes:b.mentionTypes},a).concat(d("MWV2ChatTextParserUtils").findRanges(a)).concat(l(g==null?void 0:g,a,b.messageId))},[a,b.mentionIds,b.mentionLengths,b.mentionOffsets,b.mentionTypes,b.messageId,e,g])}g.useRanges=a}),98);
__d("useMWV2FocusRowAfterClosingPushView",["MWV2MessageRowIsRowFocusedContext.react","react","useCometRouterState","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useContext,j=b.useLayoutEffect;function a(){var a=i(d("MWV2MessageRowIsRowFocusedContext.react").context),b=a.isDialogOpened,e=a.setIsDialogOpened,f=a.setFocused;a=c("useCometRouterState")();var g;if(a==null)g=0;else{a=a.pushViewStack;g=a==null?0:a.length}var h=c("usePrevious")(g);j(function(){if(h!=null){b===!0&&h>0&&g===0&&(e(function(){return!1}),f(function(){return!0}));return}},[b,h,g]);return e}g["default"]=a}),98);
__d("LSCTAIconType",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,FB:1,FB_ALWAYS_WHITE:2,DOTS_THREE_HORIZONTAL:3});f["default"]=a}),66);
__d("MWXMAAttachmentItemCtaButtonBase.react",["ix","I64","ImageIconSource","LSCTAIconType","LSIntEnum","LSMessagingThreadTypeUtil","MWInboxRouteBuilder","MWLSThread","MessengerWebUXLogger","ReQL","ReQLSuspense","gkx","react","recoverableViolation","requireDeferred","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=j||(j=d("react")),n=j.useEffect,o=c("requireDeferred")("ZenonUserActionLoggerCommon").__setRef("MWXMAAttachmentItemCtaButtonBase.react");function p(a){if(a==null)return null;switch((l||(l=d("LSIntEnum"))).toNumber(a)){case c("LSCTAIconType").NONE:return null;case c("LSCTAIconType").FB:return new(c("ImageIconSource"))(h("814640"),16,16);default:return null}}function a(a){var b=a.attachmentId,e=a.ctaIconType,g=a.ctaId,h=a.getCtaRegistryHandler;a.messageId;var j=a.renderButtonActionEventButton,l=a.renderButtonActionNonEventButton,q=a.renderDeeplinkActionButton,r=a.renderDisabledButtonActionButton,s=a.renderUrlActionButton,t=a.threadKey,u=a.title,v=a.type,w=(i||(i=c("useReStore")))();a=d("MWLSThread").useThread(t,function(a){return a.threadType});var x=c("MessengerWebUXLogger")==null?void 0:c("MessengerWebUXLogger").useImpressionLoggerRef({ctaType:v,eventName:"xma_attachment_cta",threadKey:t,threadType:a});a=a?d("LSMessagingThreadTypeUtil").isJoinedSocialChannel(a):!1;var y=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(w.table("attachment_ctas")).getKeyRange(g)},[w,g],f.id+":132");n(function(){var a=["xma_rtc_audio","xma_rtc_missed_audio","xma_rtc_ended_audio","xma_rtc_video","xma_rtc_missed_video","xma_rtc_ended_video"].includes(v);a&&o.onReady(function(a){a.logImpression({surface:"admin_message"})})},[v]);if(y==null)return v==="xma_disabled_cta"?m.jsx("div",{className:"x18xmwgd x1iyjqo2 xs83m0k x1iorvi4 x150jy0e xjkvuk6 x1e558r4",ref:x,children:r(u)}):null;h=h(y);e=p(e);var z=null;switch(h.actionType){case"BUTTON":var A=h.secondaryInfo,B=h.primaryInfo,C=v==="xma_event_rsvp"&&c("gkx")("3170");b!=null&&t!=null&&!((a=a)!=null?a:!1)&&C?z=j(b,t,u,e,y,A):C||(z=l(u,e,y,A,B));break;case"URL":a=h.secondaryInfo;z=s(u,e,y,a,h.primaryInfo);break;case"DISABLED_BUTTON":z=r(u);break;case"DEEPLINK":j=h.primaryInfo;b=j.loggingDetails;t=j.threadKey;C=d("MWInboxRouteBuilder").buildURL({thread_key:(k||(k=d("I64"))).to_string(t)});z=q(u,t,y,b,C);break;case"CTA_ERROR":c("recoverableViolation")(h.primaryInfo,h.secondaryInfo,void 0,{trackOnly:!0});z=null;break;case"NOT_SUPPORTED":z=null;break}return m.jsx("div",{className:"x18xmwgd x1iyjqo2 xs83m0k x1iorvi4 x150jy0e xjkvuk6 x1e558r4",ref:x,children:z})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentItemIcon.react",["CometImageCover.react","CometSkittleIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){a=a.icon;if(a==null)return null;return typeof a==="string"?i.jsx("div",{className:"x6s0dn4 x78zum5 x5yr21d xq8finb",children:i.jsx(c("CometImageCover.react"),{alt:"Icon for this message",src:a,style:{borderRadius:"50%",height:"36px",width:"36px"}})}):i.jsx("div",{className:"x6s0dn4 x78zum5 x5yr21d xq8finb",children:i.jsx(c("CometSkittleIcon.react"),{color:a.color,icon:a.icon,size:36})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentItemListItemsBase.react",["LSMediaUrl.bs","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.attachment,c=a.renderDefaultListItem,e=a.renderPercentageListItem;a=[{contactUrlExpirationTimestampList:b.listItemContactUrlExpirationTimestampList1,contactUrlFallbackList:b.listItemContactUrlFallbackList1,contactUrlList:d("LSMediaUrl.bs").Attachment.listItemContactUrlList1(b),id:b.listItemId1,progressBarFilledPercentage:b.listItemProgressBarFilledPercentage1,titleText:b.listItemTitleText1,totalCount:b.listItemTotalCount1},{contactUrlExpirationTimestampList:b.listItemContactUrlExpirationTimestampList2,contactUrlFallbackList:b.listItemContactUrlFallbackList2,contactUrlList:d("LSMediaUrl.bs").Attachment.listItemContactUrlList2(b),id:b.listItemId2,progressBarFilledPercentage:b.listItemProgressBarFilledPercentage2,titleText:b.listItemTitleText2,totalCount:b.listItemTotalCount2},{contactUrlExpirationTimestampList:b.listItemContactUrlExpirationTimestampList3,contactUrlFallbackList:b.listItemContactUrlFallbackList3,contactUrlList:d("LSMediaUrl.bs").Attachment.listItemContactUrlList3(b),id:b.listItemId3,progressBarFilledPercentage:b.listItemProgressBarFilledPercentage3,titleText:b.listItemTitleText3,totalCount:b.listItemTotalCount3}];var f=[];a.forEach(function(a){var b=a.contactUrlExpirationTimestampList,c=a.contactUrlFallbackList,d=a.contactUrlList,e=a.id,g=a.progressBarFilledPercentage,h=a.titleText;a=a.totalCount;if(e!=null){d=d!=null?d.split(","):[];var i=b!=null?b.split(","):[],j=c!=null?c.split(","):[];f.push({contacts:d.map(function(a,b){return{url:a,urlExpirationTimestamp:i[b],urlFallback:j[b]}}),id:e,progressBarFilledPercentage:g,titleText:h,totalCount:a})}});return i.jsx("ul",{children:f.map(function(a){var b=a.progressBarFilledPercentage;return b!=null?e(a,b):c(a)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MNXMASubtitleDecorationType",[],(function(a,b,c,d,e,f){a=Object.freeze({DEFAULT:0,THREADS_ICON:1,FACEBOOK_ICON:2});f["default"]=a}),66);
__d("MWXMAAttachmentSubtitleDecoration.react",["ix","Int64Hooks","LSIntEnum","MNXMASubtitleDecorationType","MWXIcon.react","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||d("react");function a(a){var b=a.subtitleDecorationType;return d("Int64Hooks").useMemoInt64(function(){switch((j||(j=d("LSIntEnum"))).toNumber(b)){case c("MNXMASubtitleDecorationType").THREADS_ICON:return k.jsx(c("MWXIcon.react"),{color:"secondary",icon:d("fbicon")._(h("380222"),16)});default:return null}},[b])}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPXMAIconParser",["ConstUriUtils","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function h(a){switch(a){case"clear":case"staticWhite":case"white":case"white70":case"black":case"black50":case"black34":case"black20":case"black12":case"black6":case"black4":case"bluegrey75":case"bluegrey50":case"placeholder-icon":case"blue":case"purple":case"gray":case"background":case"scarlet":case"steel":case"coregreen":case"coral":case"sky":case"coreblue":case"emerald":return"gray";case"red":return"cherry";case"green":return"lime";case"honey":return"lemon";default:c("recoverableViolation")("Unknown Icon color: "+a,"messenger_web_product");return"gray"}}function a(a){if(a==null)return;if(a.startsWith("https")||a.startsWith("blob"))return a;if(!a.startsWith("ls"))return;a=a.replace("ls","http");a=d("ConstUriUtils").getUri(a);if(a==null)return;var b=a.getQueryParam("icon");a=a.getQueryParam("circleColor");if(typeof b==="string"&&typeof a==="string"){a=h(a);return{color:a,icon:b}}return}g.parse=a}),98);
__d("MWXMAIconParser.react",["ix","MWPXMAIconParser","fbicon","recoverableViolation"],(function(a,b,c,d,e,f,g,h){"use strict";function i(a){switch(a){case"airplane":return d("fbicon")._(h("571771"),20);case"calendar":return d("fbicon")._(h("481118"),20);case"calendar-add":return d("fbicon")._(h("640913"),20);case"camcorder":return d("fbicon")._(h("493174"),20);case"camcorder-incoming":return d("fbicon")._(h("1096148"),20);case"camcorder-missed":return d("fbicon")._(h("662989"),20);case"camcorder-outgoing":return d("fbicon")._(h("1096150"),20);case"camcorder-plus":return d("fbicon")._(h("662993"),20);case"checkmark-circle":return d("fbicon")._(h("498146"),20);case"cross-circle":return d("fbicon")._(h("1501526"),20);case"currency-peso":return d("fbicon")._(h("1174630"),20);case"currency-pound":return d("fbicon")._(h("1174587"),20);case"currency-taka":return d("fbicon")._(h("182108"),20);case"currency-thai-baht":return d("fbicon")._(h("876716"),20);case"currency-usd":return d("fbicon")._(h("847056"),20);case"document-complete":return d("fbicon")._(h("728245"),20);case"friend-generic":return d("fbicon")._(h("502671"),20);case"friend-generic-checkmark":return d("fbicon")._(h("538342"),20);case"group":return d("fbicon")._(h("485091"),20);case"group-block":return d("fbicon")._(h("714636"),20);case"location":return d("fbicon")._(h("795388"),20);case"pin":return d("fbicon")._(h("481942"),20);case"phone":return d("fbicon")._(h("558161"),20);case"phone-incoming":return d("fbicon")._(h("1096151"),20);case"phone-outgoing":return d("fbicon")._(h("1096154"),20);case"shield":return d("fbicon")._(h("492714"),20);case"phone-missed":return d("fbicon")._(h("847457"),20);case"question-circle":return d("fbicon")._(h("1604445"),20);case"tag":return d("fbicon")._(h("502473"),20);case"watch":return d("fbicon")._(h("607169"),20);case"map":return d("fbicon")._(h("645715"),20);case"house-keyhole":return d("fbicon")._(h("1670302"),20);case"document":return d("fbicon")._(h("728245"),20);case"checkmark":return d("fbicon")._(h("477814"),20);case"shopping-cart":return d("fbicon")._(h("763120"),20);case"cross":return d("fbicon")._(h("478233"),20);default:c("recoverableViolation")("Unknown XMA Icon: "+a,"messenger_web_product");return}}function a(a){a=d("MWPXMAIconParser").parse(a);if(a==null)return;if(typeof a==="string")return a;var b=a.color;a=a.icon;a=i(a);if(a!=null)return{color:b,icon:a}}g.parse=a}),98);
__d("MWLSDatabaseLazySync",["I64","Int64Hooks","LSFactory","LSForceImmediateSyncStoredProcedure","LSSyncGroupsUtils","Promise","ReQL","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a,e){return a.runInTransaction(function(a){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("sync_groups")).getKeyRange(e)).then(function(f){if(f!=null)if((j||(j=d("I64"))).equal(f.minTimeToSyncTimestampMs,d("LSSyncGroupsUtils").neverSyncTimestamp))return c("LSForceImmediateSyncStoredProcedure")(c("LSFactory")(a),{dbType:e});else return(i||(i=b("Promise"))).resolve();else return(i||(i=b("Promise"))).resolve()})},"readwrite")}function a(a){var b=(h||(h=c("useReStore")))();return d("Int64Hooks").useCallbackInt64(function(){return k(b,a)},[a,b])}g.sync=k;g.useSync=a}),98);
__d("MWPNewMessageDraftContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));c=h;e=c.createContext;var j=c.useContext,k=c.useRef,l=e();function a(a){a=a.children;var b=k("");return i.jsx(l.Provider,{value:b,children:a})}a.displayName=a.name+" [from "+f.id+"]";function b(){return j(l)}g.MWPNewMessageDraftContextProvider=a;g.useNewMessageDraftContext=b}),98);
__d("mwpLexicalCreateEditor",["CometLexicalEmojiNode","FBLogger","Lexical","MessengerLexicalActorNode","cometLexicalBaseTheme","cr:3101","gkx","mlcErrorHandler__INTERNAL"],(function(a,b,c,d,e,f,g){"use strict";var h=[d("MessengerLexicalActorNode").MessengerLexicalActorNode,d("CometLexicalEmojiNode").EmojiNode,(e=b("cr:3101"))==null?void 0:e.MessengerLexicalCommandNode];function a(){var a=babelHelpers["extends"]({},c("cometLexicalBaseTheme"),{paragraph:"xat24cr xdj266r"});c("gkx")("7606")&&(a.text={strikethrough:"xmqliwb"});var b=d("Lexical").createEditor({namespace:"MWPEditor",nodes:h.filter(Boolean),onError:function(a){return c("mlcErrorHandler__INTERNAL")(a,b,function(b){c("FBLogger")("messenger_web_product").catching(a).mustfix("Lexical Error MWP \u2013 "+b)})},theme:a});return b}g["default"]=a}),98);
__d("useMWPCometComposerPrepopulateDraftMessage",["Lexical","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useLayoutEffect,j=b.useMemo;function a(a,b){var c=j(function(){return b.current},[b]);i(function(){var b=c;if(b==null)return;a.update(function(){if(b!=null){var a=d("Lexical").$getRoot(),c=a.getFirstChild();d("Lexical").$isParagraphNode(c)||(c=d("Lexical").$createParagraphNode(),a.append(c));a=d("Lexical").$createTextNode(b);c.clear();c.append(a);a.select()}})},[a,c])}g["default"]=a}),98);
__d("useLexicalInitializeEditor__DEPRECATED",["Lexical","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useLayoutEffect;function a(a){i(function(){a.update(function(){var b=d("Lexical").$getRoot();if(b.isEmpty()){var c=d("Lexical").$createParagraphNode();b.append(c);b=document.activeElement;(d("Lexical").$getSelection()!==null||b!==null&&b===a.getRootElement())&&c.select()}})},[a])}g["default"]=a}),98);
__d("useMWPLexicalClearEditor",["Lexical","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useLayoutEffect;function a(a,b){b===void 0&&(b=!1),i(function(){return a.registerCommand(d("Lexical").CLEAR_EDITOR_COMMAND,function(){a.update(function(){var a=d("Lexical").$getRoot(),c=d("Lexical").$getSelection(),e=d("Lexical").$createParagraphNode();a.clear();a.append(e);c!==null&&(e.select(),b===!0&&d("Lexical").$isRangeSelection(c)&&(c.format=0))});return!0},d("Lexical").COMMAND_PRIORITY_EDITOR)},[b,a])}g["default"]=a}),98);
__d("useMWPLexicalIsTextContentEmpty",["LexicalText","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useLayoutEffect,j=b.useState;function a(a,b,c){c=j((c=c)!=null?c:a.getEditorState().read(d("LexicalText").$isRootTextContentEmptyCurry(a.isComposing(),b)));var e=c[0],f=c[1];i(function(){return a.registerUpdateListener(function(c){c=c.editorState;var e=a.isComposing();c=c.read(d("LexicalText").$isRootTextContentEmptyCurry(e,b));f(c)})},[a,b]);return e}g["default"]=a}),98);
__d("useMWPComposerEditor",["I64","Int64Hooks","Lexical","LexicalText","MWChatFocusComposerContext","MWChatMessagesOnChatTabLoadTracker","MWPActor.react","MWPComposerDraftMessages","MWPNewMessageDraftContext.react","MWPReplyContext.react","MWPreloadedText","MWV2ChatComposerGetViewContent","MWV2ComposerHasContentContext.react","MWV2IsTabFocusedContext.react","WALoggerDeferred","cr:4146","deepEquals","mwpLexicalCreateEditor","promiseDone","react","useDebounced","useJSON","useLexicalInitializeEditor__DEPRECATED","useMWLSUpdateDraftMessage","useMWPCometComposerPrepopulateDraftMessage","useMWPLexicalClearEditor","useMWPLexicalCommitMessageOnEnter","useMWPLexicalIsTextContentEmpty","useMWXLexicalOnTypingChanged","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e=h||d("react");var j=e.useCallback,k=e.useContext,l=e.useEffect,m=e.useMemo,n=e.useRef,o=[];function p(a,b){l(function(){b(a.getEditorState())},[a,b]),l(function(){return a.registerUpdateListener(function(a){return b(a.editorState,a.prevEditorState)})},[b,a])}var q=["MWPComposerEditor","Composer"];function r(a,b){var e=k(d("MWPReplyContext.react").MWPReplyContext),f=e.reply,g=c("usePrevious")(f);l(function(){var a=g==null?f!=null:!c("deepEquals")(g,f);a&&b()},[a,f,g,b])}var s=b("cr:4146")==null?function(a){}:b("cr:4146").useHook,t=function(a){return a.read(function(){return d("LexicalText").$rootTextContent()})};function a(a){var b=a.autoFocus,e=b===void 0?!0:b,f=a.customizedRanges,g=a.deleteComposerStateForUserIdByThreadKey;b=a.getEditorState;var h=a.getTextFromEditorState,u=h===void 0?t:h;h=a.isPreviewThread;var v=h===void 0?!1:h;h=a.isSendDisabled;var w=h===void 0?!1:h;h=a.mediaStaging;h=h===void 0?o:h;var x=a.onSendEmptyMessage,y=a.onSendMessage,z=a.onTypingStateChanged,A=a.persistEditorState,B=a.threadKey,C=a.useMWPComposerPrepopulateEditorState,D=a.clearFormatAfterSend,E=a.messageLengthLimit,F=a.onMessageLengthLimitExceeded,G=d("MWPNewMessageDraftContext.react").useNewMessageDraftContext();a=k(c("MWPreloadedText"));a=a.text!=null?a.text:G!=null?G.current:d("MWPComposerDraftMessages").getDraftMessage(B);var H=n(a),I=n(null);s(I.current);var J=m(function(){return c("mwpLexicalCreateEditor")()},[]);b=b!=null?b((i||(i=d("I64"))).to_string(B)):JSON.stringify(J.getEditorState());var K=c("useJSON")(b),L=c("useJSON")("{}");b=b!=null?K:L;var M=c("useMWLSUpdateDraftMessage")(J,A),N=c("useDebounced")(M,500),O=n();K=d("MWV2ComposerHasContentContext.react").useComposerHasContext();var P=K.hasContentRef,Q=j(function(){var a;a=(a=document.activeElement)==null?void 0:(a=a.attributes.getNamedItem("id"))==null?void 0:a.value;if(a==null?void 0:a.includes("prevent-composer-focus-steal"))return;return J.focus(function(){})},[J]);l(function(){return function(){var a=O.current;a!=null&&M(B,a)}},[]);L=d("Int64Hooks").useCallbackInt64(function(a,b){a=a.read(function(){return d("LexicalText").$rootTextContent()});if(E!=null&&a.length>E&&b!=null){J.setEditorState(b);F&&F();return}O.current=a;P!=null&&(P.current=a!=="");N(B,a);if(v&&G!=null){G.current=a;return}},[E,P,N,B,v,G,J,F]);p(J,L);c("useMWXLexicalOnTypingChanged")({editor:J,onTypingStateChanged:z});A=a!=null?a.trim()==="":!0;K=c("useMWPLexicalIsTextContentEmpty")(J,!0,A);L=h.length>0;var R=!K||L,S=h.filter(function(a){return!a.isSent}).length;z=k(d("MWChatFocusComposerContext").context);var T=z.setFocusComposer;l(function(){e&&T(function(){return Q()})},[e,J,Q,T]);l(function(){S>0&&Q()},[J,Q,S]);var U=d("MWV2IsTabFocusedContext.react").useIsTabFocused();l(function(){U&&!v&&Q()},[J,U,v,Q]);r(J,Q);c("useMWPCometComposerPrepopulateDraftMessage")(J,H);C==null?void 0:C(J,b);var V=d("MWPActor.react").useActor();a=j(function(){var a=function(a,b,e,f,h,j,k,l,m){g!=null&&g((i||(i=d("I64"))).to_string(B),i.to_string(V));c("promiseDone")(d("WALoggerDeferred").logWithTags(q,["Calling MAWSendSecureMessageV2.useOnSendSecureMessage in MWPComposerEditor"],"LOG"));y(a,b,e,f,h,j,k,l,m,void 0);return Q()},b={contents:function(){return J.dispatchCommand(d("Lexical").CLEAR_EDITOR_COMMAND)}};if(w)return;if(R){c("promiseDone")(d("WALoggerDeferred").logWithTags(q,["Calling onSendMessage"],"LOG"));var e=f!=null?f(J,(i||(i=d("I64"))).to_string(B)):c("MWV2ChatComposerGetViewContent").getRanges(J),h=J.getEditorState();h=u(h);d("MWChatMessagesOnChatTabLoadTracker").trackSendFor(B);a(h,e)}else x==null?void 0:x();O.current="";b.contents();return},[w,R,g,y,Q,B,V,f,J,u,x]);c("useMWPLexicalCommitMessageOnEnter")(J,a);c("useLexicalInitializeEditor__DEPRECATED")(J);c("useMWPLexicalClearEditor")(J,D);return{editor:J,editorElementRef:I,hasStuffToSend:R,sendMessage:a}}g["default"]=a}),98);
__d("MWPStableImage.react",["CometObjectFitContainer.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.useMemo,l={constraint:{maxWidth:"x193iq5w",$$css:!0},image:{display:"x1lliihq",height:"xt7dq6l",maxWidth:"x193iq5w",width:"x14atkfc",$$css:!0},imageFill:{height:"x5yr21d",width:"xh8yej3",$$css:!0}};function m(a){var b=a.alt,d=a.aspectRatio,e=a.maxHeight;a=a.src;var f=k(function(){return{display:"block",maxHeight:e.toString()+"px",maxWidth:"100%"}},[e]);b=j.jsx("img",{alt:b,className:(h||(h=c("stylex")))(l.image,d==null?!1:l.imageFill),src:a,style:f});if(d!=null)return j.jsx(c("CometObjectFitContainer.react"),{contentAspectRatio:d,objectFitMode:"CONTAINER_WIDTH_BASED_ASPECT_RATIO",children:b});else return b}function n(a){var b=a.aspectRatio,c=a.children,d=a.className,e=a.height,f=a.maxHeight,g=a.maxWidth;a.width;c=(a=c)!=null?a:null;a=k(function(){if(b!=null&&e!=null)return{maxWidth:"100%",width:(b*Math.min(f,e)).toString()+"px"}},[b,e,f]);var h=k(function(){if(g!=null)return{maxWidth:g.toString()+"px"}},[g]);return j.jsx("div",{className:"x193iq5w",children:j.jsx("div",{style:h,children:j.jsx("div",{className:d,style:a,children:c})})})}n.displayName=n.name+" [from "+f.id+"]";function a(a){var b=a.alt,c=a.children,d=a.className,e=a.height,f=a.maxHeight,g=a.maxWidth,h=a.src;a=a.width;var i=a!=null&&e!=null?a/e:void 0;return j.jsxs(n,{aspectRatio:i,className:d,height:e,maxHeight:f,maxWidth:g,width:a,children:[j.jsx(m,{alt:b,aspectRatio:i,maxHeight:f,src:h}),c]})}a.displayName=a.name+" [from "+f.id+"]";g.MWPStableImageContainer=n;g.MWPStableImage=a}),98);
__d("StylexHelpers.bs",[],(function(a,b,c,d,e,f,g){"use strict";a={visuallyHidden:{clip:"xzpqnlu",clipPath:"x1hyvwdk",height:"xjm9jq1",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x10l6tqk",width:"x1i1rx1s",$$css:!0}};g.styles=a}),98);
__d("MWPAccessibleEyebrowsText.react",["fbt","MWPMessageAuthor.react","StylexHelpers.bs","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react");function a(a){var b=a.message;a=a.outgoing;var e=d("MWPMessageAuthor.react").useAuthorName();e=e[0];var f=a?h._("__JHASH__950lIWTelJN__JHASH__"):h._("__JHASH__uufWL2Zp_42__JHASH__");return!b.isAdminMessage&&k.jsx("span",{className:(i||(i=c("stylex")))(d("StylexHelpers.bs").styles.visuallyHidden),children:e!=null&&!a?e:f})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("EntMessageReplyType",[],(function(a,b,c,d,e,f){a=Object.freeze({REGULAR:0,BUMP:1});f["default"]=a}),66);
__d("MWPMessageHasXMA",["I64","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){return[(h||(h=d("I64"))).and_((i||(i=d("LSIntEnum"))).ofNumber(1024),a.displayedContentTypes),h.and_(i.ofNumber(2048),a.displayedContentTypes)].some(function(a){return(h||(h=d("I64"))).to_int32(a)!==0})}g["default"]=a}),98);
__d("MWPMessageIsReply",["LSIntEnum","LSMessageReplySourceTypeV2"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return a.replySourceTypeV2!=null&&(h||(h=d("LSIntEnum"))).toNumber(a.replySourceTypeV2)!==c("LSMessageReplySourceTypeV2").FORWARD}g["default"]=a}),98);
__d("MWPMessageParsingUtils",["I64","LSBitFlag","LSIntEnum","LSMessageReplySourceTypeV2","isStringNullOrEmpty"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=280,k=3e5;function l(a){return!c("isStringNullOrEmpty")(a.text)}function m(a){a=a.replySourceTypeV2;return a==null?!1:!(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").FORWARD))}function n(a){a=a.replySourceTypeV2;return a==null?!1:(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").FORWARD))}function o(a){return((a=a.text)!=null?a:"").length>j}var p=[128,256,4096,4,512];function q(a){return a.isAdminMessage||p.some(function(b){return d("LSBitFlag").has((i||(i=d("LSIntEnum"))).ofNumber(b),a.displayedContentTypes)})||o(a)}function r(a,b){if(b===void 0)return!0;var c=Math.abs((h||(h=d("I64"))).to_float(a.timestampMs)-h.to_float(b.timestampMs))>k,e=n(a),f=h.equal(a.senderId,b.senderId);if(b.isUnsent||a.isUnsent||m(a)||!f||c||e||q(a))return!0;else return q(b)}function s(a,b){return b==null||r(a,b)}function t(a,b){return b==null||r(b,a)}function a(a,b,c){return c==="below"?l(a)?!0:!s(a,b):!1}function b(a,b,c){if(c==="below")return!t(a,b);else if(t(a,b))return!1;else return l(a)}e={shouldConnectBottom:b,shouldConnectTop:a};g.hasText=l;g.isReplyToSomething=m;g.isForwarded=n;g.isLongText=o;g.shouldBeStandalone=q;g.isInDifferentGroup=r;g.isStartOfGroup=s;g.isEndOfGroup=t;g.MessageWithAttachments=e}),98);
__d("MWPBaseMessageContent.react",["EntMessageReplyType","I64","LSIntEnum","MWPMessageHasAttachment","MWPMessageHasXMA","MWPMessageIsReply","MWPMessageListColumn.react","MWPMessageParsingUtils","MWPThreadCapabilitiesContext","gkx","react","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||d("react");function a(a){var b=a.attachmentRenderPosition,e=a.isEmojiOnly,f=a.isFirstMessageInGroup,g=a.isLastMessageInGroup,h=a.isMessagePinned,l=a.isNextMessagePinned,m=a.isSearchPluginAttachment,n=a.message,o=a.nextMessage,p=a.outgoing,q=a.prevMessage,r=a.renderAttachment,s=a.renderEmoji,t=a.renderMessageBubble,u=a.shouldHideLinkPreviews,v=a.shouldRenderMessageContent;a=a.xmaLayout;var w=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext();w=w.disableLinks;var x=c("MWPMessageIsReply")(n),y=d("MWPMessageParsingUtils").hasText(n),z=c("MWPMessageHasXMA")(n);w=c("gkx")("1886144")&&w&&z&&n.textHasLinks;u=u===!0||w;w=n.replyType!=null&&(i||(i=d("I64"))).equal(n.replyType,(j||(j=d("LSIntEnum"))).ofNumber(c("EntMessageReplyType").BUMP));w=!w&&z&&b==="below"&&!u&&!m;z=b==="below"?!x&&!f&&!h:!1;m=!g&&!l||(a===d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT?w:!1);v?f=n.text!=null?e?x?k.jsx("div",{className:"x1n2onr6 x1vjfegm",children:s(n)}):x?null:k.jsxs(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:[z?k.jsx("div",{className:"xcrg951 x36qwtl xh8yej3"}):null,k.jsx("div",{className:"x1n2onr6 x1vjfegm",children:s(n)})]}):n.text!==""?k.jsxs(k.Fragment,{children:[z||b==="above"?k.jsx("div",{className:"xcrg951 x36qwtl xh8yej3"}):null,k.jsxs("div",{className:"x78zum5 xh8yej3",role:"none",children:[p?k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnHorizontalSpacer,{})}):null,t(n,z,m,w,p),p?null:k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnHorizontalSpacer,{})})]})]}):null:null:f=null;var A;c("MWPMessageHasAttachment")(n)&&!u&&(A=r(d("MWPMessageParsingUtils").MessageWithAttachments.shouldConnectTop(n,q,b),d("MWPMessageParsingUtils").MessageWithAttachments.shouldConnectBottom(n,o,b),y));return k.jsxs(k.Fragment,{children:[b==="above"?A:null,f,b==="below"?A:null]})}a.displayName=a.name+" [from "+f.id+"]";g.MWPBaseMessageContent=a}),98);
__d("MWPBaseMessageContentWithPinnedMessageSupport.react",["MWPBaseMessageContent.react","react","useMWPIsMessagePinned"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useMemo;function a(a){var b=a.attachmentRenderPosition,e=a.isEmojiOnly,f=a.isFirstMessageInGroup,g=a.isLastMessageInGroup,h=a.isSearchPluginAttachment,k=a.message,l=a.nextMessage,m=a.outgoing,n=a.prevMessage,o=a.renderAttachment,p=a.renderEmoji,q=a.renderMessageBubble,r=a.shouldHideLinkPreviews,s=a.shouldRenderMessageContent,t=a.xmaLayout,u=c("useMWPIsMessagePinned")(k),v=c("useMWPIsMessagePinned")(l);return j(function(){return i.jsx(d("MWPBaseMessageContent.react").MWPBaseMessageContent,{attachmentRenderPosition:b,isEmojiOnly:e,isFirstMessageInGroup:f,isLastMessageInGroup:g,isMessagePinned:u,isNextMessagePinned:v,isSearchPluginAttachment:h,message:k,nextMessage:l,outgoing:m,prevMessage:n,renderAttachment:o,renderEmoji:p,renderMessageBubble:q,shouldHideLinkPreviews:r,shouldRenderMessageContent:s,xmaLayout:t})},[b,e,f,g,u,v,k,l,m,n,o,p,q,r,s,t,h])}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPBaseMessage.react",["LSBitFlag","LSIntEnum","MWPBaseMessageContentWithPinnedMessageSupport.react","MWPMessageListColumn.react","MWV2MessageIsEmojiOnly","MessengerWebUXLogger","react","stylex","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||d("react"),l={container:{alignItems:"x1cy8zhl",display:"x78zum5",flexDirection:"xdt5ytf",maxWidth:"x193iq5w",position:"x1n2onr6",$$css:!0},outgoing:{alignItems:"xuk3077",$$css:!0},row_container:{display:"x78zum5",width:"xh8yej3",$$css:!0}};function m(a,b){if(d("LSBitFlag").has((j||(j=d("LSIntEnum"))).ofNumber(128),a.displayedContentTypes))return!0;else return c("MWV2MessageIsEmojiOnly")(a.text,b)}function a(a){var b=a.attachmentRenderPosition;b=b===void 0?"below":b;var e=a.checkEmoticon,f=a.isFirstMessageInGroup,g=a.isLastMessageInGroup,i=a.isSearchPluginAttachment;i=i===void 0?!1:i;var j=a.message,n=a.nextMessage,o=a.outgoing,p=a.prevMessage,q=a.reactions;a.reactionsV2;var r=a.renderAttachment,s=a.renderEmoji,t=a.renderMessageBubble,u=a.renderMessageContainer,v=a.renderMessageFooter,w=a.renderUnsentMessage,x=a.shouldHideLinkPreviews,y=a.shouldRenderMessageContent;y=y===void 0?!0:y;a=a.xmaLayout;a=a===void 0?d("xmaLayouts").XMA_LAYOUTS.DEFAULT:a;var z=c("MessengerWebUXLogger")==null?void 0:c("MessengerWebUXLogger").useImpressionLoggerRef({eventName:"messagelist_message_impression"});if(j.isUnsent)if(w!=null)return k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:w()});else return null;w=m(j,e);e=k.jsx(c("MWPBaseMessageContentWithPinnedMessageSupport.react"),{attachmentRenderPosition:b,isEmojiOnly:w,isFirstMessageInGroup:f,isLastMessageInGroup:g,isSearchPluginAttachment:i,message:j,nextMessage:n,outgoing:o,prevMessage:p,renderAttachment:r,renderEmoji:s,renderMessageBubble:t,shouldHideLinkPreviews:x,shouldRenderMessageContent:y,xmaLayout:a});return k.jsxs(k.Fragment,{children:[k.jsxs("div",{className:"x78zum5 xh8yej3",ref:z,role:"none",children:[o?k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnHorizontalSpacer,{})}):null,u!=null?u(e,[l.container,o?l.outgoing:!1]):k.jsx("div",{className:(h||(h=c("stylex")))(l.container,o?l.outgoing:!1),children:e}),o?null:k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnHorizontalSpacer,{})})]}),k.jsxs(k.Fragment,{children:[w&&q.length>0?k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:5}):null,k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:v()})]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPBaseMessageListRowCountdown.react",["MAWEphemeralMessageTimer.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={moveUpToAccountForReactions:{paddingBottom:"x1hhzuzn",$$css:!0},root:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1c4vz4f",justifyContent:"xl56j7k",marginBottom:"x4ii5y1",marginTop:"xr1yuqi",paddingStart:"xurb0ha",paddingLeft:null,paddingRight:null,paddingEnd:"x1sxyh0",zIndex:"x1vjfegm",$$css:!0}};function a(a){var b=a.ariaHidden;b=b===void 0?!1:b;var d=a.ephemeralDurationInSec,e=a.expirationTimestamp;a=a.hasReactions;return j.jsx("div",{"aria-hidden":b,className:(h||(h=c("stylex")))(k.root,a?k.moveUpToAccountForReactions:!1),children:j.jsx(c("MAWEphemeralMessageTimer.react"),{ephemeralDurationInSec:d,expirationTimestamp:e})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPBaseMessageListRow.react",["BaseThemeProvider.react","I64","LSIntEnum","MWCombineThemeConfigs","MWMessageDeliveryStatus","MWPBaseMessageListRowCountdown.react","MWPMessageIsReply","MWPMessageListColumn.react","MWPMessageParsingUtils","MWPThreadThemeGradientUtils","react","stylex","useMWPThreadTheme"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=i||(i=d("react")),m=i,n=m.useCallback,o=m.useMemo;function a(a){var b=a.children,c=a.message;a=a.prevMessage;c=d("MWPMessageParsingUtils").isStartOfGroup(c,a);return c?b():null}a.displayName=a.name+" [from "+f.id+"]";function p(a){return(j||(j=d("I64"))).equal(j.and_(a.displayedContentTypes,(k||(k=d("LSIntEnum"))).ofNumber(2048)),j.zero)}var q={container:{display:"x78zum5",$$css:!0},inner:{display:"x78zum5",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",minWidth:"xeuugli",$$css:!0},innerOutgoing:{flexDirection:"x15zctf7",$$css:!0},multiReact:{zIndex:"x1vjfegm",$$css:!0},multiReactIncoming:{marginStart:"x1liizu2",marginLeft:null,marginRight:null,$$css:!0},multiReactOutgoing:{display:"x78zum5",flexDirection:"x15zctf7",marginEnd:"xw3qccf",marginLeft:null,marginRight:null,marginStart:"x1mh8g0r",$$css:!0},multiReactWrapper:{display:"x78zum5",flexDirection:"xdt5ytf",position:"x1n2onr6",$$css:!0}};function b(a){var b=a.children,e=a.hasReactions,f=a.message,g=a.outgoing,i=a.renderGenAIFeedbackActions,j=a.renderGutterItem,k=a.renderMessageActions,m=a.renderMultiReactions;a=a.renderProfile;var n=c("MWPMessageIsReply")(f),o=f.ephemeralExpirationTs,r=f.ephemeralDurationInSec,s=f.isUnsent,t=d("MWMessageDeliveryStatus").getFromSendStatus(f.sendStatusV2).type==="Sending";m=m&&m();var u=m!=null;a=l.jsxs("div",{className:"x78zum5",role:"none",children:[l.jsxs(d("MWPMessageListColumn.react").MWPMessageListColumnProfile,{children:[g?null:a(),e&&!u?l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:18}):null]}),l.jsxs("div",{className:(h||(h=c("stylex")))(q.inner,g?q.innerOutgoing:!1),"data-testid":void 0,role:"none",children:[l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnBubble,{makeSpaceForActions:p(f),paint:!g||n,children:b}),o!=null&&!s?l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:l.jsx(c("MWPBaseMessageListRowCountdown.react"),{ephemeralDurationInSec:r,expirationTimestamp:o,hasReactions:e})}):null,i!=null?l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:t?null:i()}):null,p(f)?l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:t?null:k()}):null,l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnHorizontalSpacer,{})})]}),l.jsxs(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:[j(),e?l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:18}):null]})]});return u?l.jsxs("div",{className:"x78zum5 xdt5ytf x1n2onr6",role:"none",children:[a,l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:l.jsx("div",{className:(h||(h=c("stylex")))(q.container,q.multiReact,g?q.multiReactOutgoing:q.multiReactIncoming),children:m})})]}):a}b.displayName=b.name+" [from "+f.id+"]";function e(a){var b=a.children,c=a.message,e=a.nextMessage;a=a.showContent;c=d("MWPMessageParsingUtils").isEndOfGroup(c,e);return c||a===!0?b():null}e.displayName=e.name+" [from "+f.id+"]";m={"mwp-reply-background-color":"var(--comment-footer-background)"};var r={"mwp-reply-background-color":"var(--comment-footer-background)"},s={dark:r,light:m,type:"VARIABLES"};function t(a){var b=a.children,e=a.domElementRef;a.message;a.nextMessage;a.prevMessage;var f=a.role,g=a.setHovered,i=a.stopHoveringRef,j=a.theme,k=j===void 0?s:j,m=a.xstyle,p=n(function(){return g(function(){return!1})},[g]);j=c("useMWPThreadTheme")();var q=j.threadTheme;return l.jsx(c("BaseThemeProvider.react"),{config:o(function(){return d("MWCombineThemeConfigs").combine(s,k)},[k]),children:function(a,j){return l.jsx("div",{className:(h||(h=c("stylex")))(a,m),onMouseEnter:function(){i.current&&i.current(),g(function(){return!0}),i.current=p},onMouseLeave:function(){if(i.current===p){p();i.current=function(){};return}},ref:e,role:f,style:babelHelpers["extends"]({},j,d("MWPThreadThemeGradientUtils").getStyleOverridesForThreadTheme(q)),children:b})}})}t.displayName=t.name+" [from "+f.id+"]";g.MWPBaseMessageListRowBeforeContent=a;g.MWPBaseMessageListRowBody=b;g.MWPBaseMessageListRowFooter=e;g.MWPBaseMessageListRow=t}),98);
__d("MWPBaseMessageRowHeaderTimestamp.react",["I64","MercuryTimestamp","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react");function a(a){var b=a.message,e=a.renderText,f=a.renderTimestamp;a=a.xstyle;return k.jsx("div",{className:(h||(h=c("stylex")))(a),children:e(f(c("MercuryTimestamp").getRelativeTimestamp((i||(i=d("I64"))).to_float(b.timestampMs))))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWPIsSenderAdMod",["I64","Int64Hooks","LSFactory","LSIntEnum","LSIssueCommunityAdminModerationActionsFetchStoredProcedure","ReQL","ReQLSuspense","asyncToGeneratorRuntime","pageID","promiseDone","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a,e){var g=(j||(j=c("useReStore")))();d("Int64Hooks").useEffectInt64(function(){var f=function(){var f=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){a!=null&&!(h||(h=d("I64"))).is_zero(a)&&(yield g.runInTransaction(function(b){return c("LSIssueCommunityAdminModerationActionsFetchStoredProcedure")(c("LSFactory")(b),{fbGroupId:a,requestId:c("pageID"),source:(i||(i=d("LSIntEnum"))).ofNumber(14),targetUserId:e})},"readwrite"))});return function(){return f.apply(this,arguments)}}();c("promiseDone")(f())},[g,a,e]);var k=d("ReQLSuspense").useFirst(function(){return a!=null?d("ReQL").fromTableAscending(g.table("community_members").index("communityContact")).getKeyRange(a,e,c("pageID")):d("ReQL").empty()},[g,a,e],f.id+":61"),l=(k==null?void 0:k.isAdmin)==null?!1:k.isAdmin;k=(k==null?void 0:k.isModerator)==null?!1:k.isModerator;return{isAdmin:l,isModerator:k}}g["default"]=a}),98);
__d("MWPMessageAdModOrHostText.react",["fbt","CometHovercardTrigger.react","CometMiddot.react","I64","MWCMHostTextHovercard.entrypoint","MWXText.react","react","useMWCMIsSenderChatHost","useMWPIsSenderAdMod"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||d("react");function l(a){var b=a.communityId,d=a.senderId,e=a.shouldRenderSenderName;a=a.threadKey;var f=c("useMWPIsSenderAdMod")(b,d),g=f.isAdmin;f=f.isModerator;b=c("useMWCMIsSenderChatHost")(b,a,d);d=h._("__JHASH__l4xCpI5VHpV__JHASH__");var i=h._("__JHASH__hz8R4t8GDy7__JHASH__");a=k.jsx(c("CometHovercardTrigger.react"),{align:"middle",display:"inline-block",popoverEntryPoint:c("MWCMHostTextHovercard.entrypoint"),popoverOtherProps:{onClose:function(){},threadKey:a},popoverProps:{},position:"above",children:function(a){return k.jsx(c("MWXText.react"),{ref:a,type:"meta4",children:h._("__JHASH__bZRJOb_t9fa__JHASH__")})}});return k.jsx(k.Fragment,{children:e&&(g||f||b)&&k.jsxs(k.Fragment,{children:[k.jsx(c("CometMiddot.react"),{}),k.jsx("span",{"data-testid":void 0,children:g?d:f?i:a})]})})}l.displayName=l.name+" [from "+f.id+"]";function a(a){var b=a.communityId,c=a.message;a=a.shouldRenderSenderName;return b==null||(j||(j=d("I64"))).is_zero(b)?null:k.jsx(l,{communityId:b,senderId:c.senderId,shouldRenderSenderName:a,threadKey:c.threadKey})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPMessageEyebrows.react",["fbt","Actor","I64","LSContactBitOffset","MWCMBotIcons.react","MWEditedEyebrow.react","MWGroupUpdatesVerifiedIcon.react","MWLSThread","MWMessageDisplayContext.react","MWPAccessibleEyebrowsText.react","MWPContactContext.react","MWPEditMessageUtil","MWPMessageAdModOrHostText.react","MWPMessageAuthor.react","MWPMessageListColumn.react","MWPThreadIsPage.react","ReQL","ReQLSuspense","justknobx","react","stylex","useMWPIsMessagePinned","usePinnedTextAnimation","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=l||d("react"),n={alignEnd:{justifyContent:"x13a6bvl",$$css:!0},alignStart:{justifyContent:"x1nhvcw1",$$css:!0},botBadge:{bottom:"x1c7jfne",paddingStart:"x1e558r4",paddingLeft:null,paddingRight:null,position:"x1n2onr6",$$css:!0},container:{display:"x78zum5",marginTop:"x1anpbxc",paddingBottom:"x10b6aqq",paddingStart:"x1ye3gou",paddingLeft:null,paddingRight:null,$$css:!0},separator:{paddingEnd:"x19um543",paddingLeft:null,paddingRight:null,paddingStart:"x1m6msm",$$css:!0}};function o(a){var b=a.children;a=a.outgoing;return m.jsx("div",{className:(i||(i=c("stylex")))(n.container,a?n.alignEnd:n.alignStart),children:b})}o.displayName=o.name+" [from "+f.id+"]";function a(a){var b=a.message,e=a.outgoing,g=a.renderPaidPartnerShipText,l=a.renderPinnedText,p=a.renderTextWrapper;a=a.shouldRenderSenderName;var q=d("MWPMessageAuthor.react").useAuthorName();q=q[0];var r=d("MWPContactContext.react").useMWPContactStableContext(),s=r.contact;r=r.nickname;var t=d("Actor").useActor();t=t[0];var u=d("MWMessageDisplayContext.react").useMWMessageDisplayContext(),v=(k||(k=c("useReStore")))(),w=d("MWLSThread").useThread(b.threadKey,function(a){return a.parentThreadKey}),x=d("ReQLSuspense").useFirst(function(){return w?d("ReQL").fromTableAscending(v.table("community_folders")).getKeyRange(w).map(function(a){return a.folderId}):d("ReQL").empty()},[v,w],f.id+":99"),y=d("MWPEditMessageUtil").isEditedMessage(b),z=d("MWPThreadIsPage.react").useIsPage();z=z&&!(j||(j=d("I64"))).equal(b.senderId,b.threadKey)&&!e;var A=a||z,B=s?d("LSContactBitOffset").has(77,s):!1,C=s?d("LSContactBitOffset").has(84,s):!1,D=c("useMWPIsMessagePinned")(b);a=c("usePinnedTextAnimation")(D);var E=a.mountAnimation,F=a.unmountAnimation,G=b.isPaidPartnership===!0;z=A||D||y||G;a=(s=r)!=null?s:h._("__JHASH__4LwiFWKMkVy__JHASH__");r=t===(j||(j=d("I64"))).to_string(b.senderId);s=r?a.toString():q==null?void 0:q.toString();t=h._("__JHASH__G4Bi2CYTkJR__JHASH__");if(!z)return m.jsx(c("MWPAccessibleEyebrowsText.react"),{message:b,outgoing:e});r=function(a){a=m.jsx(o,{outgoing:e,children:p(m.jsxs(m.Fragment,{children:[A&&a!=null&&m.jsx("span",{"data-testid":void 0,children:a}),m.jsx(c("MWPMessageAdModOrHostText.react"),{communityId:x,message:b,shouldRenderSenderName:A}),D&&m.jsx("span",{className:(i||(i=c("stylex")))(D?E:F),children:l(b,A)}),y&&m.jsx(c("MWEditedEyebrow.react"),{hasSeparator:A&&a!=null,xstyle:n.separator}),B===!0?m.jsx("span",{className:"x1c7jfne x1e558r4 x1n2onr6",children:m.jsx(d("MWCMBotIcons.react").BadgeIcon,{})}):null,C&&m.jsx("span",{className:"x1c7jfne x1e558r4 x1n2onr6",children:m.jsx(c("MWGroupUpdatesVerifiedIcon.react"),{})}),c("justknobx")._("1473")&&G&&g!=null&&g(b)]}))});return u==="reportMessages"?m.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:a}):m.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnWithGutters,{shrinkwrap:!0,children:a})};return b.takedownState!=null?r(t.toString()):r(s)}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPBaseMessageRowHeader.react",["BaseHeading.react","BaseRow.react","BaseRowItem.react","LSIntEnum","LSMessageReplySourceTypeV2","MWMessageDisplayContext.react","MWPAccessibleEyebrowsText.react","MWPBaseMessageRowHeaderTimestamp.react","MWPContactContext.react","MWPMessageEyebrows.react","MWPMessageIsReply","MWPMessageListColumn.react","MWPThreadIsPage.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||d("react"),l={alignEnd:{alignItems:"xuk3077",$$css:!0},header:{display:"x78zum5",flexDirection:"xdt5ytf",$$css:!0},timestamp:{marginTop:"x1anpbxc",paddingEnd:"x11eofan",paddingLeft:null,paddingRight:null,$$css:!0},timestampWithSnippet:{marginTop:"x1ok221b",paddingEnd:"x11eofan",paddingLeft:null,paddingRight:null,$$css:!0}};function m(a,b,e,f){var g=a.replySnippet;g=g!=null?g!=="":!1;var h=a.replySourceTypeV2!=null&&(j||(j=d("LSIntEnum"))).toNumber(a.replySourceTypeV2)===c("LSMessageReplySourceTypeV2").FORWARD;if(g)return e(a,f);return!h?null:b(a,f)}function a(a){a._fbGroupId;var b=a.alwaysRenderSenderName;b=b===void 0?!1:b;var e=a.isAnyCMThread;e=e===void 0?!1:e;var f=a.isFirstMessageInGroup,g=a.isGroupThread,i=a.message,j=a.outgoing,n=a.renderForwardSnippet,o=a.renderPaidPartnerShipText,p=a.renderPinnedText,q=a.renderReplySnippet,r=a.renderSenderName,s=a.renderTextWrapper;a=a.renderTimestamp;var t=c("MWPMessageIsReply")(i);n=m(i,n,q,j);q=d("MWPContactContext.react").useMWPContactStableContext();q=q.nickname;var u=d("MWMessageDisplayContext.react").useMWMessageDisplayContext();q=f&&q!=null&&e;e=b||g&&f&&!j&&!t||q;n!=null?b=k.jsx("div",{className:(h||(h=c("stylex")))(l.header,j?l.alignEnd:!1),role:"none",children:u==="reportMessages"?k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:n}):k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnWithGutters,{shrinkwrap:!0,children:n})}):r!=null?b=e?r(i):k.jsx(c("MWPAccessibleEyebrowsText.react"),{message:i,outgoing:j}):b=k.jsx(d("MWPThreadIsPage.react").Provider,{threadKey:i.threadKey,children:k.jsx(c("MWPMessageEyebrows.react"),{message:i,outgoing:j,renderPaidPartnerShipText:o,renderPinnedText:p,renderTextWrapper:s,shouldRenderSenderName:e})});g=n!=null?l.timestampWithSnippet:l.timestamp;t=a!=null?k.jsx(c("MWPBaseMessageRowHeaderTimestamp.react"),{message:i,renderText:s,renderTimestamp:a,xstyle:g}):null;if(f)return k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:k.jsxs(c("BaseRow.react"),{direction:j?"backward":"forward",children:[k.jsx(c("BaseRowItem.react"),{children:k.jsx(c("BaseHeading.react"),{children:b})}),t!=null?k.jsx(c("BaseRowItem.react"),{children:k.jsx(c("BaseHeading.react"),{children:t})}):null]})});else return b}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("XCometMessengerEphemeralMediaControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/messenger_ephemeral_media/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("MWPChatEphemeralButton.react",["fbt","I64","LSIntEnum","MWChatEphemeralMediaTemporarySeenState","MWXPressable.react","MWXSolidMessageBubble.react","MessagingAttachmentType","RavenMessagingState","XCometMessengerEphemeralMediaControllerRouteBuilder","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=i||d("react"),m=h._("__JHASH__wwWALtSTrAJ__JHASH__"),n=h._("__JHASH__6AjB8pge-ih__JHASH__"),o=h._("__JHASH__4zpYeMebeaQ__JHASH__"),p=h._("__JHASH__FLEPIyrCx7D__JHASH__"),q=h._("__JHASH__xeZnk_7Xp-N__JHASH__"),r=h._("__JHASH__TfJs-614iIk__JHASH__"),s={pill:{borderTopStartRadius:"xnwf7zb",borderTopEndRadius:"x40j3uw",borderBottomEndRadius:"x1s7lred",borderBottomStartRadius:"x15gyhx8",$$css:!0}};function t(a){var b=a.ariaLabel,e=a.attachment,f=a.buildURL,g=a.children,h=a.initiallyUnread,i=a.outgoing;a=a.shouldDisableOnOutgoing;f=f({attachment_id:e.attachmentFbid,message_id:e.messageId,thread_id:(j||(j=d("I64"))).to_string(e.threadKey)});e=e.ephemeralMediaState;if(e==null)return g;return a&&i||!((j||(j=d("I64"))).equal(e,(k||(k=d("LSIntEnum"))).ofNumber(c("RavenMessagingState").UNSEEN))||(j||(j=d("I64"))).equal(e,(k||(k=d("LSIntEnum"))).ofNumber(c("RavenMessagingState").SEEN))&&h)?g:l.jsx(c("MWXPressable.react"),{"aria-label":b,children:g,linkProps:{url:f},overlayRadius:"inherit",testid:void 0,xstyle:s.pill})}t.displayName=t.name+" [from "+f.id+"]";function a(a){var b=a.attachment,e=a.backgroundColor,f=a.buildURL,g=a.connectBottom,h=a.connectTop,i=a.outgoing,s=a.renderContent;a=a.shouldDisableOnOutgoing;a=a===void 0?!1:a;e=e!=null?e:"var(--wash)";f=f!=null?f:function(a){return c("XCometMessengerEphemeralMediaControllerRouteBuilder").buildURL(a)};var u=b.attachmentType,v=d("MWChatEphemeralMediaTemporarySeenState").isSeenThisSession((j||(j=d("I64"))).to_string(b.threadKey),b.attachmentFbid),w=b.ephemeralMediaState;w=w!=null?(j||(j=d("I64"))).equal(w,(k||(k=d("LSIntEnum"))).ofNumber(c("RavenMessagingState").UNSEEN))?"unseen":(j||(j=d("I64"))).equal(w,(k||(k=d("LSIntEnum"))).ofNumber(c("RavenMessagingState").SEEN))&&v?"seen":"expired":"expired";var x=w==="expired"||w==="seen"||i,y=null;switch((k||(k=d("LSIntEnum"))).toNumber(u)){case c("MessagingAttachmentType").EPHEMERAL_IMAGE:y=x?p:m;break;case c("MessagingAttachmentType").EPHEMERAL_VIDEO:y=x?q:n;break;default:y=x?r:o;break}return l.jsx(t,{ariaLabel:y,attachment:b,buildURL:f,initiallyUnread:v,outgoing:i,shouldDisableOnOutgoing:a,children:l.jsx(c("MWXSolidMessageBubble.react"),{connectBottom:g,connectTop:h,outgoing:i,style:{backgroundColor:e},children:s(b,w,v,y)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPMessageFooter.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.Children,l={container:{backgroundColor:"xcrg951",display:"x78zum5",height:"xmix8c7",justifyContent:"x13a6bvl",position:"x1n2onr6",width:"xh8yej3",zIndex:"x1vjfegm",$$css:!0},gutter:{flexBasis:"x1ohifd9",flexGrow:"x1c4vz4f",flexShrink:"xs83m0k",$$css:!0},items:{display:"x78zum5",transform:"x11z5cog",$$css:!0}};function a(a){var b=a.children,d=a.itemsXstyle,e=a.outgoing;a=a.xstyle;b=k.toArray(b).filter(Boolean);return b.length===0?null:j.jsxs("div",{className:(h||(h=c("stylex")))(l.container,a),role:"none",children:[b.map(function(a,b){return j.jsx("div",{className:(h||(h=c("stylex")))(l.items,d),role:"none",children:a},""+b)}),e?null:j.jsx("div",{className:"x1ohifd9 x1c4vz4f xs83m0k",role:"none"})]})}a.displayName=a.name+" [from "+f.id+"]";g.MWPMessageFooter=a}),98);
__d("MWPMessageWithAttachmentHasPoll",["I64","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){return(h||(h=d("I64"))).to_int32(h.and_((i||(i=d("LSIntEnum"))).ofNumber(32),a.displayedContentTypes))!==0}g["default"]=a}),98);
__d("MWPMessageListAttachmentContainer.react",["MWPMessageHasXMA","MWPMessageIsReply","MWPMessageListColumn.react","MWPMessageWithAttachmentHasPoll","react","stylex","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={container:{maxWidth:"x193iq5w",position:"x1n2onr6",zIndex:"x1vjfegm",$$css:!0},container_for_poll:{alignItems:"x6s0dn4",display:"x78zum5",flexDirection:"xdt5ytf",width:"xh8yej3",$$css:!0},container_for_xma:{width:"xh8yej3",$$css:!0},vr:{backgroundColor:"xcrg951",height:"x36qwtl",width:"xh8yej3",$$css:!0}};function a(a){var b=a.children,e=a.connectTop,f=a.message;a.outgoing;var g=a.paint;g=g===void 0?!0:g;var i=a.renderEmphasisRing;a=a.xmaLayout;var l=c("MWPMessageHasXMA")(f),m=c("MWPMessageIsReply")(f),n=c("MWPMessageWithAttachmentHasPoll")(f);f=f.text;f=f!=null?f!=="":!1;n=j.jsx("div",{className:(h||(h=c("stylex")))(k.container,l?k.container_for_xma:!1,n?k.container_for_poll:!1),"data-testid":void 0,children:b});return j.jsxs(j.Fragment,{children:[e&&(a===d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT||!l||!f)?j.jsx("div",{className:"xcrg951 x36qwtl xh8yej3"}):null,j.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{paint:!m&&g,children:i!=null?i(l,n):n})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWPGetAttachmentCTA",["I64","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b=(i||(i=c("useReStore")))();return d("ReQLSuspense").useFirst(function(){var c;return d("ReQL").fromTableAscending(b.table("attachment_ctas")).getKeyRange((c=a)!=null?c:(h||(h=d("I64"))).zero)},[b,a],f.id+":23")}g["default"]=a}),98);
__d("useMWPGetAttachments",["I64","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b=(i||(i=c("useReStore")))(),e=a.messageId,g=a.threadKey;return d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(b.table("attachments")).getKeyRange(g,e)},[b,e,g],f.id+":26").sort(function(a,b){return(h||(h=d("I64"))).compare(a.attachmentIndex,b.attachmentIndex)})}g["default"]=a}),98);
__d("MWPMessageListAttachment.react",["EntMessageReplyType","I64","LSIntEnum","MWPMessageListAttachmentContainer.react","MWPThreadCapabilitiesContext","MWVerticalRhythm","MessagingAttachmentType","gkx","react","useMWPGetAttachmentCTA","useMWPGetAttachments","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||d("react");function l(a){return(i||(i=d("I64"))).equal(a.attachmentType,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE))}function a(a){var b=a.connectBottom,e=a.connectTop,f=a.message,g=a.renderAudioAttachment,h=a.renderEmphasisRing,m=a.renderEphemeralMediaAttachment,n=a.renderFileAttachment,o=a.renderImageAttachment,p=a.renderImageGrid,q=a.renderStickerAttachment,r=a.renderUnsupportedAttachment,s=a.renderUnsupportedMultipleAttachments,t=a.renderVideoAttachment,u=a.renderWrapper,v=a.renderXMAAttachment;a=a.xmaLayout;var w=a===void 0?d("xmaLayouts").XMA_LAYOUTS.DEFAULT:a,x=c("useMWPGetAttachments")(f);a=c("useMWPGetAttachmentCTA")(x.length>0?x[0].attachmentCta1Id:null);var y=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext();y=y.blurMediaEnabled;y=c("gkx")("1581")&&y;if(f.replyType!=null&&(i||(i=d("I64"))).equal(f.replyType,(j||(j=d("LSIntEnum"))).ofNumber(c("EntMessageReplyType").BUMP)))return null;if(x.length!==1)x.length>1&&x.every(l)?y?y=x.map(function(a,b){return k.jsxs(k.Fragment,{children:[b!==0?k.jsx(c("MWVerticalRhythm"),{height:2}):null,k.jsx(c("MWPMessageListAttachmentContainer.react"),{connectTop:e,message:f,renderEmphasisRing:h,xmaLayout:w,children:o(a,b!==0,b!==x.length-1,r)})]},a.attachmentFbid)}):y=k.jsx(c("MWPMessageListAttachmentContainer.react"),{connectTop:e,message:f,renderEmphasisRing:h,xmaLayout:w,children:p(x)}):y=s!=null?s(x):void 0;else{p=x[0];s=p.attachmentType;s=!(i||(i=d("I64"))).equal(s,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").AUDIO));var z=p.attachmentType;y=k.jsx(c("MWPMessageListAttachmentContainer.react"),{connectTop:e,message:f,paint:s,renderEmphasisRing:h,xmaLayout:w,children:(i||(i=d("I64"))).equal(z,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE))||(i||(i=d("I64"))).equal(z,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE))?o(p,e,b,r):(i||(i=d("I64"))).equal(z,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO))?t(p):(i||(i=d("I64"))).equal(z,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").AUDIO))?g(p):(i||(i=d("I64"))).equal(z,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").STICKER))?q(p):(i||(i=d("I64"))).equal(z,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA))?v(p,a):(i||(i=d("I64"))).equal(z,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").FILE))?n(p):(i||(i=d("I64"))).equal(z,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").EPHEMERAL_IMAGE))||(i||(i=d("I64"))).equal(z,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").EPHEMERAL_VIDEO))?m(p):r(p)})}return y!=null?u!=null?u(y):y:null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPMessageListFocusTable.react",["FocusRegion.react","MWMessageTableFocusTable.react","MWV2MessageListIsRowModalContext.react","focusScopeQueries","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useCallback;function k(a,b,c){return b["data-scope"]==="date_break"}function a(a){var b=a.ariaLabel,c=a.children,e=a.modal,f=a.setModal,g=a.wrapX;g=g===void 0?!1:g;a=a.wrapY;a=a===void 0?!1:a;var h=j(function(a){var b=a.type;switch(b){case"PAGE_DOWN":case"PAGE_UP":break;default:return}b=a.type==="PAGE_DOWN";a.preventDefault();var c=a.currentRowIndex+(b?1:-1)|0,d=!1;while(!d){var e=a.getCell(c,a.currentCellIndex);if(e==null){var f=a.getCell(b?c-1|0:0,a.currentCellIndex);f!=null&&a.focusCell(f);d=!0}else{f=e.scopeRef.current;f=f!=null?f.DO_NOT_USE_queryFirstNode(k):null;f==null?c=b?c+1|0:c-1|0:(a.focusCell(e),d=!0)}}},[]);return i.jsx(d("MWV2MessageListIsRowModalContext.react").MWV2MessageListIsRowModalContextProvider,{value:f,children:i.jsx(d("FocusRegion.react").FocusRegion,{recoverFocusQuery:d("MWMessageTableFocusTable.react").scopeQuery,stopOnFocusWithinPropagation:!1,children:i.jsx(d("MWMessageTableFocusTable.react").FocusTable[0],{allowModifiers:!0,disabled:e!=="",onNavigate:h,tabScopeQuery:d("focusScopeQueries").tabbableScopeQuery,wrapX:g,wrapY:a,children:i.jsx("div",{"aria-label":b,className:"xh1n2d4 xu3j5b3 xol2nv x16jkurw x26u7qi x19p7ews x78zum5 xdt5ytf x1iyjqo2 x6ikm8r x10wlt62",role:"grid",children:c})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("KeyCommandHandler.react",["ReactKeyboardEvent.react","react"],(function(a,b,c,d,e,f,g){var h,i=h||(h=d("react")),j=h.useRef,k=i.unstable_Scope;function a(a){var b=a.children,c=a.onKeyDown;a=a.onKeyUp;var e=j(null);d("ReactKeyboardEvent.react").useKeyboard(e,{onKeyDown:c,onKeyUp:a});return i.jsx(k,{ref:e,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPMessageListRowWithKeyboardInteractions.react",["fbt","BaseHeadingContextWrapper.react","CometScreenReaderText.react","CometTimestamp.react","FocusInertRegion.react","FocusRegion.react","FocusWithinHandler.react","I64","KeyCommandHandler.react","MDSTextPairing.react","MWMessageCellFocusTable.react","MWMessageCellKeyCommands.react","MWMessageTableFocusTable.react","MWPBaseMessageListRow.react","MWPEditMessageUtil","MWPMessageAuthor.react","MWV2MessageListIsRowModalContext.react","MWV2MessageRowActionsContext.react","MWV2MessageRowIsRowFocusedContext.react","MWXPressable.react","ReactDOMComet","cr:4712","emptyFunction","focusScopeQueries","gkx","react","setTimeout","stylex","useCometTheme","useMWPEditMessageDeemphasizer","useServerTime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=j||(j=d("react"));e=j;var m=e.forwardRef,n=e.useCallback,o=e.useContext,p=e.useId,q=e.useMemo,r=e.useRef,s={cell:{display:"x78zum5",flexDirection:"xdt5ytf",position:"x1n2onr6",$$css:!0},cellFocusVisible:{zIndex:"x1vjfegm",$$css:!0},cellModal:{outline:"x1k66dxp",outlineOffset:"x1g40iwv","@media (-webkit-min-device-pixel-ratio: 0)_outline":"x1bkw7pg",$$css:!0},enterModalButton:{backgroundColor:"x1h0vfkc",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",boxShadow:"x152obne",end:"xlr8s2x",left:null,right:null,paddingTop:"xz9dl7a",paddingEnd:"xn6708d",paddingBottom:"xsag5q8",paddingStart:"x1ye3gou",position:"x10l6tqk",top:"x1qiirwl",transform:"x105ttfm",zIndex:"x1vjfegm",$$css:!0},enterModalButtonVisible:{opacity:"x1hc1fzr",$$css:!0},row:{position:"x1n2onr6",$$css:!0},visuallyHidden:{clip:"xzpqnlu",clipPath:"x1hyvwdk",height:"xjm9jq1",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x10l6tqk",width:"x1i1rx1s",$$css:!0}};function t(){}function u(a){var b=a.key;if(b==="ArrowUp"||b==="ArrowDown"||b==="ArrowLeft"||b==="ArrowRight"||b==="PageUp"||b==="PageDown"||b==="Home"||b==="End"){a.preventDefault();return}}var v=h._("__JHASH__U5V4JiyTDSI__JHASH__"),w=h._("__JHASH__GoIrDg5lzef__JHASH__"),x=h._("__JHASH__ctLNxPXr8we__JHASH__"),y=m(function(a,b){var d=a.text,e=a.xstyle,f=a.focusable,g=a.ariaLabel,h=a.onPress;a=c("useCometTheme")("invert");var i=a[1];return a[0]({children:l.jsx(c("MWXPressable.react"),{"aria-label":g,focusable:f,onPress:function(){return h()},ref:b,xstyle:[i,s.enterModalButton,e],children:l.jsx(c("MDSTextPairing.react"),{body:d,bodyColor:"primary",level:4})})})});function a(a){var e=a.children,f=a.domElementRef,g=a.isDialogOpened,j=a.isFocused,m=a.isModal,z=a.message,A=a.messageDomID,B=a.nextMessage,C=a.outgoing,D=a.prevMessage,E=a.setFocused,F=a.setHovered,G=a.setIsDialogOpened,H=a.stopHoveringRef;a=a.theme;var I=o(d("MWV2MessageListIsRowModalContext.react").context),J=r(null),K=p(),L=n(function(){I(function(){return z.messageId}),c("setTimeout")(function(){d("FocusRegion.react").focusRegionById(K,d("focusScopeQueries").tabbableScopeQuery)},0)},[I,z.messageId,K]),M=function(){I(function(){return""});var a=J.current;if(a!=null)return a.focus()},N=c("CometTimestamp.react").getTimestamp(c("useServerTime")(),new Date((k||(k=d("I64"))).to_float(z.timestampMs))),O=d("MWPMessageAuthor.react").useAuthorName();O=O[0];C=C?h._("__JHASH__g90cYI08lR4__JHASH__"):O!=null?O:h._("__JHASH__I4KHPAQ-RAf__JHASH__");var P=p(),Q=l.jsx(c("CometScreenReaderText.react"),{id:P,text:h._("__JHASH__BGN2Md9i0L4__JHASH__",[h._param("Stringified timestamp of the incoming message",N),h._param("Name of the author of the incoming message",C)])}),R=p(),S=r(null),T=c("gkx")("3598"),U=r(t),V=r(t),W=r(t),X=r(t);O=q(function(){return{isDialogOpened:g,setFocused:E,setIsDialogOpened:G}},[E,G,g]);N=q(function(){return{forwardMessage:W,openReactionsMenu:U,removeMessage:X,replyToMessage:V}},[U,V]);C=d("MWPEditMessageUtil").useGetEditMessageData()!=null;var Y=c("useMWPEditMessageDeemphasizer")(z.messageId),Z=function(a){if(j!==a){E(function(){return a});return I(function(){if((a||g)&&m)return z.messageId;else return""})}},$=function(a){j!==a&&E(function(){return a});var b=S.current;if(a&&b!=null){c("setTimeout")(function(){try{return b.scrollIntoView({behavior:"smooth",block:"nearest"})}catch(a){return b.scrollIntoView(!1)}},0);return}};return l.jsx(c("BaseHeadingContextWrapper.react"),{children:l.jsx(d("MWV2MessageRowIsRowFocusedContext.react").MWV2MessageRowIsRowFocusedContextProvider,{value:O,children:l.jsx(d("MWV2MessageRowActionsContext.react").MWV2MessageRowActionsContextProvider,{value:N,children:l.jsx(d("MWPBaseMessageListRow.react").MWPBaseMessageListRow,{domElementRef:f,message:z,nextMessage:B,prevMessage:D,role:"row",setHovered:C?c("emptyFunction"):F,stopHoveringRef:H,theme:a,xstyle:[s.row,Y],children:l.jsxs(l.Fragment,{children:[l.jsx(d("MWMessageTableFocusTable.react").FocusTable[1],{children:l.jsx(c("FocusWithinHandler.react"),{onFocusChange:C?void 0:Z,onFocusVisibleChange:C?void 0:$,children:function(a,b){a=l.jsx(d("MWMessageTableFocusTable.react").FocusTable[2],{children:l.jsx("div",{className:(i||(i=c("stylex")))(s.cell,m?s.cellModal:!1,b?s.cellFocusVisible:!1),"data-release-focus-from":"CLICK","data-scope":d("MWMessageTableFocusTable.react").scopeID,ref:J,role:"gridcell",tabIndex:0,children:l.jsx(c("FocusInertRegion.react"),{disabled:m,focusQuery:d("focusScopeQueries").tabbableScopeQuery,children:m?l.jsxs(l.Fragment,{children:[l.jsx(d("FocusRegion.react").FocusRegion,{autoFocusQuery:d("focusScopeQueries").tabbableScopeQuery,autoRestoreFocus:!0,containFocusQuery:d("focusScopeQueries").tabbableScopeQuery,id:K,recoverFocusQuery:d("focusScopeQueries").tabbableScopeQuery,children:l.jsx(c("KeyCommandHandler.react"),{onKeyDown:u,children:l.jsxs("div",{"aria-describedby":A,"aria-labelledby":P,id:R,role:"dialog",children:[e,m?Q:null,l.jsx(y,{ariaLabel:w,focusable:!0,onPress:M,text:h._("__JHASH__PEyi9JodUw1__JHASH__"),xstyle:s.enterModalButtonVisible})]})})}),d("ReactDOMComet").createPortal(l.jsx("div",{"aria-owns":R}),document.body)]}):e})})});return l.jsxs(l.Fragment,{children:[l.jsx(d("MWMessageCellFocusTable.react").keyCommands,{onEnter:m?void 0:L,onEscape:m?M:void 0,onSpace:m?void 0:L,children:T?l.jsx(d("MWMessageCellKeyCommands.react").keyCommands,{message:z,children:a}):a}),l.jsx("div",{role:"gridcell",children:l.jsx(y,{ariaLabel:m?h._("__JHASH__C-7ahaHTUI7__JHASH__"):v,focusable:m,onPress:L,ref:S,text:m?h._("__JHASH__C-7ahaHTUI7__JHASH__"):x,xstyle:b&&!m?s.enterModalButtonVisible:s.visuallyHidden})})]})}})}),b("cr:4712")&&l.jsx(b("cr:4712"),{messageId:z.messageId})]})})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPMessageLoggingWrapper.react",["CometHeroInteractionWithDiv.react","MWChatInteraction","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var b=a.children,e=a.messageId,f=a.optimisticMessageId;a=a.xstyle;e=d("MWChatInteraction").get(e);f=d("MWChatInteraction").get(f);e=(e=e)!=null?e:f;if(e==null)return j.jsx("div",{className:(h||(h=c("stylex")))(a),children:b});else return j.jsx(c("CometHeroInteractionWithDiv.react"),{interactionDesc:"MESSAGE_RENDER",interactionUUID:e,pageletName:"Message",xstyle:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPMessageReactions.react",["fbt","EmojiRenderer","I64","JSResourceForInteraction","LSFactory","LSIssueReactionsV2DetailsUsersListFetchStoredProcedure","LSPlatformWaitForTaskCompletion","MWChatReactionsUtils","MWReactionUtils","MWV2MessageRowIsRowFocusedContext.react","MWXPressable.react","ReQL","ReQLSuspense","intlList","promiseDone","react","useIsMultiReactionEnabled","useIsReactionDialogEnabled","useIsReactionsV2Enabled","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||(k=d("react")),m=k,n=m.useCallback,o=m.useContext,p=m.useDeferredValue,q=m.useMemo,r=m.useRef;function a(a){var b=(i||(i=c("useReStore")))(),e=a.messageId,g=a.threadKey;a=p(d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(b.table("reactions")).getKeyRange(g,e).map(function(a){return d("MWChatReactionsUtils").isHeart(a.reaction)?{actorId:a.actorId,authorityLevel:a.authorityLevel,messageId:a.messageId,reaction:d("MWChatReactionsUtils").heartType1,threadKey:a.threadKey,timestampMs:a.timestampMs}:a})},[g,e,b],f.id+":56"));return a}function b(a){var b=(i||(i=c("useReStore")))(),e=a.messageId,g=a.threadKey;a=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(b.table("reactions_v2")).getKeyRange(g,e)},[b,g,e],f.id+":81");return a}function e(a){var b=(i||(i=c("useReStore")))(),e=a.messageId,g=a.threadKey;a=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(b.table("reactions_v2")).getKeyRange(g,e).filter(function(a){return(j||(j=d("I64"))).gt(a.count,j.zero)})},[b,g,e],f.id+":97");return a}function s(a,b){a=a!=null?c("intlList")(a.map(function(a){return a.join("")}),c("intlList").CONJUNCTIONS.AND,c("intlList").DELIMITERS.COMMA):"";return h._("__JHASH__tSgM5wXgT0G__JHASH__",[h._plural(b,"number"),h._param("the comma separated list of emojis used to react on this message",a)])}function t(a){return a.map(function(a,b){b=d("EmojiRenderer").parse(a).map(function(a){return a.emoji});return b.length!==1?[""]:b[0]}).filter(function(a){return a.join("")!==""})}function u(a){var b=a.children,e=a.dialogResource,g=a.message,h=a.onPress;a.outgoing;var k=a.reactions,m=a.reactionsV2;a=a.shouldUseVariant16ForReactionsV2;var p=a===void 0?!1:a,u=g.messageId,v=g.threadKey;a=o(d("MWV2MessageRowIsRowFocusedContext.react").context);var w=a.setFocused,x=a.setIsDialogOpened,y=(i||(i=c("useReStore")))(),z=d("useIsReactionsV2Enabled").useIsReactionsV2Enabled(v);a=d("useIsMultiReactionEnabled").useIsMultiReactEnabled(v);var A=a?d("useIsMultiReactionEnabled").MAX_REACTION_COUNT:3,B=c("useIsReactionDialogEnabled")(v),C=r(new Map()),D=n(function(){z&&c("promiseDone")(c("LSPlatformWaitForTaskCompletion")(y,function(a){return c("LSIssueReactionsV2DetailsUsersListFetchStoredProcedure")(c("LSFactory")(a),{messageId:g.messageId,threadId:v})},"issueReactionsV2DetailsUsersListFetch").then(function(){return C.current.forEach(function(a){return a()})}))},[y,z,g.messageId,v]),E=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(y.table("reactions_v2")).getKeyRange(v,u).filter(function(a){return(j||(j=d("I64"))).gt(a.count,j.zero)}).map(function(a){var b=d("ReQLSuspense").first(d("ReQL").fromTableAscending(y.table("reaction_v2_types")).getKeyRange(a.reactionFbid),f.id+":206");b=p?b==null?void 0:b.reactionLiteralVariant16:b==null?void 0:b.reactionLiteral;return babelHelpers["extends"]({},a,{count:(j||(j=d("I64"))).to_int32(a.count),reactionLiteral:b})})},[y,v,u,p],f.id+":200");d("MWReactionUtils").useSortReactionsForBroadcastChat(E,v);A=m!=null&&z?t(Array.from(new Set(E.map(function(a){return(a=a.reactionLiteral)!=null?a:""}))).slice(0,A)):t(Array.from(new Set(k.map(function(a){a=a.reaction;return a}))).slice(0,A));m=m!=null&&z?(j||(j=d("I64"))).to_int32(E.reduce(function(a,b){return(j||(j=d("I64"))).add(a,j.of_int32(b.count))},(j||(j=d("I64"))).zero)):k.length;E=s(A,m);var F=r(null),G=q(function(){return e!=null?e:z?c("JSResourceForInteraction")("MWBroadcastChatReactionsDialog.react").__setRef("MWPMessageReactions.react"):c("JSResourceForInteraction")("MWV2ChatReactionsDialog.react").__setRef("MWPMessageReactions.react")},[e,z]),H=q(function(){return{message:g,onLoadComplete:function(a){C.current.set(a,a);return function(){C.current["delete"](a)}},thread:{threadKey:v}}},[g,v]),I=n(function(){x(function(){return!1}),w(function(){return!0})},[w,x]);G=c("useMWXLazyDialog")(G);var J=G[0],K=n(function(a){x(function(){return!0}),J(babelHelpers["extends"]({},H,{initialTab:a}),I),h==null?void 0:h(),D()},[H,I,h,x,J,D]);return a||!B?b(A,m,k,g,v,K):l.jsx(c("MWXPressable.react"),{"aria-label":E,onPress:function(){return K()},overlayDisabled:!0,ref:F,children:b(A,m,k,g,v,K)})}u.displayName=u.name+" [from "+f.id+"]";g.useReactions=a;g.useReactionsV2=b;g.useNonZeroCountReactionsV2=e;g.MWPMessageReactions=u}),98);
__d("useMWPAriaLabelForMessageListGrid",["fbt","Int64Hooks","MWPActor.react","MWPGetThreadTitle","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i;function a(a){var b=d("MWPActor.react").useActor(),e=(i||(i=c("useReStore")))(),g=d("ReQLSuspense").useArray(function(){return a.threadName!=null?d("ReQL").empty():d("ReQL").leftJoin(d("ReQL").fromTableAscending(e.table("participants"),["contactId","nickname"]).getKeyRange(a.threadKey),d("ReQL").fromTableAscending(e.table("contacts"),["name","rank","contactType","firstName","capabilities","capabilities2"])).take(8)},[e,a.threadKey,a.threadName],f.id+":32");return d("Int64Hooks").useMemoInt64(function(){var c;if(a.threadName!=null)return h._("__JHASH__NOo4A_R8oVU__JHASH__",[h._param("name of conversation",a.threadName)]).toString();c=(c=d("MWPGetThreadTitle").computeThreadTitle(void 0,a.threadType,g,b))!=null?c:"";return h._("__JHASH__KCW8qihKWub__JHASH__",[h._param("participant list",c)]).toString()},[b,g,a.threadName,a.threadType])}g["default"]=a}),98);
__d("useMWPCombineTextRenderers",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b={};a.forEach(function(a){if(a==null)return;var c=a[0];a=a[1];var d=b[c];b[c]=d!=null?d.concat([a]):[a]});return b}f["default"]=a}),66);
__d("useMWPLinkRendererFactory",["MWPThreadCapabilitiesContext","getMAWLinkEntityRenderer.react","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext(),e=b.disableLinks;return function(b,d,f,g){return c("gkx")("1886144")&&e?void 0:[f,c("getMAWLinkEntityRenderer.react")({encryptedLink:a,target:g,testid:d,xstyle:b})]}}g["default"]=a}),98);
__d("MWPBaseXMAAttachmentItem.react",["BaseImage.react","I64","LSIntEnum","LSMediaUrl.bs","MNLSXMALayoutType","MWPThreadCapabilitiesContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||(h=d("react")),l=h,m=l.createContext,n=l.createElement,o=l.useContext,p=new Set(["xma_rtc_video","xma_rtc_missed_video","xma_rtc_missed_group_video","xma_rtc_ended_video","xma_rtc_new_video_default","xma_rtc_new_video_from_fb_share","xma_rtc_new_video_from_fb_video_share","xma_rtc_new_video_from_cowatch_share","xma_rtc_cowatch_start_video"]),q=new Set(["xma_rtc_audio","xma_rtc_missed_audio","xma_rtc_missed_group_audio","xma_rtc_ended_audio","xma_rtc_new_audio_default","xma_rtc_new_audio_from_fb_share","xma_rtc_new_audio_from_fb_video_share","xma_rtc_new_audio_from_cowatch_share"]),r=m({hasAtLeastOneCta:!1,isDisabledRtcXma:!1,renderPressable:function(a){return null}});function a(a){var b=a.attachment,c=a.attachmentItem,e=a.children;a=a.renderPressable;var f=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext();f=f.hasLSThreadBitOffset;var g=f(25);f=f(24);b=b.defaultCtaType;c=c.attachmentCta1Id!=null;g=b!=null?q.has(b)&&!g||p.has(b)&&!f:!1;b={hasAtLeastOneCta:c,isDisabledRtcXma:g,renderPressable:a};return n(r.Provider,{children:!c&&!g?a(e):e,value:b})}function b(a){a=a.children;var b=o(r);if(b.hasAtLeastOneCta&&!b.isDisabledRtcXma)return b.renderPressable(a);else return a}var s={container:{display:"x78zum5",position:"x1n2onr6",width:"xh8yej3",$$css:!0},image:{flexGrow:"x1iyjqo2",height:"xt7dq6l",maxWidth:"x193iq5w",objectFit:"xl1xv1r",$$css:!0}};function e(a){var b=a.attachmentItem;a=a.url;var e=b.previewHeight;b=b.previewWidth;return k.jsx("div",{className:"x78zum5 x1n2onr6 xh8yej3",children:k.jsx(c("BaseImage.react"),{height:e!=null?(i||(i=d("I64"))).to_int32(e):void 0,src:a,width:b!=null?(i||(i=d("I64"))).to_int32(b):void 0,xstyle:s.image})})}e.displayName=e.name+" [from "+f.id+"]";function t(a){var b,c=a.attachment,e=a.attachmentItem,f=a.getPreviewUrl;a=a.preferLargePreview;a=a===void 0?!1:a;var g=d("LSMediaUrl.bs").AttachmentItem.playableUrl(e),h=d("LSMediaUrl.bs").Attachment.previewUrlLarge(c);b=a?(b=d("LSMediaUrl.bs").AttachmentItem.previewUrlLarge(e))!=null?b:d("LSMediaUrl.bs").AttachmentItem.previewUrl(e):d("LSMediaUrl.bs").AttachmentItem.previewUrl(e);f=f==null?d("LSMediaUrl.bs").Attachment.previewUrl(c):f(c,e);a=a&&h!=null?h:(c=b)!=null?c:f;h=e.playableUrlMimeType;b=h!=null?h.includes("video")?"video":h.includes("image")?"image":"unsupported":"unsupported";if(b==="video"&&g!=null)return{type:"Video",url:g};if(a!=null)return{type:"Image",url:a};return b==="image"&&g!=null?{type:"Image",url:g}:{type:"Unsupported"}}function u(a,b){var e=a.xmaLayoutType!=null&&!(i||(i=d("I64"))).equal(a.xmaLayoutType,(j||(j=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").HSCROLL)),f=b.titleText;f=f!=null||!e?f:a.titleText;b=b.subtitleText;e=b!=null||!e?b:a.subtitleText;return[f,e]}g.MWPBaseXMAAttachmentItemPressableContext=r;g.MWPBaseXMAAttachmentItemPressable=a;g.MWPBaseXMAAttachmentItemPressableNested=b;g.MWPBaseXMAAttachmentItemImage=e;g.getXMAAttachmentItemPreview=t;g.useTitleAndSubtitle=u}),98);
__d("CrossFilled12.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("g",{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsxs("g",{fillRule:"nonzero",children:[i.jsx("path",{d:"m98.095 917.155 7.75 7.75a.75.75 0 0 0 1.06-1.06l-7.75-7.75a.75.75 0 0 0-1.06 1.06z",transform:"translate(353.5 159)"}),i.jsx("path",{d:"m105.845 916.095-7.75 7.75a.75.75 0 1 0 1.06 1.06l7.75-7.75a.75.75 0 0 0-1.06-1.06z",transform:"translate(353.5 159)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("LSMessageRenderingType",[],(function(a,b,c,d,e,f){a=Object.freeze({DEFAULT:0,NON_COLLAPSIBLE_ADMIN_MESSAGE:1,HIDDEN:2});f["default"]=a}),66);
__d("LSVerifiedType",[],(function(a,b,c,d,e,f){a=Object.freeze({NOT_VERIFIED:0,DEFAULT:1,VERIFIED_FOOTER:2});f["default"]=a}),66);
__d("useMAWMarkThreadAsRead",["I64","Int64Hooks","LSAuthorityLevel","LSIntEnum","MAWJobDefinitions","MAWMiActOnActThreadReady","MAWTimedJob","WAJobOrchestratorTypes","promiseDone","useMWIsReadReceiptsDisabledForThread","useMWLSMarkThreadAsRead","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a,b){var e=(j||(j=c("useReStore")))(),f=c("useMWLSMarkThreadAsRead")(b,a.threadKey),g=c("useMWIsReadReceiptsDisabledForThread")(a.threadKey);return d("Int64Hooks").useCallbackInt64(function(){if((h||(h=d("I64"))).ge(a.authorityLevel,(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))){f();c("promiseDone")(d("MAWMiActOnActThreadReady").onActThreadReady(e,a.threadKey,"useMAWMarkThreadAsRead",function(a,b,c){return d("MAWTimedJob").TimedUIJobStarters.fireAndForget(d("MAWJobDefinitions").jobSerializers.markThreadAsRead(c,void 0,g,{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.HIGH}))}));return}},[a.authorityLevel,a.threadKey,f,e,g])}g["default"]=a}),98);
__d("useMWMarkThreadAsReadWhenNewMessagesArrive",["I64","MWLSThreadDisplayContext","MWV2IsTabFocusedContext.react","ReQL","UserActivity","asyncToGeneratorRuntime","cr:268","emptyFunction","gkx","promiseDone","react","useMWInboxPassiveContext","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;e=i||d("react");var k=e.useCallback,l=e.useEffect,m=(f=b("cr:268"))!=null?f:c("emptyFunction");function n(a,b,c,d,e){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g){var h=(yield d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.table("messages")).getKeyRange(b)));if(h==null)return!1;a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("threads")).getKeyRange(b)));if(a==null)return!1;b=g!==void 0?g==="ChatTab"?e:g==="Inbox"&&c("gkx")("6531")?!f.isPassive:!0:!0;e=(j||(j=d("I64"))).gt(h.timestampMs,a.lastActivityTimestampMs)?h.timestampMs:a.lastActivityTimestampMs;g=(j||(j=d("I64"))).gt(e,a.lastReadWatermarkTimestampMs);return c("UserActivity").isOnTab()&&c("UserActivity").isActive()&&b&&g});return o.apply(this,arguments)}function p(a,e){var f=(h||(h=c("useReStore")))(),g=d("MWV2IsTabFocusedContext.react").useIsTabFocused(),i=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),j=c("useMWInboxPassiveContext")();return k(function(){c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(yield n(f,a,g,j,i))return e()})())},[f,a,g,j,i,e])}function q(a,c,d){l(function(){var e=function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=a();typeof b!=="boolean"&&(b=(yield b));if(b&&!c())return d()});return function(){return e.apply(this,arguments)}}();window.addEventListener("focus",e);document.hasFocus()&&void e();return function(){return window.removeEventListener("focus",e)}},[d,a,c])}function a(a,b,c,d){b=p(a.threadKey,b);m(a);q(c,d,b);return b}g["default"]=a}),98);
__d("MAWFetchMoreMessagesWhenEnabled",["cr:1501","cr:7005"],(function(a,b,c,d,e,f,g){"use strict";c=(a=b("cr:7005"))!=null?a:b("cr:1501");d=c;g["default"]=d}),98);
__d("MWPJumpToMostRecentMessageButtonAnimationWrapper.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useEffect,l=b.useMemo,m=b.useState,n={animateIn:{animationDuration:"x5hsz1j",animationName:"x1j49z95",transform:"x1dufm33",$$css:!0},animateOut:{animationDuration:"x5hsz1j",animationName:"x1j4bph1",transform:"xk9af5f",$$css:!0},animationWrapper:{bottom:"x1ey2m1c",start:"x14yxtea",left:null,right:null,position:"x10l6tqk",zIndex:"x1vjfegm",$$css:!0},root:{height:"xqtp20y",position:"x1n2onr6",width:"xh8yej3",$$css:!0}};function a(a){var b=a.children,d=a.visible;a=m(d);var e=a[0],f=a[1];k(function(){d&&f(!0)},[d,f]);return l(function(){return e?j.jsx("div",{className:"xqtp20y x1n2onr6 xh8yej3",children:j.jsx("div",{className:(h||(h=c("stylex")))([n.animationWrapper,d?n.animateIn:n.animateOut]),onAnimationEnd:function(a){d||f(!1)},children:b})}):null},[d,e,f,b])}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWScrollUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a){a.scrollIntoView()}f.scrollElementIntoView=a}),66);
__d("useShallowEqualState",["react","shallowEqual"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useState;function a(a){a=j(a);var b=a[0],d=a[1];a=i(function(a){if(typeof a==="function"){var b=a;return d(function(a){var d=b(a);return c("shallowEqual")(a,d)?a:d})}return d(function(b){return c("shallowEqual")(b,a)?b:a})},[]);return[b,a]}g["default"]=a}),98);
__d("MWPBaseMessageList.react",["BaseHeadingContextWrapper.react","Box.react","CometHeroHoldTrigger.react","FBLogger","I64","Int64Hooks","LSAuthorityLevel","LSFactory","LSIntEnum","LSIssueMessagesRangeQuery","LSMailboxMessagesRangeQueryDirection","LSMessagePointQuery","LSMessageRenderingType","LSMessagingThreadTypeUtil","LSOptimisticMarkThreadReadV2","MAWFetchMoreMessagesWhenEnabled","MWPJumpToMostRecentMessageButtonAnimationWrapper.react","MWPMessageAuthor.react","MWPVisibleMessageContext.react","MWScrollUtils","Promise","PromiseOrValue","ReQL","ReQLPaginatedList.react","ReQLPaginatedList.shared","ReQLSuspense","ReStoreKeyComparer","ServerTime","asyncToGeneratorRuntime","cr:5053","emptyFunction","gkx","nullthrows","promiseDone","react","requestAnimationFrame","useMAWMarkThreadAsRead","useMWMarkThreadAsReadWhenNewMessagesArrive","useReStore","useShallowEqualState","useUnsafeRef_DEPRECATED"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m,n,o,p=k||(k=d("react"));e=k;var q=e.useCallback,r=e.useEffect,aa=e.useImperativeHandle,ba=e.useRef,ca=e.useState,da=(e=b("cr:5053"))!=null?e:c("emptyFunction"),s={list:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",isolation:"xc8icb0",overflowX:"x6ikm8r",overflowY:"x10wlt62",zIndex:"x1ja2u2z",$$css:!0},spacer:{backgroundColor:"xcrg951",display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",$$css:!0}},ea=(l||(l=d("I64"))).of_string("9999999999999");function t(a){var b=a.isCollapsed,c=a.messageId,e=a.primarySortKey;a=a.secondarySortKey;return d("ReQL").key(e,a,c,b)}function fa(a,b){if(a==null||b==null)return;return(l||(l=d("I64"))).compare(b,a.maxTimestampMs)<=0?a:null}function ga(a,b,d,e){c("promiseDone")(a.runInTransaction(function(a){return c("LSMessagePointQuery")(b,d,e,void 0,c("LSFactory")(a))},"readwrite","ui"))}function ha(a,b,c){var d=a.get(b);d==null&&(d=c(),a.set(b,d));return d}function u(a,b){var c=new WeakMap();function e(a){return a.gt!=null?{gt:a.gt.slice(1)}:{gte:a.gte.slice(1)}}function f(a){return a.lt!=null?{lt:a.lt.slice(1)}:{lte:a.lte.slice(1)}}function g(a){return a==null?void 0:babelHelpers["extends"]({},a.gte!=null||a.gt!=null?e(a):{},a.lte!=null||a.lt!=null?f(a):{})}return Object.setPrototypeOf({direction:a.direction,iterator:function(e,f){var g={};if(f){if(f.gt!=null){var h=f.gt,i=(m||(m=d("ReStoreKeyComparer"))).compareValue(b,h[0]);if(i===0)if(h.length===1)return{next:function(){return{done:!0}}};else g.gt=h.slice(1);else if(i<0)return{next:function(){return{done:!0}}}}if(f.gte!=null){h=f.gte;i=(m||(m=d("ReStoreKeyComparer"))).compareValue(b,h[0]);if(i===0)g.gte=h.slice(1);else if(i<0)return{next:function(){return{done:!0}}}}if(f.lte!=null){h=f.lte;i=(m||(m=d("ReStoreKeyComparer"))).compareValue(b,h[0]);if(i===0)h.length!==1&&(g.lte=h.slice(1));else if(i>0)return{next:function(){return{done:!0}}}}if(f.lt!=null){h=f.lt;i=(m||(m=d("ReStoreKeyComparer"))).compareValue(b,h[0]);if(i===0)if(h.length===1)return{next:function(){return{done:!0}}};else g.lt=h.slice(1);else if(i>0)return{next:function(){return{done:!0}}}}}var j=a.iterator(e,g);return{next:function(a){return(o||(o=d("PromiseOrValue"))).map(j.next(a==null?void 0:a.slice(1)),function(a){if(a.done)return{done:!0};var d=c.get(a.value[0]);d==null&&(d=[b].concat(a.value[0]),c.set(a.value[0],d));return{done:!1,value:[d,a.value[1]]}})}}},keyLength:a.keyLength+1,subscribe:function(d,e){return a.subscribe(function(a,e,f){var g=c.get(a);g==null&&(g=[b].concat(a),c.set(a,g));return d(g,e,f)},g(e))}},d("ReQL").prototype)}function ia(a){var b=(i||(i=c("useReStore")))();return d("ReQLSuspense").useFirst(function(){return a==null||(l||(l=d("I64"))).equal(a.minTimestampMs,(l||(l=d("I64"))).zero)?d("ReQL").empty():d("ReQL").fromTableAscending(b.table("messages"),["isCollapsed","messageId","primarySortKey","secondarySortKey"]).getKeyRange(a.threadKey).bounds({gte:d("ReQL").key(a.minTimestampMs,a.minMessageId)})},[b,a],f.id+":372")}function ja(a){var b=(i||(i=c("useReStore")))();return d("ReQLSuspense").useFirst(function(){return a==null||(l||(l=d("I64"))).equal(a.maxTimestampMs,ea)?d("ReQL").empty():d("ReQL").fromTableDescending(b.table("messages"),["isCollapsed","messageId","primarySortKey","secondarySortKey","timestampMs"]).getKeyRange(a.threadKey).bounds({lte:d("ReQL").key(a.maxTimestampMs,a.maxMessageId)})},[b,a],f.id+":398")}function ka(){return!1}function a(a,e){var g,k=a.entryPoint,m=a.onInitialLoadingCompleted,o=a.logScrollerMetadata,la=a.onUserScroll,ma=a.renderFooter,v=a.renderHeader,na=a.renderHeaderContentSpacer,oa=a.renderJumpToMostRecentMessageButton,w=a.renderLoadingAnimation,pa=a.renderRow,x=a.secondaryThread,y=a.thread,z=a.checkIsThreadManuallySetAsUnread,A=z===void 0?ka:z;z=a.pageSize;var B=a.onScrollToBottom,qa=a.isSufficientContentLoadedAbove;a=a.triggerRenderingCompleteOnResize;var ra=a===void 0?!1:a;function C(a,e,f,g){c("promiseDone")(a.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b,h;b=(yield (b=a.table("messages_ranges_v2__generated")).get.apply(b,e));if(b==null||(g==="before"?b.isLoadingBefore:b.isLoadingAfter))return;h=f==null?null:yield (h=a.table("messages_ranges_v2__generated")).get.apply(h,f);if(f!=null&&(h==null||(g==="before"?h.isLoadingBefore:h.isLoadingAfter)))return;if(g==="before")if(h==null||b.hasMoreBefore){var i=d("LSMessagingThreadTypeUtil").isSecure(E);if(i){if(J!=null)return J(a,b.threadKey,"before")}else return c("LSIssueMessagesRangeQuery")(b.threadKey,b.minTimestampMs,(n||(n=d("LSIntEnum"))).ofNumber(c("LSMailboxMessagesRangeQueryDirection").BEFORE),c("LSFactory")(a))}else{i=d("LSMessagingThreadTypeUtil").isSecure(c("nullthrows")(sa));if(i){if(J!=null)return J(a,h.threadKey,"before")}else return c("LSIssueMessagesRangeQuery")(h.threadKey,h.minTimestampMs,(n||(n=d("LSIntEnum"))).ofNumber(c("LSMailboxMessagesRangeQueryDirection").BEFORE),c("LSFactory")(a))}else if(h==null||b.hasMoreAfter){i=d("LSMessagingThreadTypeUtil").isSecure(E);if(i)if(c("gkx")("6884")){if(J!=null)return J(a,b.threadKey,"after")}else throw c("FBLogger")("messenger_web_product").mustfix("Not possible to fetch more after for secure messages");else return c("LSIssueMessagesRangeQuery")(b.threadKey,b.minTimestampMs,(n||(n=d("LSIntEnum"))).ofNumber(c("LSMailboxMessagesRangeQueryDirection").AFTER),c("LSFactory")(a))}else{i=d("LSMessagingThreadTypeUtil").isSecure(c("nullthrows")(sa));if(i)if(c("gkx")("6884")){if(J!=null)return J(a,h.threadKey,"after")}else throw c("FBLogger")("messenger_web_product").mustfix("Not possible to fetch more after for secure messages");else return c("LSIssueMessagesRangeQuery")(h.threadKey,h.minTimestampMs,(n||(n=d("LSIntEnum"))).ofNumber(c("LSMailboxMessagesRangeQueryDirection").AFTER),c("LSFactory")(a))}});return function(b){return a.apply(this,arguments)}}(),"readwrite","ui"))}var D=y.threadKey,E=y.threadType;a=x||{};var F=a.threadKey,sa=a.threadType,G=(i||(i=c("useReStore")))(),H=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableDescending(G.table("messages_ranges_v2__generated")).getKeyRange(D)},[G,D],f.id+":609");a=d("ReQLSuspense").useFirst(function(){return F==null?d("ReQL").empty():d("ReQL").fromTableDescending(G.table("messages_ranges_v2__generated")).getKeyRange(F)},[G,F],f.id+":616");var I=(j||(j=c("useUnsafeRef_DEPRECATED")))(new Map()),J=c("MAWFetchMoreMessagesWhenEnabled")==null?void 0:c("MAWFetchMoreMessagesWhenEnabled").useFetchSecureMessages(E),K=d("MWPVisibleMessageContext.react").useMWPVisibleMessageContext(),ta=K.setVisibleMessage,L=K.visibleMessage;K=(K=L)!=null?K:{};var M=K.messageId,N=K.timestamp,O=d("ReQLSuspense").useFirst(function(){return M!=null&&N!=null?d("ReQL").fromTableAscending(G.table("messages"),["isCollapsed","messageId","primarySortKey","secondarySortKey"]).getKeyRange(D,N,M):d("ReQL").empty()},[G,D,M,N],f.id+":639"),P=fa(d("ReQLSuspense").useFirst(function(){return N!=null?d("ReQL").fromTableDescending(G.table("messages_ranges_v2__generated")).getKeyRange(D).bounds({lte:[N]}):d("ReQL").empty()},[G,N,D],f.id+":652"),N);K=c("useShallowEqualState")({displayMessage:void 0,displayMessagesRange:H});var Q=K[0],ua=K[1];K=Q.displayMessage;var R=Q.displayMessagesRange;d("Int64Hooks").useEffectInt64(function(){M==null||N==null?ua(function(a){return babelHelpers["extends"]({},a,{displayMessage:void 0,displayMessagesRange:H})}):P==null?ga(G,D,M,E):P.minMessageId===M&&P.hasMoreBefore?C(G,d("ReQL").key(P.threadKey,P.minTimestampMs,P.minMessageId),null,"before"):P.maxMessageId===M&&P.hasMoreAfter?C(G,d("ReQL").key(P.threadKey,P.minTimestampMs,P.minMessageId),null,"after"):O!=null&&ua(function(a){return babelHelpers["extends"]({},a,{displayMessage:O,displayMessagesRange:P})})},[G,O,M,P,H,D,E,N]);r(function(){var a;a=(a=I.current.get(L==null?void 0:L.messageId))==null?void 0:a.current;a!=null&&d("MWScrollUtils").scrollElementIntoView(a)},[L]);Q=ia(R);var S=ja(R),va=ia(a),T=da({entryPoint:k,threadKey:D,threadType:E});k=ca(!0);var wa=k[0],xa=k[1],U=ba(!1);k=q(function(){if(!ra)return;if(m==null||U.current)return;m(!1);U.current=!0},[m,ra]);var V=ba(null);g=(g=V.current)!=null?g:{};var W=g.doesContentFillScroll,ya=g.onCloseToBottom;r(function(){var a;if(m==null||U.current)return;if(R!=null&&!R.hasMoreBefore){m(!0);U.current=!0;return}o&&o((a=(a=V.current)==null?void 0:a.getScrollerMeasurements())!=null?a:void 0,R===H);if(W==null)return;if(W()){m(!1);U.current=!0;return}},[m,R,o,H,W]);r(function(){var a;a=(a=V.current)==null?void 0:a.onCloseToBottom;if(a!=null)return a(600,function(a){return xa(a)})},[]);r(function(){var a;a=(a=V.current)==null?void 0:a.onCloseToBottom;if(a!=null&&B!=null)return a(36,function(a){return B(a)})},[B]);var za=R!=null?!R.hasMoreAfter:!1;g=q(function(){return new(h||(h=b("Promise")))(function(a){var b=V.current;b==null?a(!1):c("requestAnimationFrame")(function(){a(b.isAtBottom()&&za)})})},[za,V]);var Aa=c("useMAWMarkThreadAsRead")(y),Ba=d("LSMessagingThreadTypeUtil").isSecure(E),Ca=c("useMWMarkThreadAsReadWhenNewMessagesArrive")(y,d("Int64Hooks").useCallbackInt64(function(){T==null?void 0:T();if(Ba){Aa();return}c("promiseDone")(G.runInTransaction(function(a){return c("LSOptimisticMarkThreadReadV2")(D,(l||(l=d("I64"))).of_float(d("ServerTime").getMillis()),c("LSFactory")(a))},"readwrite","ui"))},[T,D,Aa,Ba,G]),g,A);r(function(){if(ya!=null)return ya(0,function(a){a&&!A()&&Ca()})},[ya,Ca,A]);g=d("Int64Hooks").useMemoInt64(function(){var a=G.table("messages").index("messageDisplayOrder"),b=d("LSMessagingThreadTypeUtil").isCMSubthread(y.threadType),e=G.table("messages").index("messageSubthreadKey");function f(a,b){var e=a.getKeyRange(y.threadKey).filter(function(a){var b=a.isCollapsed;a=a.messageRenderingType;return!b&&!(l||(l=d("I64"))).equal(a,(l||(l=d("I64"))).of_int32(c("LSMessageRenderingType").HIDDEN))});return x==null?b!=null?d("ReQL").union(u(b.getKeyRange(D),0),u(e,1)):u(e,1):d("ReQL").union(u(a.getKeyRange(x.threadKey).filter(function(a){a=a.isCollapsed;return!a}),0),u(e,1))}var g=f(d("ReQL").fromTableAscending(a),b?d("ReQL").fromTableAscending(e):void 0);f=f(d("ReQL").fromTableDescending(a),b?d("ReQL").fromTableDescending(e):void 0);return d("ReQLPaginatedList.shared").fromIterables(g,f)},[G,x==null?void 0:x.threadKey,y.threadKey,y.threadType]);var X=R!=null&&(l||(l=d("I64"))).equal(R.maxTimestampMs,ea),Y=R!=null&&(l||(l=d("I64"))).equal(R.minTimestampMs,(l||(l=d("I64"))).zero),Da=a!=null&&(l||(l=d("I64"))).equal(a.minTimestampMs,(l||(l=d("I64"))).zero);function Ea(){R===H&&(V.current!=null&&V.current.scrollToBottom()),ta(function(){return void 0})}aa(e,function(){return{getScrollAreaElement:function(){var a;return(a=V.current)==null?void 0:a.getScrollAreaElement()},jumpToMostRecentMessage:function(b){function a(){return b.apply(this,arguments)}a.toString=function(){return b.toString()};return a}(function(){Ea()}),restoreScrollPosition:function(){var a;return(a=V.current)==null?void 0:a.restoreScrollPosition()}}});e=q(function(a,b){var c=b.nextItem;b=b.previousItem;return p.jsx(d("MWPMessageAuthor.react").MWPMessageAuthor,{contactId:a.senderId,threadKey:a.threadKey,children:pa({domElementRef:ha(I.current,a.messageId,function(){return{current:null}}),message:a,nextMessage:c,prevMessage:b})},a.offlineThreadingId)},[I,pa]);var Z=(l||(l=d("I64"))).equal(y.authorityLevel,(n||(n=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC))&&d("LSMessagingThreadTypeUtil").isCMSubthread(y.threadType);if((R==null||Q==null&&!Y||S==null&&!X)&&!Z){if((l||(l=d("I64"))).equal(y.authorityLevel,(n||(n=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC)))return p.jsxs(p.Fragment,{children:[p.jsx(c("CometHeroHoldTrigger.react"),{description:"MWChatWaitingForDisplayState-optimisticThread",hold:!0}),v!=null?v():null]});Y=R==null?"displayMessagesRangeNull":Q==null&&!Y?"noMinMessage":S==null&&!X?"noMaxMessage":"other";return p.jsxs(p.Fragment,{children:[p.jsx(c("CometHeroHoldTrigger.react"),{description:"MWChatWaitingForDisplayState-"+Y,hold:!0}),w!=null?w():null]})}var $=!Z&&R!=null?d("ReQL").key(R.threadKey,R.minTimestampMs,R.minMessageId):null,Fa=a==null?null:d("ReQL").key(a.threadKey,a.minTimestampMs,a.minMessageId);X=K==null?"bottom":[1].concat(t(K));Y=Q==null?va==null||Da?null:[0].concat(t(va)):[1].concat(t(Q));K=S==null?null:[1].concat(t(S));return p.jsxs(c("Box.react"),{xstyle:s.list,children:[p.jsx(c("CometHeroHoldTrigger.react"),{description:"MWChatLoadingMoreMessages",hold:!Z&&R!=null?R.isLoadingBefore||Boolean(a==null?void 0:a.isLoadingBefore):!1}),p.jsx(c("BaseHeadingContextWrapper.react"),{children:p.jsx(c("ReQLPaginatedList.react"),{bounds:{gte:Y,lte:K},data:g,hasReachedBottom:!Z&&R!=null?!R.hasMoreAfter:!0,hasReachedTop:!Z&&R!=null?a==null?!(R.hasMoreBefore||x!=null):!(R.hasMoreBefore||a.hasMoreBefore):!0,imperativeRef:V,initialAnchor:X,initialRenderComplete:k,isSufficientContentLoadedAbove:qa,onReachingBottom:!Z&&$!=null?function(){C(G,$,Fa,"after")}:c("emptyFunction"),onReachingTop:!Z&&$!=null?function(){return C(G,$,Fa,"before")}:c("emptyFunction"),onUserScroll:la,pageSize:z,renderFooter:ma,renderHeader:v,renderHeaderContentSpacer:na!=null?na:function(){return p.jsx(c("Box.react"),{xstyle:s.spacer})},renderItem:e,renderLoadingAnimation:w,xstyle:s.list})}),oa&&p.jsx(c("MWPJumpToMostRecentMessageButtonAnimationWrapper.react"),{visible:!Z&&R!=null?!wa||R.hasMoreAfter:!1,children:oa(Ea)})]})}a.displayName=a.name+" [from "+f.id+"]";e=p.forwardRef(a);g["default"]=e}),98);